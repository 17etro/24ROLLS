{"version":3,"sources":["components/HeadingBlock/index.jsx","components/MobileFilters/MobileFilters.js","page/PageWrapper/index.jsx"],"names":["HeadingBlock","title","h","svg","className","MobileFilters","props","useCustomStore","state","dispatch","filters","map","el","blockedFilters","includes","_id","style","filterMode","border","onClick","type","ACTIONS","DROP_FILTER","SET_FILTER","filterId","alt","src","backendUrl","image","PageWrapper","React","memo","t","useTranslation","useState","filteredGoods","setFilteredGoods","article","setArticle","response","setResponse","loading","setLoading","err","setErr","useEffect","axios","get","url","then","res","console","log","data","products","setBreadProd","catch","finally","createJSONLD","description","name","numberOfItems","length","itemListElement","category","material","productID","slogan","name_ru","brand","address","location","description_ru","offers","offeredBy","seller","priceCurrency","price","percent","JSON","stringify","cityShop","store","customOptions","city","goodsWithCity","filter","valid","shop","forEach","categoryId","Helmet","async","seo_title","content","seo_description","potentialAction","target","contactPoint","telephone","contactType","areaServed","contactOption","availableLanguage","sameAs","Spinner","ErrorIndicator","CustomFoodBlock","key","food","width","window","innerWidth","smallMode","height","onLoad","obj","contentWindow","document","documentElement","scrollHeight","verflow","fontFamily","srcDoc"],"mappings":"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","file":"static/js/4.e3dcf77e.chunk.js","sourcesContent":["import { props } from 'ramda';\nimport React from 'react';\nimport './index.scss';\n\nconst HeadingBlock = ({title, svg, h}) => {\n    return (\n        <div className=\"heading-blog\">\n            {h === 'h1' ? \n            <h1>\n                {title}\n            </h1> :\n            <h2>\n                {title}\n            </h2>}\n        </div>\n    )\n}\n\nexport default HeadingBlock;","import React from 'react';\nimport { backendUrl, blockedFilters } from '../../config/config';\nimport { useCustomStore } from '../../context/useStore';\nimport { ACTIONS } from '../../context/providerContext';\n\nimport './mobileFilters.scss';\n\nconst MobileFilters = (props) => {\n\n    const { state, dispatch } = useCustomStore();\n\n    return (\n        <div className=\"mobile-filters-block-content\">\n            {props.filters && props.filters.map((el) => {\n                if (blockedFilters.includes(el._id)) {\n                    return null;\n                } else {\n                    return (\n                        <div \n                        key={el._id}\n                        className=\"mobile-filters-block-content__container\"\n                        style={state.filterMode === el._id ? { border: '2px solid #F89F46'} : null}>\n                        <img\n                            onClick={\n                                state.filterMode === el._id ?\n                                () => dispatch({ type: ACTIONS.DROP_FILTER }) \n                                :\n                                () => dispatch({ type: ACTIONS.SET_FILTER, filterId: el._id })\n                            }\n                            className=\"mobile-filters-block-content__container__item\"\n                            alt={el.alt || \"24rolls\"}\n                            src={backendUrl + '/' + el.image} \n                        />\n                        </div>\n                    );\n                }\n            })}\n        </div>\n    );\n};\n\nexport default MobileFilters;","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport store from \"store\";\nimport { backendUrl } from \"../../config/config\";\nimport { useTranslation } from \"react-i18next\";\nimport { useCustomStore } from \"../../context/useStore\";\nimport { Helmet } from \"react-helmet\";\nimport { string } from \"prop-types\";\n\nimport \"./index.scss\";\nimport CustomFoodBlock from \"../../components/CustomFoodBlock\";\nimport HeadingBlock from \"../../components/HeadingBlock\";\nimport MobileFilters from \"../../components/MobileFilters/MobileFilters\";\nimport Spinner from \"../../components/Spinner\";\nimport ErrorIndicator from \"../../components/Errors/ErrorIndicator\";\n\nconst PageWrapper = React.memo((props) => {\n  const { t } = useTranslation();\n  const [filteredGoods, setFilteredGoods] = useState([]);\n  const [article, setArticle] = useState(false);\n  const [response, setResponse] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(false);\n\n  const { state } = useCustomStore();\n\n  useEffect(() => {\n    setLoading(true);\n\n    axios\n      .get(backendUrl + props.url)\n      .then((res) => {\n        console.log(res);\n        if (props.type === 'filter') {\n          setResponse(res.data);\n        } else {\n          setResponse(res.data.products);\n        }\n        setArticle(res.data.article);\n        props.setBreadProd(res.data.products);\n        setErr(false);\n      })\n      .catch((err) => {\n        setErr(true);\n      })\n      .finally(() => setLoading(false));\n  }, []);\n  const onLoadIFrame = (obj) => {\n  //  obj.target.style.height ='1800px';\n    obj.target.style.height = 300 + obj.target.contentWindow.document.documentElement.scrollHeight + 'px';\n\n   // obj.target.style.width = obj.target.contentWindow.document.documentElement.width + 'px';\n  };\n\n  const createJSONLD = () => {\n    const data = {\n      \"@context\": \"https://schema.org/\",\n      \"@type\": \"ItemList\",\n      description: `${props.title} Доставка. Заказывай ${props.title} с бесплатной доставкой в Днепре, Запорожье и Харькове✔️${props.title} от 15грн ☎ 050 719-24-24 ✔️ Онлайн заказ еды на дом,офис.`,\n      name: props.title,\n      numberOfItems: filteredGoods.length,\n      itemListElement: filteredGoods.map((el) => ({\n        \"@type\": \"Product\",\n        category: props.title,\n        material: props.title,\n        productID: el._id,\n        slogan: el.name_ru,\n        name: el.name_ru,\n        brand: {\n          \"@type\": \"Organization\",\n          name: \"24ROLLS\",\n          address: \"Днепр, Запорожье\",\n          location: \"Днепр, Запорожье\",\n        },\n        description: el.description_ru,\n        image: el.image,\n        offers: {\n          \"@type\": \"Offer\",\n          offeredBy: {\n            \"@type\": \"Organization\",\n            name: \"24ROLLS\",\n            address: \"Днепр, Запорожье\",\n            location: \"Днепр, Запорожье\",\n          },\n          seller: {\n            \"@type\": \"Organization\",\n            name: \"24ROLLS\",\n            address: \"Днепр, Запорожье\",\n            location: \"Днепр, Запорожье\",\n          },\n          category: props.title,\n          priceCurrency: \"UAH\",\n          price:\n            el.percent !== 0 ? el.price * ((100 - el.percent) / 100) : el.price,\n        },\n      })),\n    };\n\n    return JSON.stringify(data);\n  };\n\n  useEffect(() => {\n    const cityShop = store.get(\"24rolls\").customOptions.city;\n\n    if (response) {\n      const goodsWithCity = response.filter((el) => {\n        let valid = false;\n        if (cityShop === \"Dnipro\") {\n          el.shop.map((el) => {\n            if (el.name === \"Dp\") valid = true;\n          });\n        } else if (cityShop === \"Zaporijja\") {\n          el.shop.forEach((el) => {\n            if (el.name === \"Zp\") valid = true;\n          });\n        } else if (cityShop === \"Kharkov\") {\n          el.shop.forEach((el) => {\n            if (el.name === \"Kh\") valid = true;\n          });\n        }\n\n        return valid;\n      });\n      setFilteredGoods(goodsWithCity);\n      props.setBreadProd(goodsWithCity);\n    }\n\n    if (state.filterMode) {\n      setLoading(true);\n      axios\n        .get(\n          backendUrl +\n            `/products/filter/category/${props.categoryId}/${state.filterMode}`\n        )\n        .then((res) => {\n          console.log(res);\n          setFilteredGoods(res.data.products);\n          setArticle(res.data.article);\n          props.setBreadProd(res.data.products);\n          setErr(false);\n        })\n        .catch((err) => {})\n        .finally(() => setLoading(false));\n    }\n  }, [state.filterMode, response]);\n\n  return (\n    <>\n      <div className={\"rolls_container\"}>\n        <Helmet>\n          <script async type=\"application/ld+json\">\n            {createJSONLD()}\n          </script>\n          <title>{props.el.seo_title}</title>\n          <meta name=\"description\" content={props.el.seo_description} />\n          <meta name=\"keywords\" content={props.el.seo_description} />\n          <script async type=\"application/ld+json\">\n            {createJSONLD()}\n          </script>\n          <script type=\"application/ld+json\">\n            {JSON.stringify({\n              \"@context\": \"http://schema.org\",\n              \"@type\": \"WebSite\",\n              \"@id\": \"#website\",\n              url: \"https://24rolls.zp.ua/\",\n              name: \"\\u0421\\u0443\\u0448\\u0438 24Rolls Dnepr\",\n              potentialAction: {\n                \"@type\": \"SearchAction\",\n                target: \"https://24rolls.zp.ua/?s={search_term_string}\",\n                \"query-input\": \"required name=search_term_string\",\n              },\n            })}\n          </script>\n          <script type=\"application/ld+json\">\n            {JSON.stringify({\n              \"@context\": \"http://schema.org\",\n              \"@type\": \"Organization\",\n              url: \"https://24rolls.zp.ua/\",\n              contactPoint: [\n                {\n                  \"@type\": \"ContactPoint\",\n                  telephone: \"068 719 24 24\",\n                  contactType: [\"customer service\", \"sales\"],\n                  areaServed: [\"UA\"],\n                  contactOption: [\"TollFree\"],\n                  availableLanguage: [\"Russian\", \"Ukrainian\"],\n                },\n              ],\n              sameAs: [\n                \"https://www.youtube.com/channel/UCmJwKEidDraJtVdYtpnsJSA\",\n                \"https://www.instagram.com/24rolls.com.ua/\",\n              ],\n            })}\n          </script>\n        </Helmet>\n        {!err && (\n          <>\n            <HeadingBlock title={t(props.title)} svg={true} h={\"h1\"} />\n            {<MobileFilters filters={props.filters} />}\n          </>\n        )}\n        {loading && <Spinner />}\n        {err && !loading && <ErrorIndicator />}\n        {filteredGoods && !loading && !err && (\n          <div className={\"rolls_container_block\"}>\n            {filteredGoods.map((el) => (\n              <CustomFoodBlock\n                {...props}\n                style={\"open-modal\"}\n                key={el._id}\n                food={el}\n                width={window.innerWidth < 610 ? true : false}\n                smallMode={window.innerWidth < 450 ? true : false}\n              />\n            ))}\n          </div>\n        )}\n        {!filteredGoods[0] && !loading && !err && (\n          <p> {\"Нет данных товаров...\"} </p>\n        )}\n        \n      </div>\n      {article && \n      <div style={{height:'100%'}}>\n        <iframe\n          onLoad={onLoadIFrame}\n          style={{\n            width: \"100%\",\n            border: \"none\",\n            height: \"100%\",\n            verflow: \"visible\",\n            fontFamily: \"'Roboto', sans-serif\",\n          }}\n          srcDoc={article}\n        >\n          {\"Ваш браузер не поддерживает Frame\"}\n        </iframe>\n      </div>\n      }\n    </>\n  );\n});\n\nPageWrapper.propTypes = {\n  title: string.isRequired,\n  url: string,\n};\n\nexport default PageWrapper;\n"],"sourceRoot":""}