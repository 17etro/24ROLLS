{"version":3,"sources":["assets/components/HeadingBlog/deliverSvg.svg","components/HeadingBlock/index.jsx","components/MobileFilters/MobileFilters.js","page/PageWrapper/index.jsx"],"names":["HeadingBlock","title","svg","itemProp","className","MobileFilters","props","useCustomStore","state","dispatch","filters","map","el","style","filterMode","_id","border","onClick","type","ACTIONS","DROP_FILTER","SET_FILTER","filterId","alt","src","backendUrl","image","PageWrapper","React","memo","t","useTranslation","useFetch","url","response","error","isLoading","useState","filteredGoods","setFilteredGoods","loading","setLoading","err","setErr","useEffect","axios","get","categoryId","then","res","console","log","data","catch","reponse","finally","itemScope","Spinner","ErrorIndicator","CustomFoodBlock","key","food"],"mappings":"uJAAe,ICkBAA,IAbM,SAAC,GAAkB,IAAjBC,EAAgB,EAAhBA,MAAgB,EAATC,IAC1B,OACI,qBACIC,SAAU,eACVC,UAAU,eAFd,SAII,oBAAID,SAAW,OAAf,SACKF,Q,qMCwBFI,G,OA7BO,SAACC,GAAW,IAAD,EAEDC,cAApBC,EAFqB,EAErBA,MAAOC,EAFc,EAEdA,SAEf,OACI,qBAAKL,UAAU,+BAAf,SACKE,EAAMI,SAAWJ,EAAMI,QAAQC,KAAI,SAACC,GACjC,OACI,qBACAR,UAAU,0CACVS,MAAOL,EAAMM,aAAeF,EAAGG,IAAM,CAAEC,OAAQ,qBAAuB,KAFtE,SAGA,qBACIC,QACIT,EAAMM,aAAeF,EAAGG,IACxB,kBAAMN,EAAS,CAAES,KAAMC,IAAQC,eAE/B,kBAAMX,EAAS,CAAES,KAAMC,IAAQE,WAAYC,SAAUV,EAAGG,OAE5DX,UAAU,gDACVmB,IAAI,GACJC,IAAKC,IAAa,IAAMb,EAAGc,iB,yBCZ7CC,EAAcC,IAAMC,MAAK,SAACvB,GAAW,IAChCwB,EAAKC,cAALD,EAD+B,EAECE,YAAS1B,EAAM2B,KAFhB,mBAE9BC,EAF8B,KAEpBC,EAFoB,KAEbC,EAFa,OAGMC,mBAAS,IAHf,mBAG9BC,EAH8B,KAGfC,EAHe,OAINF,oBAAS,GAJH,mBAI9BG,EAJ8B,KAIrBC,EAJqB,OAKdJ,oBAAS,GALK,mBAK9BK,EAL8B,KAKzBC,EALyB,OAOVpC,cAApBC,EAP8B,EAO9BA,MAP8B,EAOvBC,SAwBf,OArBAmC,qBAAU,WAEFV,GACAK,EAAiBL,GAGjB1B,EAAMM,aACN2B,GAAW,GACXI,IAAMC,IAAIrB,IAAU,oCAAgCnB,EAAMyC,WAAtC,YAAoDvC,EAAMM,aACzEkC,MAAK,SAAAC,GACFC,QAAQC,IAAIF,GACZV,EAAiBU,EAAIG,MACrBT,GAAO,MAEVU,OAAM,SAAAX,GACHQ,QAAQC,IAAIT,EAAKA,EAAIY,YAExBC,SAAQ,kBAAMd,GAAW,SAEnC,CAAEjC,EAAMM,WAAYoB,IAGnB,sBACI/B,SAAU,iBACVqD,WAAS,EACTpD,UAAW,kBAHf,WAKMsC,IAAQP,GACN,qCACI,cAACnC,EAAA,EAAD,CAAcC,MAAO6B,EAAExB,EAAML,OAAQC,KAAK,IACzC,cAAC,EAAD,CAAeQ,QAASJ,EAAMI,cAGpC0B,GAAaI,IAAa,cAACiB,EAAA,EAAD,KAC3BtB,GAASO,KAAUN,IAAcI,GAAW,cAACkB,EAAA,EAAD,IAE1CpB,IACIF,IACAI,IACCE,IACDP,GACA,qBACIhC,SAAU,sBACVqD,WAAS,EACTpD,UAAW,wBAHf,SAMQkC,EAAc3B,KAAI,SAAAC,GAAE,OAChB,wBAAC+C,EAAA,EAAD,2BAAqBrD,GAArB,IAA4BO,MAAO,aAAc+C,IAAKhD,EAAGG,IAAK8C,KAAMjD,WAMnF0B,EAAc,KACXF,IACAI,IACCE,IACDP,GACJ,kCAAK,iPAAL,aAWDR","file":"static/js/4.f5dea5c4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/deliverSvg.f84be520.svg\";","import React from 'react';\n\nimport './index.scss';\nimport deliverSvg from \"../../assets/components/HeadingBlog/deliverSvg.svg\";\n\nconst HeadingBlock = ({title, svg}) => {\n    return (\n        <div\n            itemProp={'headingBlock'}\n            className=\"heading-blog\"\n        >\n            <h1 itemProp = \"name\">\n                {title}\n            </h1>\n        </div>\n    )\n}\n\nexport default HeadingBlock;","import React from 'react';\r\nimport { backendUrl } from '../../config/config';\r\nimport { useCustomStore } from '../../context/useStore';\r\nimport { ACTIONS } from '../../context/providerContext';\r\n\r\nimport './mobileFilters.scss';\r\n\r\nconst MobileFilters = (props) => {\r\n\r\n    const { state, dispatch } = useCustomStore();\r\n\r\n    return (\r\n        <div className=\"mobile-filters-block-content\">\r\n            {props.filters && props.filters.map((el) => {\r\n                return (\r\n                    <div \r\n                    className=\"mobile-filters-block-content__container\"\r\n                    style={state.filterMode === el._id ? { border: '2px solid #F89F46'} : null}>\r\n                    <img\r\n                        onClick={\r\n                            state.filterMode === el._id ?\r\n                            () => dispatch({ type: ACTIONS.DROP_FILTER }) \r\n                            :\r\n                            () => dispatch({ type: ACTIONS.SET_FILTER, filterId: el._id })\r\n                        }\r\n                        className=\"mobile-filters-block-content__container__item\"\r\n                        alt=\"\"\r\n                        src={backendUrl + '/' + el.image} \r\n                    />\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileFilters;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { backendUrl } from '../../config/config';\nimport { useTranslation } from 'react-i18next';\nimport { useCustomStore } from '../../context/useStore';\nimport {string} from \"prop-types\";\n\nimport './index.scss';\nimport CustomFoodBlock from \"../../components/CustomFoodBlock\";\nimport HeadingBlock from '../../components/HeadingBlock';\nimport MobileFilters from '../../components/MobileFilters/MobileFilters';\nimport useFetch from \"../../api/useFetch\";\nimport Spinner from \"../../components/Spinner\";\nimport ErrorIndicator from \"../../components/Errors/ErrorIndicator\";\n\nconst PageWrapper = React.memo((props) => {\n    const {t} = useTranslation();\n    const [ response, error, isLoading ] = useFetch(props.url);\n    const [ filteredGoods, setFilteredGoods ] = useState([]);\n    const [ loading, setLoading ] = useState(false);\n    const [ err, setErr ] = useState(false);\n\n    const { state, dispatch } = useCustomStore();\n\n\n    useEffect(() => {\n\n        if (response) {\n            setFilteredGoods(response);\n        }\n\n        if (state.filterMode) {\n            setLoading(true);\n            axios.get(backendUrl + `/products/filter/category/${props.categoryId}/${state.filterMode}`)\n                .then(res => {\n                    console.log(res);\n                    setFilteredGoods(res.data);\n                    setErr(false);\n                })\n                .catch(err => {\n                    console.log(err, err.reponse);\n                })\n                .finally(() => setLoading(false));\n        }\n    }, [ state.filterMode, response ]);\n    \n    return (\n        <div\n            itemProp={'rollsContainer'}\n            itemScope\n            className={'rolls_container'}\n        >\n            {!err && !error &&\n                <>\n                    <HeadingBlock title={t(props.title)} svg={true} />\n                    {<MobileFilters filters={props.filters} />}\n                </>\n            }\n            {( isLoading || loading ) && <Spinner /> }\n            {(error || err ) && !isLoading && !loading && <ErrorIndicator />}\n            {\n                filteredGoods \n                && !isLoading \n                && !loading \n                &&  !err\n                && !error &&\n                    <div\n                        itemProp={'rollsContainerBlock'}\n                        itemScope\n                        className={'rolls_container_block'}\n                    >\n                        {\n                            filteredGoods.map(el =>\n                                <CustomFoodBlock {...props} style={'open-modal'} key={el._id} food={el} />\n                            )\n                        }\n                    </div>\n            }\n            {\n                !filteredGoods[0] \n                && !isLoading \n                && !loading \n                &&  !err\n                && !error &&\n                <p> {'В этой категории нет товаров с таким фильтром...'} </p>\n            }\n        </div>\n    )\n});\n\nPageWrapper.propTypes = {\n    title: string.isRequired,\n    url: string\n}\n\nexport default PageWrapper;"],"sourceRoot":""}