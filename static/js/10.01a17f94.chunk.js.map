{"version":3,"sources":["page/CardProduct/HeaderBlock/index.jsx","page/CardProduct/index.jsx"],"names":["HeaderBlock","props","state","useCustomStore","useState","countBasket","setCountBasket","useEffect","undefined","cart","basket","find","el","id","food","_id","filter","el1","className","name_ru","weight","description_ru","onClick","percent","price","toFixed","Basket","count","title","style","src","backendUrl","image","alt","name","CardProduct","loading","setLoading","error","setError","product","setProduct","categoryProducts","setCategoryProducts","productRoute","match","params","route","categoryRoute","catRoute","axios","post","then","res","data","products","catch","err","routes","Spinner","ErrorIndicator","Helmet","seo_title","content","seo_description","seo_keywords","async","type","JSON","stringify","createJSONLD","SetsSlider","list"],"mappings":"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","file":"static/js/10.01a17f94.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { backendUrl } from '../../../config/config';\n\nimport './index.scss';\nimport {useCustomStore} from \"../../../context/useStore\";\nimport Basket from \"../../../components/Basket\";\n\nconst HeaderBlock = (props) => {\n    const { state } = useCustomStore();\n\n    const [ countBasket, setCountBasket ] = useState(0);\n\n    useEffect(() => {\n        setCountBasket(\n            state.cart.basket!== undefined &&\n            state.cart.basket.find(el => el.id === props.food._id) ?\n            state.cart.basket.filter(el1 => el1.id === props.food._id)[0].countBasket : 0\n        );\n    }, []);\n\n    return (\n        <div\n            className={'header-slider'}\n            key={props.food._id}\n        >\n            <div className={'header-slider_list-block'}>\n                <div className={'list-content'}>\n                    <div className={'list-content_header'}>\n                        <h1>{props.food.name_ru}</h1>\n                        <p>Вес {props.food.weight} г.</p>\n                        <span>{props.food.description_ru}</span>\n                    </div>\n                    <div className={'list-content_center'}>\n                        <button\n                            onClick={() => setCountBasket(countBasket - 1)}\n                        >\n                            -\n                        </button>\n                        <span><p> {countBasket} </p></span>\n                        <button\n                            onClick={() => setCountBasket(countBasket + 1)}\n                        >\n                            +\n                        </button>\n                    </div>\n                    <div className={'list-content_footer'}>\n                        <div className={'price'}>\n                            <h2>\n                                {props.food.percent !== 0 ? \n                                (props.food.price * ( (100 - props.food.percent) / 100)).toFixed(1) : props.food.price} \n                                грн.\n                            </h2>\n                            {\n                                props.food.percent !== 0 && <p>{props.food.price} грн.</p>\n                            }\n                        </div>\n                        <Basket \n                            {...props} \n                            count={countBasket}\n                            food={props.food}\n                            title={'button.toOrder'} \n                            style={'open-modalTwo'} \n                        />\n                    </div>\n                </div>\n            </div>\n            <div className={'header-slider_image-block'}>\n                <img\n                    src={backendUrl + `/${props.food.image}`}\n                    alt={props.food.name}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default HeaderBlock;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { backendUrl } from '../../config/config';\nimport Helmet from 'react-helmet';\n\nimport HeaderBlock from \"./HeaderBlock\";\nimport SetsSlider from '../../components/SetsSlider'\nimport './index.scss'\nimport {useCustomStore} from \"../../context/useStore\";\nimport Spinner from \"../../components/Spinner\";\nimport ErrorIndicator from \"../../components/Errors/ErrorIndicator\";\n\nconst CardProduct = (props) => {\n\n    const [ loading, setLoading ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ product, setProduct ] = useState(false);\n    const [ categoryProducts, setCategoryProducts ] = useState([]);\n\n    useEffect(() => {\n        const productRoute = props.match.params.route;\n        const categoryRoute = props.match.params.catRoute;\n        setLoading(true);\n        \n        axios.post(backendUrl + '/products/by/route', {\n            route: productRoute\n        })\n            .then(res => {\n                setProduct(res.data.products[0]);\n                setLoading(false);\n            })\n            .catch(err => {\n                setError(true);\n                setLoading(false);\n            });\n\n        axios.post(backendUrl + '/products/category/by/routes', {\n            routes: categoryRoute\n        })\n            .then(res => {\n                setCategoryProducts(res.data.products);\n                setError(false);\n                setLoading(false);\n            })\n            .catch(err => {\n                setError(true);\n                setLoading(false);\n            });\n        \n    }, [props]);\n\n    const createJSONLD = () => {\n        if (product) {\n            const data = {\n                \"@context\": \"https://schema.org\",\n                \"@type\": \"Product\",\n                \"description\": product.name_ru + '| ' + `${product.name_ru} Доставка. Заказывай ${product.name_ru} с бесплатной доставкой в Днепре, Запорожье, Харькове✔️Суши от 15грн ☎ 050 719-24-24 ✔️Роллы ✔️Сеты ✔️Wok ✔Онлайн заказ ${product.name_ru} на дом,офис.`,\n                \"name\": product.name_ru,\n                \"image\": backendUrl + '/' + product.image,\n                \"offers\": {\n                    \"@type\": \"Offer\",\n                    \"availability\": \"https://schema.org/InStock\",\n                    \"price\": product.percent !== 0 ? (product.price * ( (100 - product.percent) / 100)) : product.price ,\n                    \"priceCurrency\": \"UAH\"\n                  },\n            };\n    \n            return JSON.stringify(data);\n        }\n    };\n\n    return (\n        <div className={'card-product'}>\n            {loading && <Spinner /> }\n            {error && <ErrorIndicator />}\n            {\n                product && categoryProducts && !error && !loading &&\n                <>\n                    <Helmet>\n                        <title>{product.seo_title}</title>\n                        <meta\n                            name=\"description\"\n                            content={product.seo_description}\n                        />\n                        <meta\n                            name=\"keywords\"\n                            content={product.seo_keywords}\n                        />\n                        <script async type=\"application/ld+json\">\n                            {createJSONLD()}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"WebSite\", \"@id\": \"#website\", \"url\": \"https://24rolls.zp.ua/\", \"name\": \"\\u0421\\u0443\\u0448\\u0438 24Rolls Dnepr\", \"potentialAction\": { \"@type\": \"SearchAction\", \"target\": \"https://24rolls.zp.ua/?s={search_term_string}\", \"query-input\": \"required name=search_term_string\" } })}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"Organization\", \"url\": \"https://24rolls.zp.ua/\", \"contactPoint\": [{ \"@type\": \"ContactPoint\", \"telephone\": \"068 719 24 24\", \"contactType\": [\"customer service\", \"sales\"], \"areaServed\": [\"UA\"], \"contactOption\": [\"TollFree\"], \"availableLanguage\": [\"Russian\", \"Ukrainian\"] }], \"sameAs\": [\"https://www.youtube.com/channel/UCmJwKEidDraJtVdYtpnsJSA\", \"https://www.instagram.com/24rolls.com.ua/\"] })}\n                        </script>\n                    </Helmet>\n                    <HeaderBlock {...props} food={product}/>\n                    <SetsSlider {...props} list={categoryProducts} title={true} />\n                </>\n            }\n        </div>\n    )\n}\n\nexport default CardProduct;"],"sourceRoot":""}