{"version":3,"sources":["components/Auth/LogIn.js","components/Auth/logUp.js","components/Auth/RestorePassword/RestorePassword.js","page/Auth/Auth.js"],"names":["LogInBlock","state","logInForm","phone","value","touched","valid","validation","required","isPhone","password","minLength","formIsValid","error","modalRecoverPassword","loading","inputChangedHandler","event","inputID","updatedLogInForm","updatedFormElement","target","checkValidaty","inputIDs","setState","onSubmitFormHandler","axios","post","backendUrl","then","res","token","data","storage","store","get","user","set","headers","bonus","sumUserBonus","dispatch","context","type","ACTIONS","SET_BONUS_AMOUNT","props","history","push","match","path","slice","catch","err","message","customOptions","language","response","status","onModalRecoverPasswordHandler","this","location","search","labelInvalidStyle","inputInvalidStyle","disabledButtonStyle","t","forRightMenu","className","placeholder","onChange","style","marginTop","disabled","onClick","Modal","show","modalClosed","textAlign","color","fontWeight","fontSize","Spinner","switchMode","restoreMode","React","Component","contextType","storeContext","withTranslation","LogUpBlock","logUpForm","email","maxLength","isEmail","confirmedPassword","emailModalOpened","updatedLogUpForm","phoneNumber","result","onEmailModalClosedHandler","paddingBottom","width","minWidth","padding","MobileRestorePassword","updatedEmail","MobileLogIn","useState","authMode","setAuthMode","changeAuthModeToLogIn","paddingTop","LogIn","RestorePassword"],"mappings":"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","file":"static/js/12.505cd111.chunk.js","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport store from 'store';\nimport {withTranslation} from \"react-i18next\";\nimport { backendUrl } from '../../config/config';\n\nimport './auth.scss';\n\nimport Modal from '../UI/Modal/Modal';\nimport Spinner from '../Spinner/index';\nimport { checkValidaty } from '../../tools/checkValidaty';\nimport { storeContext } from '../../context/providerContext';\nimport { ACTIONS } from \"../../context/providerContext\";\n\nclass LogInBlock extends React.Component {\n\n    static contextType = storeContext;\n\n    state = {\n        logInForm : {\n            phone: {\n                value: '',\n                touched: false,\n                valid: false,\n                validation: {\n                    required: true,\n                    isPhone: true\n                }\n            },\n            password: {\n                value: '',\n                touched: false,\n                valid: false,\n                validation: {\n                    required: true,\n                    minLength: 6\n                }\n            }\n        },\n        formIsValid: false,\n        error: null,\n        modalRecoverPassword: false,\n        loading: false\n    }\n\n    componentDidMount() {\n        if ( this.props.location.search === '?changed-password=true' ) {\n            this.setState({ modalRecoverPassword: true });\n        }\n    }\n\n    inputChangedHandler = (event, inputID) => {\n        const updatedLogInForm = {\n            ...this.state.logInForm\n        };\n        const updatedFormElement = {\n            ...updatedLogInForm[inputID]\n        };\n\n        updatedFormElement.value = event.target.value;\n        updatedFormElement.touched = true;\n        updatedFormElement.valid = checkValidaty(\n            updatedFormElement.value,\n            updatedFormElement.validation\n        );\n        updatedLogInForm[inputID] = updatedFormElement;\n\n        let formIsValid = true;\n        for (let inputIDs in updatedLogInForm) {\n            formIsValid = updatedLogInForm[inputIDs].valid && formIsValid;\n        };\n\n        this.setState({\n            logInForm: updatedLogInForm,\n            formIsValid: formIsValid\n        });\n    }\n\n    onSubmitFormHandler = () => {\n        this.setState({ loading: true });\n\n        axios.post(backendUrl + '/login', {\n            phone: this.state.logInForm.phone.value,\n            password: this.state.logInForm.password.value\n        }).then(res => {\n            const token = res.data.token;\n            const storage = store.get('24rolls');\n            storage.user = { token };\n            store.set('24rolls', storage);\n            this.setState({\n                error: null\n            });\n\n            axios.get(backendUrl + '/user/', {\n            headers: {\n                'Authorization': `Bearer ${store.get('24rolls').user.token}`\n            }\n            })\n            .then(res => {\n                const bonus = res.data.user.sumUserBonus;\n                const { dispatch } = this.context;\n\n                dispatch({ type: ACTIONS.SET_BONUS_AMOUNT, bonus: bonus});\n                this.setState({ loading: false });\n                this.props.history.push(this.props.match.path.slice(0, 3) + '/?redirectpersonal=true');\n            })\n            .catch(err => {});\n        })\n        .catch(err => {\n            let message = '';\n            const language = store.get('24rolls').customOptions.language;\n            if (language === 'RU') {\n                if ( err.response.status === 404 ) {\n                    message = 'Неверный пароль'\n                } \n                if ( err.response.status === 401 ) {\n                    message = 'Пользователь с таким номером телефона не зарегистрирован'\n                }\n            } else {\n                if ( err.response.status === 404 ) {\n                    message = 'Невірний пароль'\n                } \n                if ( err.response.status === 401 ) {\n                    message = 'Користувач з таким номером телефону не зареєстрований'\n                }\n            }\n            this.setState({ error: message, loading: false });\n        });\n    }\n\n    onModalRecoverPasswordHandler = () => {\n        this.setState({\n            modalRecoverPassword: false\n        });\n        this.props.history.push(this.props.match.path.slice(0, 3) + '/log-in');\n    }\n\n    render() {\n\n        const labelInvalidStyle = \"label-invalid-style\";\n        const inputInvalidStyle = \"input-invalid-style\";\n        const disabledButtonStyle = \"form-button-disabled\";\n        const {t} = this.props;\n\n        return (\n            <>\n            {this.props.forRightMenu ?\n            (\n                <div>\n                        <h3>{t('order.logIn.entrance')}</h3>\n                        <label\n                        className={\n                            !this.state.logInForm.phone.valid && \n                            this.state.logInForm.phone.touched ? labelInvalidStyle : null}\n                        >\n                            {t('order.logIn.phone')}\n                        </label>\n                        <input \n                        type=\"text\" \n                        className={\n                            !this.state.logInForm.phone.valid && \n                            this.state.logInForm.phone.touched ? inputInvalidStyle : null }\n                        placeholder=\"+380631122333\"\n                        value={this.state.logInForm.phone.value} \n                        onChange={(event)=>this.inputChangedHandler(event, \"phone\")} />\n                        <label \n                        style={{marginTop: '20px'}}\n                        className={\n                            !this.state.logInForm.password.valid && \n                            this.state.logInForm.password.touched ? labelInvalidStyle : null }\n                        >\n                            {t('order.logIn.password')}\n                        </label>\n                        <input \n                        type=\"password\" \n                        className={\n                            !this.state.logInForm.password.valid && \n                            this.state.logInForm.password.touched ? inputInvalidStyle : null }\n                        placeholder={t('order.logIn.enterPassword')}\n                        value={this.state.logInForm.password.value} \n                        onChange={(event)=>this.inputChangedHandler(event, \"password\")} />\n\n                        <p className=\"log-in-block__error\">{this.state.error}</p>\n\n                        <button \n                        disabled={!this.state.formIsValid} \n                        className={!this.state.formIsValid ? disabledButtonStyle : null}\n                        onClick={this.onSubmitFormHandler}>\n                            {t('button.logIn')}\n                        </button>\n                </div>\n            )\n            :\n            (\n            <>\n                <Modal\n                show={this.state.modalRecoverPassword}\n                modalClosed={this.onModalRecoverPasswordHandler}>\n                    <div style={{textAlign: 'center'}}>\n                        <p style={{\n                            color: 'green',\n                            textAlign: 'center',\n                            fontWeight: '700',\n                            fontSize: '24px'\n                        }}>\n                            {'Вы успешно сменили пароль!'}\n                        </p>\n                    </div>\n                </Modal>\n                <div className=\"log-in-block__container\">\n                    <div className=\"log-in-block\">\n                        <h3>{t('order.logIn.entrance')}</h3>\n                        <label\n                        className={!this.state.logInForm.phone.valid && this.state.logInForm.phone.touched ? labelInvalidStyle : null}\n                        >\n                            {t('order.logIn.phone')}\n                        </label>\n                        <input \n                        type=\"text\" \n                        className={!this.state.logInForm.phone.valid && this.state.logInForm.phone.touched ? inputInvalidStyle : null }\n                        placeholder=\"+380631122333\"\n                        value={this.state.logInForm.phone.value} \n                        onChange={(event)=>this.inputChangedHandler(event, \"phone\")} />\n                        <label \n                        style={{marginTop: '20px'}}\n                        className={!this.state.logInForm.password.valid && this.state.logInForm.password.touched ? labelInvalidStyle : null }\n                        >\n                            {t('order.logIn.password')}\n                        </label>\n                        <input \n                        type=\"password\" \n                        className={!this.state.logInForm.password.valid && this.state.logInForm.password.touched ? inputInvalidStyle : null }\n                        placeholder={t('order.logIn.enterPassword')}\n                        value={this.state.logInForm.password.value} \n                        onChange={(event)=>this.inputChangedHandler(event, \"password\")} />\n\n                        <p className=\"log-in-block__error\">{this.state.error}</p>\n\n                        {this.state.loading \n                        ? <Spinner />\n                        : <button \n                        disabled={! this.state.formIsValid} className={!this.state.formIsValid ? disabledButtonStyle : null}\n                        onClick={this.onSubmitFormHandler}>\n                            {t('button.logIn')}\n                        </button>}\n                    </div>\n                    <p onClick={this.props.switchMode}>{t('order.logIn.dontHaveAccount')}</p>\n                    <p onClick={this.props.restoreMode}>{t('order.logIn.forgotPassword')}</p>\n                </div>\n            </>\n            )}\n            </>\n        );    \n    }\n};\n\nexport default withTranslation()(LogInBlock);","import React from 'react';\r\nimport Modal from '../UI/Modal/Modal';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../config/config';\r\n\r\nimport './auth.scss';\r\n\r\nimport { checkValidaty } from '../../tools/checkValidaty';\r\nimport Spinner from '../Spinner/index';\r\n\r\nclass LogUpBlock extends React.Component {\r\n\r\n    state = {\r\n        logUpForm : {\r\n            phone: {\r\n                value: '',\r\n                touched: false,\r\n                valid: false,\r\n                validation: {\r\n                    required: true,\r\n                    isPhone: true\r\n                }\r\n            },\r\n            email: {\r\n                value: '',\r\n                touched: false,\r\n                valid: false,\r\n                validation: {\r\n                    required: true,\r\n                    maxLength: 50,\r\n                    isEmail: true\r\n                }\r\n            },\r\n            password: {\r\n                value: '',\r\n                touched: false,\r\n                valid: false,\r\n                validation: {\r\n                    required: true,\r\n                    minLength: 6\r\n                }\r\n            },\r\n            confirmedPassword: {\r\n                value: '',\r\n                touched: false,\r\n                valid: false,\r\n                validation: {\r\n                    required: true,\r\n                    minLength: 6,\r\n                }\r\n            }\r\n        },\r\n        formIsValid: false,\r\n        emailModalOpened: false,\r\n        error: null,\r\n        loading: false\r\n    }\r\n\r\n    inputChangedHandler = (event, inputID) => {\r\n        const updatedLogUpForm = {\r\n            ...this.state.logUpForm\r\n        };\r\n        const updatedFormElement = {\r\n            ...updatedLogUpForm[inputID]\r\n        };\r\n\r\n        updatedFormElement.value = event.target.value;\r\n        updatedFormElement.touched = true;\r\n        updatedFormElement.valid = checkValidaty(\r\n            event.target.value,\r\n            updatedFormElement.validation\r\n        );\r\n        if (inputID === 'confirmedPassword') {\r\n            updatedFormElement.valid = updatedFormElement.value === updatedLogUpForm['password'].value;\r\n        }\r\n\r\n        updatedLogUpForm[inputID] = updatedFormElement;\r\n\r\n        let formIsValid = true;\r\n        for (let inputIDs in updatedLogUpForm) {\r\n            formIsValid = updatedLogUpForm[inputIDs].valid && formIsValid;\r\n        };\r\n\r\n        this.setState({\r\n            logUpForm: updatedLogUpForm,\r\n            formIsValid: formIsValid\r\n        });\r\n    }\r\n\r\n    onSubmitFormHandler = () => {\r\n\r\n        this.setState({ loading: true });\r\n\r\n        axios.post(backendUrl + '/signup', {\r\n            phoneNumber: this.state.logUpForm.phone.value,\r\n            email: this.state.logUpForm.email.value,\r\n            password: this.state.logUpForm.password.value\r\n        })\r\n        .then(result => {\r\n            if (result.status === 200 ) {\r\n                this.setState({\r\n                    emailModalOpened: true\r\n                });\r\n            }\r\n            this.setState({ loading: false, error: null });\r\n        })\r\n        .catch(err => {\r\n            let message = '';\r\n            if (this.state.language === 'RU') {\r\n                if ( err.response.status === 400 ) {\r\n                    message = 'Данные уже заняты'\r\n                } \r\n                if ( err.response.status === 500 ) {\r\n                    message = 'Данные уже заняты'\r\n                }\r\n            } else {\r\n                if ( err.response.status === 400 ) {\r\n                    message = 'Данні вже зайняті'\r\n                } \r\n                if ( err.response.status === 500 ) {\r\n                    message = 'Данні вже зайняті'\r\n                }\r\n            }\r\n            this.setState({ error: message, loading: false });\r\n        });\r\n    }\r\n\r\n    onEmailModalClosedHandler = () => {\r\n        this.setState({\r\n            emailModalOpened: false\r\n        })\r\n    }\r\n    render() {\r\n\r\n        const labelInvalidStyle = \"label-invalid-style\";\r\n        const inputInvalidStyle = \"input-invalid-style\";\r\n        const disabledButtonStyle = \"form-button-disabled log-up-button-fix\";\r\n\r\n        return (\r\n            <>\r\n            <Modal\r\n            show={this.state.emailModalOpened}\r\n            modalClosed={this.onEmailModalClosedHandler}\r\n            >       \r\n                <div style={{textAlign: 'center'}}>\r\n                    <p>\r\n                        {this.state.language === \"RU\" ? \"Пожалуйста проверьте свою почту для подтверждения аккаунта\" : \"Будь-ласка перевірте свою пошту для підтвердження аккаунту\" }\r\n                    </p>\r\n                </div>\r\n            </Modal>\r\n\r\n            <div className=\"log-in-block__container\" style={{paddingBottom: '40px'}}>\r\n                <div className=\"log-in-block log-up-block-fix\">\r\n                    <h3>{this.state.language===\"RU\" ? \"Регистрация\" : \"Реєстрація\"}</h3>\r\n\r\n                    <label\r\n                    className={!this.state.logUpForm.phone.valid && this.state.logUpForm.phone.touched ? labelInvalidStyle : null}\r\n                    >\r\n                        Ваш номер телефона\r\n                    </label>\r\n                    <input \r\n                    type=\"text\" \r\n                    className={!this.state.logUpForm.phone.valid && this.state.logUpForm.phone.touched ? inputInvalidStyle : null }\r\n                    placeholder=\"+380-99-99-99-999\"\r\n                    value={this.state.logUpForm.phone.value} \r\n                    onChange={(event)=>this.inputChangedHandler(event, \"phone\")} />\r\n\r\n                    <label\r\n                    className={!this.state.logUpForm.email.valid && this.state.logUpForm.email.touched ? labelInvalidStyle : null}\r\n                    >\r\n                        Ваш email\r\n                    </label>\r\n                    <input \r\n                    type=\"text\" \r\n                    className={!this.state.logUpForm.email.valid && this.state.logUpForm.email.touched ? inputInvalidStyle : null }\r\n                    placeholder=\"Ваш email\"\r\n                    value={this.state.logUpForm.email.value} \r\n                    onChange={(event)=>this.inputChangedHandler(event, \"email\")} />\r\n                    \r\n                    <label \r\n                    style={{marginTop: '20px'}}\r\n                    className={!this.state.logUpForm.password.valid && this.state.logUpForm.password.touched ? labelInvalidStyle : null }\r\n                    >\r\n                        Ваш пароль\r\n                    </label>\r\n                    <input \r\n                    type=\"password\" \r\n                    className={!this.state.logUpForm.password.valid && this.state.logUpForm.password.touched ? inputInvalidStyle : null }\r\n                    placeholder={this.state.language === \"RU\" ? \"Введите ваш пароль\" : \"Введіть ваш пароль\"} \r\n                    value={this.state.logUpForm.password.value} \r\n                    onChange={(event)=>this.inputChangedHandler(event, \"password\")} />\r\n\r\n                    <label \r\n                    style={{marginTop: '20px'}}\r\n                    className={!this.state.logUpForm.confirmedPassword.valid && this.state.logUpForm.confirmedPassword.touched ? labelInvalidStyle : null }\r\n                    >\r\n                        {this.state.language === \"RU\" ? \"Подтвердите пароль\" : \"Підтвердіть пароль\"}\r\n                    </label>\r\n                    <input \r\n                    type=\"password\" \r\n                    className={!this.state.logUpForm.confirmedPassword.valid && this.state.logUpForm.confirmedPassword.touched ? inputInvalidStyle : null }\r\n                    placeholder={this.state.language === \"RU\" ? \"Подтвердите ваш пароль\" : \"Підтвердіть ваш пароль\"}  \r\n                    value={this.state.logUpForm.confirmedPassword.value} \r\n                    onChange={(event)=>this.inputChangedHandler(event, \"confirmedPassword\")} />\r\n\r\n                    {this.state.error && <p className=\"log-in-block__error\">{this.state.error}</p>}\r\n\r\n                    {this.state.loading ? <Spinner /> :\r\n                    <button \r\n                    style={{ width: '100%', minWidth: '220px', padding: '20px' }}\r\n                    disabled={! this.state.formIsValid} className={!this.state.formIsValid ? disabledButtonStyle : \"log-up-button-fix\"}\r\n                    onClick={this.onSubmitFormHandler}>\r\n                        {this.state.language === \"RU\" ? \"Зарегистрироваться\" : \"Зареєструватись\"}\r\n                    </button>}\r\n                </div>\r\n                <p onClick={this.props.switchMode}>\r\n                    {this.state.language === \"RU\" ? \"У меня есть аккаунт\" : \"У мене є аккаунт\"}\r\n                </p>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LogUpBlock;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../config/config';\r\n\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport Spinner from '../../Spinner/index';\r\nimport { checkValidaty } from '../../../tools/checkValidaty';\r\nimport '../../../components/Auth/auth.scss';\r\n\r\nclass MobileRestorePassword extends React.Component {\r\n\r\n    state = {\r\n        email: {\r\n            value: '',\r\n            touched: false,\r\n            valid: false,\r\n            validation: {\r\n                required: true,\r\n                isEmail: true\r\n            }\r\n        },\r\n        error: null,\r\n        emailModalOpened: false,\r\n        loading: false\r\n    }\r\n\r\n    inputChangedHandler = (event) => {\r\n        const updatedEmail = {\r\n            ...this.state.email\r\n        };\r\n\r\n        updatedEmail.value = event.target.value;\r\n        updatedEmail.touched = true;\r\n\r\n        updatedEmail.valid = checkValidaty(\r\n            updatedEmail.value,\r\n            updatedEmail.validation\r\n        );\r\n\r\n        this.setState({\r\n            email: updatedEmail\r\n        });\r\n    }\r\n\r\n    onSubmitFormHandler = () => {\r\n\r\n        this.setState({ loading: true });\r\n\r\n        axios.post(backendUrl + '/recover', {\r\n            email: this.state.email.value\r\n        })\r\n            .then(res => {\r\n                this.setState({\r\n                    emailModalOpened: true,\r\n                    loading: false,\r\n                    error: null\r\n                }); \r\n            })\r\n            .catch(err => {\r\n                if ( err.response.status === 401 ) {\r\n                    this.setState({\r\n                        error: 'Пользователь с таким email не существует',\r\n                        loading: false\r\n                    })\r\n                }\r\n            });\r\n    }\r\n\r\n    onEmailModalClosedHandler = () => {\r\n        this.setState({\r\n            emailModalOpened: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const labelInvalidStyle = \"label-invalid-style\";\r\n        const inputInvalidStyle = \"input-invalid-style\";\r\n        const disabledButtonStyle = \"form-button-disabled\";\r\n\r\n        return (\r\n            <>\r\n                <Modal\r\n                show={this.state.emailModalOpened}\r\n                modalClosed={this.onEmailModalClosedHandler}\r\n                >       \r\n                    <div style={{textAlign: 'center'}}>\r\n                        <p>\r\n                            {\"Пожалуйста проверьте свою почту для смены пароля\"}\r\n                        </p>\r\n                    </div>\r\n                </Modal>\r\n                <div className=\"log-in-block__container\" style={{paddingBottom: '40px'}}>\r\n                    <div className=\"log-in-block log-up-block-fix\">\r\n                        <h3>{\"Восстановление пароля\"}</h3>\r\n    \r\n                        <label\r\n                        className={!this.state.email.valid && this.state.email.touched ? labelInvalidStyle : null}\r\n                        >\r\n                            Ваш email\r\n                        </label>\r\n                        <input \r\n                        type=\"text\" \r\n                        className={!this.state.email.valid && this.state.email.touched ? inputInvalidStyle : null }\r\n                        placeholder=\"Ваш email\"\r\n                        value={this.state.email.value} \r\n                        onChange={(event)=>this.inputChangedHandler(event)} />\r\n    \r\n                        {this.state.error && <p className=\"log-in-block__error\">{this.state.error}</p>}\r\n    \r\n                        {this.state.loading ? <Spinner /> :\r\n                        <button \r\n                        style={{ width: '100%', minWidth: '220px', padding: '20px' }}\r\n                        disabled={! this.state.email.valid} className={!this.state.email.valid ? disabledButtonStyle : \"log-up-button-fix\"}\r\n                        onClick={this.onSubmitFormHandler}>\r\n                            {\"Восстановить пароль\"}\r\n                        </button>}\r\n                    </div>\r\n                    <p onClick={this.props.switchMode}>\r\n                        {\"Обратно к входу\"}\r\n                    </p>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n};\r\n\r\nexport default MobileRestorePassword;","import React, { useState } from 'react';\r\n\r\nimport LogIn from '../../components/Auth/LogIn';\r\nimport LogUp from '../../components/Auth/logUp';\r\nimport RestorePassword from '../../components/Auth/RestorePassword/RestorePassword';\r\n\r\nconst MobileLogIn = ( props ) => {\r\n    const [authMode, setAuthMode ] = useState('log-in');\r\n\r\n    const changeAuthModeToLogIn = () => {\r\n        setAuthMode('log-in');\r\n    };\r\n\r\n    const changeAuthModeToLogUp = () => {\r\n        setAuthMode('log-up');\r\n    }\r\n\r\n    const changeModeToRestore = () => {\r\n        setAuthMode('restore-pass');\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{paddingTop: '50px'}}>\r\n            {authMode === 'log-in' && \r\n            (\r\n                <LogIn \r\n                {...props}\r\n                switchMode={changeAuthModeToLogUp} \r\n                restoreMode={changeModeToRestore}/>\r\n            )}\r\n            {authMode === 'log-up' && \r\n            (\r\n                <LogUp\r\n                {...props} \r\n                switchMode={changeAuthModeToLogIn} />\r\n            )}\r\n            {authMode === 'restore-pass' && \r\n            (\r\n                <RestorePassword\r\n                {...props} \r\n                switchMode={changeAuthModeToLogIn} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileLogIn;"],"sourceRoot":""}