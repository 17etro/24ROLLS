{"version":3,"sources":["config/config.js","store/actions/actionTypes.js","store/actions/auth.js","components/Header/Links/list.js","components/Header/Links/Links.js","components/Header/Header.js","components/Errors/Error/Error.js","components/Errors/NotMatchPage/NotMatchPage.js","tools/checkValidaty.js","components/UI/Modal/Modal.js","components/Auth/LogIn/LogIn.js","components/Pages/components/Main/list.js","components/Pages/components/Main/mainComponents/CustomFoodBlock/CustomFoodBlock.js","components/Pages/components/Main/mainComponents/FoodSliders/FoodSliders.js","components/Pages/components/Main/mainComponents/EditFoodSlider/EditFoodSlider.js","assets/page/Main/swip.svg","components/Pages/components/Main/mainComponents/SharesSlider/MainSlider/index.jsx","components/Orders/components/CreateOrder/AddGood/AddGood.js","assets/page/Main/pureImg.jpg","components/Pages/components/Main/mainComponents/SharesSlider/SharesSlider.js","components/Pages/components/Main/mainComponents/BlogSlider/AddBlog/AddBlog.js","components/Pages/components/Main/mainComponents/BlogSlider/MainBlog/MainBlog.js","components/Pages/components/Main/mainComponents/BlogSlider/BlogSlider.js","components/SEO/SEO.js","components/Pages/components/SeoEdit/SeoEdit.js","components/Pages/components/PageText/PageText.js","components/Pages/components/Main/Main.js","components/Pages/Pages.js","components/Storage/list.js","components/Storage/components/Caterogies/Categories.js","components/Storage/components/AddCategory/AddCategory.js","components/Storage/components/EditCategory/EditCategory.js","components/Storage/components/AddGoods/AddGoods.js","components/Storage/components/EditGoods/EditGoods.js","tools/sort.js","components/Storage/components/Goods/Goods.js","components/Storage/components/Filters/Filters.js","components/Storage/components/AddFilter/AddFilter.js","components/Storage/components/EditFilter/EditFilter.js","components/Storage/Storage.js","components/Clients/clientsList/clientsList.js","components/Clients/clientsEdit/clientEdit.js","components/Clients/clientsCheck/default-avatar.png","components/Clients/clientsCheck/ClientsCheck.js","components/Clients/Clients.js","components/Orders/components/UpdateOrder/Status/Status.js","components/Orders/components/OrderList/orderList.js","components/Orders/components/UpdateOrder/updateOrder.js","components/Orders/components/CreateOrder/CreateOrder.js","components/Orders/Orders.js","components/Editor/components/Shares/list.js","components/Editor/components/Shares/components/AddShare/AddShare.js","components/Editor/components/Shares/components/Shares/Shares.js","components/Editor/components/Shares/Shares.js","components/Editor/components/Blog/list.js","components/Editor/components/Blog/components/AllPosts/AllPosts.js","components/Editor/components/Blog/components/AddBlog/AddBlog.js","components/Editor/components/Blog/components/BlogArticle/BlogArticle.js","assets/page/Blog/default-avatar.png","components/Editor/components/Blog/components/Comments/SingleComment/SingleComment.js","components/Editor/components/Blog/components/Comments/Comments.js","components/Editor/components/Blog/Blog.js","components/Editor/Editor.js","components/Sending/list.js","components/Sending/components/EmailUsers/EmailUsers.js","components/Sending/components/SmsUsers/SmsUsers.js","components/Sending/components/AddLetter/AddLetter.js","components/Sending/Sending.js","components/Auth/LogOut/LogOut.js","components/SuperAdminProfile/components/UsersList/UsersList.js","components/SuperAdminProfile/components/NewAdmin/NewAdmin.js","components/SuperAdminProfile/components/UpdateAdmin/UpdateAdmin.js","components/SuperAdminProfile/list.js","components/SuperAdminProfile/SuperAdminProfile.js","components/Auth/ForgotPassword/ForgotPassword.js","components/Auth/RestorePassword/RestorePassword.js","App.js","reportWebVitals.js","store/reducers/auth.js","index.js"],"names":["backendUrl","blockedFilters","AUTH_START","AUTH_FAILED","AUTH_LOGOUT","LOG_IN_SUCCESS","RESET_TOKEN","SET_ADMIN_STATUS","logIn","data","dispatch","type","actionTypes","axios","post","email","password","then","res","console","log","token","status","localStorage","setItem","logInSuccess","catch","err","response","message","toString","error","authList","to","label","notAuthList","connect","state","isAuth","auth","props","linkStyle","fontSize","map","el","index","style","Button","color","variant","useStyles","makeStyles","theme","createStyles","root","flexGrow","menuButton","marginRight","spacing","title","button","width","margin","classes","homeLink","AppBar","position","boxSizing","Toolbar","IconButton","edge","className","aria-label","Typography","startIcon","children","errorParagraphStyle","textAlign","Error","NotMatchPage","checkValidaty","value","rules","isValid","required","trim","minLength","length","maxLength","isEmail","test","isPhone","Modal","nextProps","nextState","show","this","onClick","modalClosed","transform","opacity","React","Component","LogIn","controls","validation","valid","touched","formIsValid","modalForSuccessChangePass","onInputChangedHandler","event","controlName","updatedControls","target","elem","setState","onSubmitHandler","preventDefault","userData","onLogIn","onCloseModalForSuccessChangePass","history","push","location","search","modalContent","Container","component","maxWidth","CssBaseline","paper","Avatar","avatar","form","noValidate","TextField","onChange","helperText","fullWidth","id","autoComplete","autoFocus","loading","CircularProgress","circular","disabled","e","submit","Grid","container","item","xs","link","actions","withStyles","marginTop","display","flexDirection","alignItems","backgroundColor","palette","secondary","main","textDecoration","marginLeft","links","texts","fetch","CustomFoodBlock","itemProp","itemScope","food","filter","name_ru","itemType","src","image","alt","href","wordWrap","description_ru","slice","FoodSilders","sliders","get","headers","_id","fontWeight","name","categoryId","items","sliderId","slider","categories","freeGoods","goodToAdd","updateForm","category","goods","onDeleteGood","goodsList","prevState","onAddGood","goodName","good","updatedGoods","onChangeCategory","find","onEditSlider","put","pathname","successAdd","match","params","cats","paddingBottom","select","option","MenuItem","cursor","MainSlider","dots","infinite","speed","slidesToShow","slidesToScroll","list","idx","product","weight","whiteSpace","wordBreak","price","percent","toFixed","swip","AddGood","shop","shops","findedGoods","searchName","onChangeOption","onFindGoods","shopId","quantity","finally","onAddQuantity","newFindedGoods","onMinusQuantity","onSearch","indexOf","onCancelSearch","placeholder","shares","maxHeight","textTransform","SharesSlider","edit","addMode","editedArea","editShare","newSlider","window","reload","pureImg","sliderIsValid","padding","justifyContent","borderBottom","AddBlog","posts","onSelectImage","MainBlog","Truncate","lines","ellipsis","description","BlogSlider","blogs","blog","Seo","useState","setTitle","keywords","setKeywords","setDescription","setAlt","img","setImg","file","imagePreviewUrl","uploadedFile","setUploadedFile","useEffect","seo","reader","FileReader","onloadend","result","files","readAsDataURL","accept","alignSelf","onExportData","setLoading","setError","setSeo","seoId","setSeoId","obj","formData","FormData","append","inputStyles","minHeight","height","border","borderRadius","lineHeight","overflow","boxShadow","resize","PageText","textArr","pageId","onChangeTextArea","newTextArr","onSaveText","newObj","forEach","array","i","Main","routes","path","EditFoodSlider","render","exact","from","activeClassName","Pages","headCells","numeric","disablePadding","Categories","page","rowsPerPage","deleteMode","modalForSuccessAdd","handleChangeRowsPerPage","parseInt","handleChangePage","newPage","onDeleteCategory","delete","onEditCategory","modalDeleteContent","paddingLeft","Paper","elevation","Table","table","size","TableHead","TableRow","headCell","TableCell","align","TableBody","user","scope","name_ua","route","TablePagination","paginator","rowsPerPageOptions","count","onChangePage","onChangeRowsPerPage","labelRowsPerPage","marginBottom","AddCategory","nameRU","nameUA","article","seo_dp","seo_zp","updatedForm","undefined","onSelectIconHandler","onSubmitForm","onExportData_zp","onExportData_dp","element","cancelButton","EditCategory","seo_image","seoFile","seoImagePreviewUrl","seo_title","seo_description","seo_keywords","seo_title_dp","seo_description_dp","seo_keywords_dp","seo_title_zp","seo_description_zp","seo_keywords_zp","number","filters","cities","currentCities","activeCity","Number","filterId","JSON","stringify","onCategoryChangedHandler","onFilterChangedHandler","onDeleteCity","deletedShop","updatedShops","onAddShop","currentShops","addedShop","updatedCities","updatedFilters","concat","fils","SelectProps","native","listStyleType","EditGoods","userId","sortStrings","field","method","sort","a","b","reverse","sortNumbers","formats","Goods","modalForSuccessChanged","modalupload","format","orderBy","order","searchArea","ingredients","onEditGood","handleRequestSort","property","isAsc","onDownload","Blob","url","URL","createObjectURL","document","createElement","download","click","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","FileSaver","saveAsCsv","useJsonToCsv","fields","filename","categoryElem","filterElem","searchMode","products","uploadModalTrue","updatedCategories","modalForUpload","modalForSuccessChange","input","sortDirection","TableSortLabel","active","direction","visuallyHidden","descrCont","htmlFor","clip","top","descrContDiv","Filters","onEditFilter","onDeleteFilter","includes","AddFilter","EditFilter","Storage","AddGoods","ClientList","users","fio","phone","onModalForSuccessAddClosed","onModalForSuccessChange","onSelectOrder","Authorization","phoneNumber","date","sumUserBonus","customers","Date","toLocaleString","AvgCheck","sumUserOrders","float","EditClient","address","idIsValid","onStatusChangedHandler","allStatuses","Check","orders","onDeleteUser","onEditUser","markDatetime","time","totalSumm","offer","displayName","initialPrice","padddingTop","city","birthday","percentUserBonus","background","Clients","clientList","clientEdit","clientCheck","redButton","greenButton","yellowButton","orangeButton","Status","OrdersList","text","userName","userPhone","modalForSuccessAddContent","tableCellStyle","ordy","toLocaleDateString","toLocaleTimeString","sum","delivery","oplata","UpdateOrder","deliveryType","paymentType","paymentStatus","orderStatus","cutlery","payBack","comment","currentGoods","bonus","orderId","onSelectOption","onChangeInput","updatedCurrentGoods","newGoods","onUpdateOrder","searchCity","allGoods","statusName","sdachaS","deliver","onDeleteOrder","orderName","totalSum","reduce","acc","val","street","CreateOrder","flat","entrance","floor","intercom","onCreateOrder","Orders","OrderList","invalidInputStyles","AddShare","shareHeader","shareBody","imageUrl","onChangeInputHandler","key","onSelectImageHandler","onCreateButtonPressed","withRouter","deleteShare","onDeleteShareHandler","modalForSuccessAddedContent","modalForDeleteMode","action","Shares","AllShares","AllPosts","modalForSuccessDelete","modalForModeDelete","onDeletePost","newPosts","content","topic","rate","onChangeRate","onButtonPressed","onLoadIFrame","contentWindow","documentElement","scrollHeight","Slider","aria-labelledby","valueLabelDisplay","step","marks","min","max","onLoad","srcDoc","isHalf","BlogArticle","postId","comments","repsponse","dayjs","SingleComment","memo","defaultAvatar","Comments","deleteComm","editedComm","modalDelete","modalPass","onPassComment","onDeleteComment","newComments","moderatedComments","TableContainer","row","Blog","AllSPosts","Editor","EmailUsers","sms","AddLetter","letterHeader","letterHTML","successModal","lookingHTML","onButtonPressedHandler","subject","onLookingEmailLetter","successModalContent","Sending","SmsUsers","onLogOut","removeItem","UsersList","admin","admins","NewAdmin","serverError","UpdateAdmin","pasword","SuperAdminProfile","ForgotPassword","modalOpened","onCloseModal","defaultState","RestorePassword","confirmedPassword","tokenIsValid","resetLink","App","getItem","onResetToken","onSetAdminStatus","LogOut","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","reducer","composeEnhancers","compose","rootReducer","combineReducers","authReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.65ed4119.chunk.js","sourcesContent":["export const backendUrl = 'https://backend.24rolls.com.ua';\r\n\r\nexport const blockedFilters = [\r\n    '60129318205af05787df2f6f',\r\n    '60129301205af05787df2f6e',\r\n    '6012924b205af05787df2f6d'\r\n];","// auth\r\nexport const AUTH_START = 'AUTH_START';\r\nexport const AUTH_FAILED = 'AUTH_FAILED';\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\nexport const LOG_IN_SUCCESS = 'LOG_IN_SUCCESS';\r\nexport const RESET_TOKEN = 'RESET_TOKEN';\r\n\r\nexport const SET_ADMIN_STATUS = 'SET_ADMIN_STATUS';","import axios from 'axios';\r\nimport * as actionTypes from './actionTypes';\r\nimport { backendUrl } from '../../config/config';\r\n\r\nexport const authStart = () => {\r\n    return {\r\n        type: actionTypes.AUTH_START\r\n    }\r\n};\r\n\r\nexport const authFail = (error) => {\r\n    return {\r\n        type: actionTypes.AUTH_FAILED,\r\n        error: error\r\n    }\r\n};\r\n\r\nexport const logInSuccess = ( token, status ) => {\r\n\r\n    localStorage.setItem( 'token-admin-panel-24rolls', token );\r\n\r\n    return {\r\n        type: actionTypes.LOG_IN_SUCCESS,\r\n        token: token,\r\n        status: status\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    localStorage.removeItem('token-admin-panel-24rolls');\r\n    return {\r\n        type: actionTypes.AUTH_LOGOUT\r\n    }\r\n}\r\n\r\nexport const logIn = ( data ) => {\r\n    return dispatch => {\r\n        dispatch(authStart());\r\n\r\n        axios.post(backendUrl + '/admin/login', {\r\n            email: data.email,\r\n            password: data.password\r\n        })\r\n            .then(res => {\r\n                console.log(res, res.data);\r\n                const token = res.data.token;\r\n                const status = res.data.status;\r\n                dispatch(logInSuccess(token, status));\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                const message = err.response ? err.response.data.message || err.response.message : err.toString();\r\n                dispatch(authFail(message));\r\n            });\r\n    }\r\n};\r\n\r\nexport const resetToken = (token) => {\r\n    return {\r\n        type: actionTypes.RESET_TOKEN,\r\n        token: token\r\n    }\r\n};\r\n\r\nexport const setAdminStatus = (status) => {\r\n    return {\r\n        type: actionTypes.SET_ADMIN_STATUS,\r\n        status: status\r\n    }\r\n}","export const authList = [\n    {\n        to: '/orders',\n        label: 'Заказы'\n    },\n    {\n        to: '/pages',\n        label: 'Страницы'\n    },\n    {\n        to: '/storage',\n        label: 'Склад'\n    },\n    {\n        to: '/clients',\n        label: 'Клиенты'\n    },\n    {\n        to: '/editor',\n        label: 'Редактор'\n    }, \n    {\n        to: '/sending',\n        label: 'Рассылка'\n    },\n];\n\nexport const notAuthList = [\n    {\n        to: '/log-in',\n        label: 'Войти'\n    }\n];","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { authList, notAuthList } from './list';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nconst Links = ( props ) => {\r\n\r\n    const linkStyle = {\r\n        fontSize: '11px'\r\n    }; \r\n\r\n    let content;\r\n    if (props.isAuth) {\r\n        content = authList.map((el, index) => {\r\n            return (\r\n                <NavLink \r\n                to={el.to} \r\n                key={index}\r\n                style={linkStyle}>\r\n                    <Button \r\n                    style={{fontSize: '11px'}}\r\n                    color={el.to === '/logout' ? 'secondary' : 'inherit'}\r\n                    variant={el.to === '/logout' ? 'contained' : null}>\r\n                         {el.label} \r\n                    </Button>\r\n                </NavLink>\r\n            );\r\n        });\r\n    } else {\r\n        content = notAuthList.map((el, index) => {\r\n            return (\r\n                <NavLink \r\n                to={el.to} \r\n                key={index}\r\n                style={linkStyle}>\r\n                    <Button \r\n                    color='inherit'> \r\n                        {el.label} \r\n                    </Button>\r\n                </NavLink>\r\n            );\r\n        })\r\n    }\r\n\r\n    return content ;\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.token !== null\r\n});\r\n\r\nexport default connect(mapStateToProps)(Links);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport StoreIcon from '@material-ui/icons/Store';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport { Typography } from '@material-ui/core';\r\nimport Links from './Links/Links';\r\nimport { connect } from 'react-redux';\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    button: {\r\n      width: '80px',\r\n      fontSize: '11px'\r\n    },\r\n    linkStyle: {\r\n      margin: '0 7px',\r\n      width: '100px',\r\n      fontSize: '12px'\r\n    }\r\n  }),\r\n);\r\n\r\nconst Header = ( props) => {\r\n\r\n    const classes = useStyles();\r\n    const homeLink = props.isAuth ? '/' : '/log-in';\r\n\r\n    return (\r\n    <>\r\n      <AppBar position=\"static\" style={{width: '100%', boxSizing: 'border-box'}}>\r\n        <Toolbar style={{width: '100%', boxSizing: 'border-box' }}>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <NavLink to={homeLink}>\r\n                <StoreIcon />\r\n            </NavLink>\r\n          </IconButton>\r\n          <Typography className={classes.title} />\r\n          <Links />\r\n          { props.status === \"SuperAdmin\" && \r\n            <NavLink \r\n            to='/super-admin-profile' \r\n            className={classes.linkStyle}>\r\n              <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              startIcon={<PersonIcon />}\r\n              >\r\n              {'ADM'}\r\n              </Button>\r\n            </NavLink>\r\n          }\r\n          { props.isAuth &&\r\n            <NavLink \r\n            to='/logout' \r\n            className={classes.linkStyle}>\r\n                <Button \r\n                className={classes.button}\r\n                color='secondary'\r\n                variant='contained'>\r\n                    {'Выйти'} \r\n                </Button>\r\n            </NavLink>\r\n          }\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div> \r\n        {props.children}\r\n      </div>\r\n    </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.token !== null\r\n})\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\n\r\nconst errorParagraphStyle = {\r\n    color: 'salmon',\r\n    fontSize: '25px',\r\n    textAlign: 'center'\r\n}\r\n\r\nconst Error = ( props ) => (\r\n    <div>\r\n        <p style={errorParagraphStyle}>\r\n            {'Произошла серверная ошибка...'}\r\n        </p>\r\n    </div>\r\n);\r\n\r\nexport default Error;","import React from 'react';\r\n\r\nconst errorParagraphStyle = {\r\n    color: 'salmon',\r\n    fontSize: '25px',\r\n    textAlign: 'center'\r\n}\r\n\r\nconst NotMatchPage = (  ) => (\r\n    <div>\r\n        <p style={errorParagraphStyle}>\r\n            {'Текущей страницы не существует...'}\r\n        </p>\r\n    </div>\r\n);\r\n\r\nexport default NotMatchPage","export const checkValidaty = (value, rules) => {\n  let isValid = true;\n\n  if (rules.required) {\n    isValid = value.trim() !== \"\" && isValid;\n  }\n  if (rules.minLength) {\n    isValid = value.length >= rules.minLength && isValid;\n  }\n  if (rules.maxLength) {\n    isValid = value.length <= rules.maxLength && isValid;\n  }\n  if (rules.isEmail) {\n      const pattern = /[a-z0-9!#$%&'+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'+/=?^_`{|}~-]+)@(?:[a-z0-9](?:[a-z0-9-][a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n      isValid = pattern.test( value ) && isValid;\n  }\n  if (rules.isPhone) {\n      const pattern3 = /^(\\s*)?(\\+)?([- _():=+]?\\d[- _():=+]?){10,14}(\\s*)?$/;\n      isValid = pattern3.test(value) && isValid;\n  }\n\n  return isValid;\n};","import React from 'react';\r\n\r\nimport './modal.scss';\r\n\r\nclass Modal extends React.Component {\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        return (nextProps.show !== this.props.show || nextProps.children !== this.props.children)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>  \r\n                {this.props.show && \r\n                <div \r\n                className=\"modal-block-backdrop\" \r\n                onClick={this.props.modalClosed}/>}\r\n                <div \r\n                className={this.props.show ? \"modal-block-content modal-block-opened\" : \"modal-block-content modal-block-closed\"}\r\n                style={{\r\n                    transform : this.props.show ? 'translateY(0)' : 'translateY(-100vh)',\r\n                    opacity : this.props.show ? '1' : '0'\r\n                }}>\r\n                        {this.props.children}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { checkValidaty } from '../../../tools/checkValidaty';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport * as actions from '../../../store/actions/index';\r\n\r\nimport '../auth.scss';\r\n\r\nconst styles = theme => ({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n    link: {\r\n      color: '#3f51b5',\r\n      '&:hover': {\r\n        textDecoration: 'underline'\r\n      }\r\n    },\r\n    circular: {\r\n      marginLeft: '175px'\r\n    }\r\n  });\r\n\r\nclass LogIn extends React.Component {\r\n\r\n    state = {\r\n        controls: {\r\n            email: {\r\n              value: '',\r\n              validation: {\r\n                required: true,\r\n                isEmail: true\r\n              },\r\n              valid: false,\r\n              touched: false\r\n            },\r\n            password: {\r\n              value: '',\r\n              validation: {\r\n                required: true,\r\n                minLength: 6\r\n              },\r\n              valid: false,\r\n              touched: false\r\n            }\r\n          },\r\n          formIsValid: false,\r\n          modalForSuccessChangePass: false\r\n    }\r\n\r\n    componentDidMount() {\r\n      if ( this.props.location.search === '?password_reseted_success?true' ) {\r\n        this.setState({ modalForSuccessChangePass: true });\r\n      }\r\n    }\r\n\r\n    onInputChangedHandler = (event, controlName) => {\r\n        const updatedControls = {\r\n          ...this.state.controls,\r\n          [controlName]: {\r\n            ...this.state.controls[controlName],\r\n            value: event.target.value,\r\n            touched: true,\r\n            valid: checkValidaty(event.target.value, this.state.controls[controlName].validation)\r\n          }\r\n        }\r\n        let formIsValid = true;\r\n        for (let elem in updatedControls) {\r\n          if (!updatedControls[elem].valid) {\r\n            formIsValid = false;\r\n          }\r\n        }\r\n        this.setState({ controls: updatedControls, formIsValid: formIsValid });\r\n      }\r\n\r\n      onSubmitHandler = (event) => {\r\n        event.preventDefault();\r\n        const userData = {\r\n          email: this.state.controls.email.value,\r\n          password: this.state.controls.password.value\r\n        };\r\n        this.props.onLogIn(userData);\r\n      }\r\n\r\n    onCloseModalForSuccessChangePass = () => {\r\n      this.props.history.push('/log-in');\r\n      this.setState({ modalForSuccessChangePass: false });\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n      console.log(this.props);\r\n\r\n        const { classes } = this.props;\r\n\r\n        const modalContent = (\r\n          <>\r\n            <p style={{ textAlign: 'center' }}>{'Вы успешно сменили пароль!'}</p>\r\n          </>\r\n        );\r\n\r\n        return (\r\n          <>\r\n            <Modal\r\n              show={this.state.modalForSuccessChangePass}\r\n              modalClosed={this.onCloseModalForSuccessChangePass}>\r\n                  {modalContent}\r\n            </Modal>\r\n            <Container component=\"main\" maxWidth=\"xs\">\r\n              <CssBaseline />\r\n              <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                  <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                  {'Вход'}\r\n                </Typography>\r\n\r\n                {this.props.error && \r\n                <p className=\"log-in_error-field\" >\r\n                    {this.props.error}\r\n                </p>}\r\n\r\n                <form className={classes.form} noValidate>\r\n                  <TextField\r\n                    onChange={(event) => this.onInputChangedHandler(event, 'email')}\r\n                    value={this.state.controls.email.value}\r\n                    error={!this.state.controls.email.valid && this.state.controls.email.touched}\r\n                    helperText={!this.state.controls.email.valid && this.state.controls.email.touched ? 'enter correct email' : null}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"Почта\"\r\n                    autoComplete=\"email\"\r\n                    autoFocus\r\n                  />\r\n                  <TextField\r\n                    onChange={(event) => this.onInputChangedHandler(event, 'password')}\r\n                    value={this.state.controls.password.value}\r\n                    error={!this.state.controls.password.valid && this.state.controls.password.touched}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                  />\r\n                  {this.props.loading ? \r\n                  <CircularProgress className={classes.circular} /> : \r\n                  <Button\r\n                    disabled={!this.state.formIsValid}\r\n                    onClick={(e) => this.onSubmitHandler(e)}\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                  >\r\n                    {'Войти'}\r\n                  </Button>}\r\n                  <Grid container>\r\n                  <Grid item xs>\r\n                    <NavLink to=\"/forgot-password\" variant=\"body2\" className={classes.link}>\r\n                      Забыли пароль?\r\n                    </NavLink>\r\n                  </Grid>\r\n                </Grid>\r\n                </form>\r\n              </div>\r\n            </Container>\r\n          </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    loading: state.auth.loading,\r\n    error: state.auth.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLogIn: (data) => dispatch(actions.logIn(data))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LogIn));","export const links = [\n    {\n        to: '/pages/main/food-sliders',\n        label: 'Слайдеры Товаров'\n    }, \n    {\n        to: '/pages/main/blog-sliders',\n        label: 'Слайдер блога'\n    }, \n    {\n        to: '/pages/main/shares-slider',\n        label: 'Слайдер акций'\n    },\n    {\n        to: '/pages/main/main-seo',\n        label: 'SEO /'\n    },\n    {\n        to: '/pages/main/kh-seo',\n        label: 'SEO /kh'\n    },\n    {\n        to: '/pages/main/zp-seo',\n        label: 'SEO /zp'\n    },\n    {\n        to: '/pages/main/dp-seo',\n        label: 'SEO /dp'\n    }\n];\n\nexport const texts = [\n    {\n        to: '/pages/main/dp-seo-text',\n        label: 'текст /dp',\n        title: '/dp',\n        fetch: 'dp'\n    },\n    {\n        to: '/pages/main/zp-seo-text',\n        label: 'текст /zp',\n        title: '/zp',\n        fetch: 'zp'\n    },\n    {\n        to: '/pages/main/kh-seo-text',\n        label: 'текст /kh',\n        title: '/kh',\n        fetch: 'kh'\n    }\n];","import React from 'react';\r\nimport { backendUrl } from '../../../../../../config/config';\r\n\r\nimport './index.scss';\r\n\r\nconst CustomFoodBlock = (props) => {\r\n    return (\r\n            <div\r\n                itemProp={'customFoodBlock'}\r\n                itemScope\r\n                className={'container'}\r\n            >\r\n                <div\r\n                    itemProp={'containerList'}\r\n                    className={!props.style ? 'container_block' :'container_list'}\r\n                >\r\n                    {   \r\n                    props.food.filter && \r\n                        <div \r\n                            className=\"triangle-for-filter-label\"\r\n                        >\r\n                            {props.food.filter.name_ru}\r\n                        </div>\r\n                    }\r\n                    <div\r\n                        itemProp={'listHeader'}\r\n                        itemScope\r\n                        className={'list_header'}\r\n                    >\r\n                        <img\r\n                            itemProp={'img'}\r\n                            itemType={'url'}\r\n                            src={backendUrl + `/${props.food.image}`}\r\n                            alt={props.food.name_ru}\r\n                        >\r\n                        </img>\r\n                    </div>\r\n                    <div\r\n                        itemProp={'listFooter'}\r\n                        itemScope\r\n                        className={'list_footer'}\r\n                    >\r\n                        <div\r\n                            itemProp={'headerFooter'}\r\n                            itemScope\r\n                            className={'header'}\r\n                        >\r\n                            <a href=\"#\"\r\n                                itemProp={'headerFooterTitle'}\r\n                            >\r\n                                <h1>\r\n                                    {props.food.name_ru}\r\n                                </h1>\r\n                            </a>\r\n                            <div style={{  wordWrap: 'break-word' }}>\r\n                                <span itemProp={'headerFooterText'}> \r\n                                    {props.food.description_ru.slice(0, 140)}\r\n                                    {props.food.description_ru.length > 140 && \"...\"}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div\r\n                            itemProp={'centerFooter'}\r\n                            itemScope\r\n                            className={'center'}\r\n                        >\r\n                            <h1 itemProp={'centerFooterPrice'}>{100} грн.</h1>\r\n                            <span>\r\n                                <p itemProp={'weight'}>100 г.</p>\r\n                                <p>{`${1} шт.`}</p>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default CustomFoodBlock;","import React from 'react';\nimport axios from 'axios';\nimport { backendUrl } from '../../../../../../config/config';\nimport { connect } from 'react-redux';\nimport { CircularProgress } from '@material-ui/core';\nimport ErrorComponent from '../../../../../Errors/Error/Error';\nimport CustomFoodBlock from '../CustomFoodBlock/CustomFoodBlock';\n\n// for sliders\n\nimport './foodSliders.scss';\n\nclass FoodSilders extends React.Component {\n\n    state = {\n        loading: true,\n        error: false,\n        sliders: null\n    }\n\n    componentDidMount() {\n        axios.get(backendUrl + '/admin/sliders/', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n        .then(res => {\n            console.log(res);\n            this.setState({ error: false, loading: false, sliders: res.data.sliders });\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            this.setState({ error: true, loading: false });\n        });\n    }\n\n    render() {\n\n        console.log(this.props);\n\n        return (\n            <div style={{\n                display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center', width: '100%'}}\n            >\n                {this.state.loading && <CircularProgress />}\n                {this.state.error && !this.state.loading && <ErrorComponent />}\n                { !this.state.error && !this.state.loading && this.state.sliders &&\n                    <>\n                        <h3> {'Слайдеры товаров'} </h3>\n                        {\n                            this.state.sliders.map((el, index) => (\n                                <div \n                                className=\"main-slider-container\"\n                                onClick={() => {\n                                    this.props.history\n                                    .push(`/pages/main/edit-food-slider/${el._id}`);\n                                }}\n                                key={el.index} \n                                >\n                                    <p style={{\n                                        fontSize: '30px', fontWeight: 700\n                                    }}>\n                                        {el.name} {':'}\n                                    </p>\n                                    <div className={'main-swiper'}>\n                                        <div className={'main-swiper_header'}>\n                                            <h1>\n                                                {el.categoryId ? el.categoryId.name_ru : ''}\n                                            </h1>\n                                        </div>\n                                            <div className={'wrapper'}>\n                                                {\n                                                    el.items.slice(0, 4).map(el =>\n                                                        <CustomFoodBlock\n                                                            key={el._id}\n                                                            food={el}\n                                                            style={false}\n                                                        />\n                                                    )\n                                                }\n                                            </div>\n                                    </div>\n                                </div>\n                            ))\n                        }\n                    </>\n                }\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(FoodSilders);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../../../config/config';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { Button, CircularProgress } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ErrorComponent from '../../../../../Errors/Error/Error';\r\nimport CustomFoodBlock from '../CustomFoodBlock/CustomFoodBlock';\r\n\r\nclass FoodSilders extends React.Component {\r\n\r\n    state = {\r\n        sliderId: null,\r\n        loading: true,\r\n        error: false,\r\n        slider: null,\r\n        categories: [],\r\n        freeGoods: [],\r\n        goodToAdd: '',\r\n        updateForm: {\r\n            category: '',\r\n            goods: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const sliderId = this.props.match.params.id;\r\n        this.setState({ sliderId: sliderId });\r\n\r\n        axios.get(backendUrl + `/admin/sliders/${sliderId}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({\r\n                slider: res.data,\r\n                error: false,\r\n                updateForm: {\r\n                    ...this.state.updateForm,\r\n                    category: res.data.categoryId ? res.data.categoryId.name_ru : '',\r\n                    goods: res.data.items\r\n                }\r\n            })\r\n            if (res.data.categoryId) {\r\n                axios.get(backendUrl + `/admin/product/category/plz/${res.data.categoryId._id}`, {\r\n                    headers: {\r\n                        'Authorization': `Bearer ${this.props.token}`\r\n                    } \r\n                })\r\n                .then(res => {\r\n                    console.log(res);\r\n                    this.setState({ \r\n                        error: false,\r\n                        freeGoods: res.data\r\n                     });\r\n                })\r\n                .catch(err => {\r\n                    console.log(err, err.response);\r\n                    this.setState({ error: true });\r\n                })\r\n            } else {\r\n                this.setState({freeGoods: []});\r\n            }\r\n\r\n            axios.get(backendUrl + '/products/categories', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`\r\n                } \r\n            })\r\n            .then(res => {\r\n                console.log(res);\r\n                const categories = res.data.cats.filter(\r\n                    el => el._id !== \"5ff17a7f6158c22e503feaa1\"\r\n                )\r\n                this.setState({\r\n                    loading: false,\r\n                    error: false,\r\n                    categories: categories\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.setState({\r\n                    loading: false,\r\n                    error: true\r\n                })\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            this.setState({\r\n                error: true,\r\n                loading: false\r\n            })\r\n        });\r\n    }\r\n\r\n    onDeleteGood = (id) => {\r\n        let goodsList = [ ...this.state.updateForm.goods];\r\n        goodsList = goodsList.filter((el) => el._id !== id);\r\n\r\n        this.setState((prevState) => ({ \r\n            updateForm: {\r\n                ...prevState.updateForm,\r\n                goods: goodsList\r\n        } \r\n    }));\r\n    }\r\n\r\n    onAddGood = () => {\r\n        const goodName = this.state.goodToAdd;\r\n        const good = this.state.freeGoods.filter(el => el.name_ru === goodName)[0];\r\n\r\n        let updatedGoods = this.state.updateForm.goods;\r\n        updatedGoods.push(good);\r\n\r\n        console.log(updatedGoods);\r\n            this.setState({\r\n                goodToAdd: '',\r\n                updateForm: {\r\n                    ...this.state.updateForm,\r\n                    goods: updatedGoods\r\n                }\r\n            });\r\n    }\r\n\r\n    onChangeCategory = (event) => {\r\n            this.setState((prevState) => ({ updateForm: {\r\n                ...prevState.updateForm,\r\n                category: event.target.value,\r\n                goodToAdd: ''\r\n            }}));\r\n\r\n            const categoryObj = this.state.categories.find(el => {\r\n                return el.name_ru === event.target.value; \r\n            });\r\n            const categoryId = categoryObj._id;\r\n            \r\n            axios.get(backendUrl + `/admin/product/category/plz/${categoryId}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`\r\n                } \r\n            })\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({ \r\n                    error: false,\r\n                    freeGoods: res.data\r\n                 });\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                this.setState({ error: true });\r\n            });\r\n    }\r\n\r\n    onEditSlider = () => {\r\n        const category = this.state.categories.find(\r\n            el => el.name_ru === this.state.updateForm.category\r\n            );\r\n        const categoryId = category._id;\r\n\r\n        this.setState({ loading: true });\r\n        axios.put(backendUrl + `/admin/sliders/${this.state.sliderId}`, {\r\n            categoryId: categoryId,\r\n            items: this.state.updateForm.goods\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }  \r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.props.history.push({\r\n                pathname: '/pages/main/food-sliders',\r\n                state: {\r\n                    successAdd: true\r\n                }\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ \r\n                error: true,\r\n                loading: false\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(this.state);\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center', paddingBottom: '40px'}}\r\n            >\r\n                {this.state.loading && <CircularProgress />}\r\n                {this.state.error && !this.state.loading && <ErrorComponent />}\r\n                { !this.state.error && !this.state.loading && this.state.slider &&\r\n                    <>\r\n                        <p>\r\n                             {'Изменить слайдер '} \r\n                             <span style={{fontWeight: 700}}>\r\n                                {this.state.slider.categoryId ? this.state.slider.categoryId.name_ru : ''} \r\n                             </span>\r\n                        </p>\r\n                        <p>\r\n                            {'Элементов в слайдере не может быть больше 10!'}\r\n                        </p>\r\n                            <div className={'main-swiper'}>\r\n                                <div className={'main-swiper_header'}>\r\n                                    <h1>\r\n                                        {this.state.updateForm.category}\r\n                                    </h1>\r\n                                    </div>\r\n                                        <div className={'wrapper'}>\r\n                                            {\r\n                                                this.state.updateForm.goods.map(el =>\r\n                                                    <CustomFoodBlock\r\n                                                        key={el._id}\r\n                                                        food={el}\r\n                                                        style={false}\r\n                                                    />\r\n                                                )\r\n                                            }\r\n                                        </div>\r\n                                </div>\r\n                                <div style={{textAlign: 'center'}}>\r\n                                    <p>{'Категория:'}</p>\r\n                                    <TextField\r\n                                    id=\"filled-select-currency\"\r\n                                    select\r\n                                    label=\"Категория\"\r\n                                    value={this.state.updateForm.category}\r\n                                    onChange={(e) => this.onChangeCategory(e)}\r\n                                    helperText=\"Выберите категорию\"\r\n                                    variant=\"filled\"\r\n                                    >\r\n                                    {this.state.categories.map((option) => (\r\n                                        <MenuItem key={option._id} value={option.name_ru}>\r\n                                            {option.name_ru}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                    </TextField>\r\n                                    <div style={{ display: 'flex' }}>\r\n                                        <div>\r\n                                        <p>{'Список товаров:'}</p>\r\n                                        <ul className=\"food-slider-list-goods\">\r\n                                            {this.state.updateForm.goods[0] && this.state.updateForm.goods.map((el) => (\r\n                                                <li key={el._id}>\r\n                                                    <div>\r\n                                                        <img src={backendUrl + '/' + el.image} />\r\n                                                        <div style={{ marginLeft: '15px' }}>\r\n                                                            <p>{el.name_ru}</p>\r\n                                                        </div>\r\n                                                        <DeleteIcon \r\n                                                        onClick={() => this.onDeleteGood(el._id)}\r\n                                                        style={{ \r\n                                                            color: 'brown', cursor: 'pointer'\r\n                                                        }}/>\r\n                                                    </div>\r\n                                                </li>\r\n                                            ))}\r\n                                            {\r\n                                            !this.state.updateForm.goods[0] && \r\n                                            <p style={{margin: '0 20px'}}>\r\n                                                {'Список пуст! Добавьте хотя бы один товар'}\r\n                                            </p>\r\n                                            }\r\n                                        </ul>\r\n                                        </div>\r\n                                        <div style={{ \r\n                                            marginLeft: '50px',\r\n                                            display: 'flex',\r\n                                            flexDirection: 'column',\r\n                                            alignItems: 'center'\r\n                                         }} >\r\n                                            <p>{'Добавление товара'}</p>\r\n                                            <TextField\r\n                                            select\r\n                                            label=\"Товар\"\r\n                                            value={this.state.goodToAdd}\r\n                                            onChange={(event) => this.setState({\r\n                                                goodToAdd: event.target.value\r\n                                            })}\r\n                                            helperText=\"Выберите товар\"\r\n                                            variant=\"filled\"\r\n                                            >\r\n                                            {this.state.freeGoods.map((option) => {\r\n\r\n                                                const ifExist = this.state.updateForm.goods.find(el => el._id === option._id);\r\n                                                if (ifExist) {\r\n                                                    return null;\r\n                                                } else {\r\n                                                    return (\r\n                                                        <MenuItem \r\n                                                        key={option._id} \r\n                                                        value={option.name_ru}>\r\n                                                            {option.name_ru}\r\n                                                        </MenuItem>\r\n                                                    )\r\n                                                }\r\n                                            })}\r\n                                            </TextField>\r\n                                            <Button\r\n                                            onClick={this.onAddGood}\r\n                                            disabled={\r\n                                                this.state.goodToAdd === '' \r\n                                                ||\r\n                                                this.state.updateForm.goods.length >= 10\r\n                                        }\r\n                                            style={{marginTop: '20px'}}\r\n                                            color=\"primary\"\r\n                                            variant=\"outlined\">\r\n                                                {'Добавить'}\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                    </>\r\n                }\r\n                <Button\r\n                onClick={this.onEditSlider}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                style={{\r\n                    marginTop: '30px'\r\n                }}\r\n                >\r\n                    {'Изменить'}\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(FoodSilders);\r\n","export default __webpack_public_path__ + \"static/media/swip.2e7a2e4e.svg\";","import React, {Fragment} from 'react';\nimport Slider from 'react-slick';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nimport swip from '../../../../../../../assets/page/Main/swip.svg';\nimport './index.scss';\nimport { backendUrl } from '../../../../../../../config/config';\n\nconst MainSlider = (props) => {\n    const settings = {\n        dots: true,\n        infinite: true,\n        speed: 500,\n        slidesToShow: 1,\n        slidesToScroll: 1\n    };\n    return (\n        <div className={'main-slider'}>\n            <Slider {...settings}\n                className={'slider-block'}\n            >\n                {\n                    props.list.map((el, idx) =>\n                   <Fragment key={idx}>\n                       <div\n\n                           className={'list'}\n                       >\n                           <div className={'list_left'}>\n                               <div className={'absolute'}>\n                                   <h2>\n                                       {el.label}\n                                   </h2>\n                                   {el.product && \n                                   <p>\n                                         Вес {el.product.weight} г.\n                                   </p>\n                                   }\n                                   <span style={{whiteSpace: 'pre-line', wordBreak: 'break-all'}}>\n                                    {el.product && el.product.description_ru.slice(0, 100)}\n                                    </span>\n                                   <div className={'absolute_footer'}>\n                                       <button\n                                       >\n                                           {'Заказать'}\n                                       </button>\n                                       <div className={'right'}>\n                                           {el.product && \n                                           <>\n                                                <span>{el.product.price} грн.</span>\n                                                <h2>{(el.product.price * (100 - el.product.percent)/100).toFixed(0)} грн.</h2>\n                                           </>\n                                           }\n                                       </div>\n                                   </div>\n\n                               </div>\n                           </div>\n                           <div className={'list_right'}>\n                               {\n                                   el.product ?\n                                   <img src={backendUrl + '/' + el.product.image} alt=\"\"/> :\n                                   <img src={el.image} alt=\"\"/>\n                               }\n                           </div>\n                       </div>\n                        <span className=\"dots\">\n                        <img src={swip} alt=\"\"/> 0{el.id}\n                        </span>\n                   </Fragment>\n                        )\n\n                }\n            </Slider>\n        </div>\n    );\n}\n\nexport default MainSlider;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../../config/config';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './addGood.scss';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport ErrorComponent from '../../../../Errors/Error/Error';\r\n\r\nclass AddGood extends React.Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        error: false,\r\n\r\n        shop: this.props.shops[0].name,\r\n        category: this.props.categories[0].name_ru,\r\n\r\n        findedGoods: [],\r\n        searchName: ''\r\n    }\r\n\r\n    onChangeOption = (e, id) => {\r\n        this.setState({\r\n            [id]: e.target.value\r\n        })\r\n    }\r\n\r\n    onFindGoods = () => {\r\n        this.setState({ loading: true });\r\n\r\n        const currentShop = this.props.shops.find(el => el.name === this.state.shop);\r\n        const shopId = currentShop._id;\r\n\r\n        const currentCategory = this.props.categories.find(el => el.name_ru === this.state.category);\r\n        const categoryId = currentCategory._id; \r\n\r\n        axios.get(backendUrl + `/admin/product/${categoryId}/${shopId}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({\r\n                    error: false,\r\n                    findedGoods: res.data.product.map(el => ({\r\n                        ...el,\r\n                        quantity: 1\r\n                    }))\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                this.setState({ error: true });\r\n            })\r\n            .finally(() => {\r\n                this.setState({loading: false})\r\n            });\r\n    }\r\n\r\n    onAddQuantity = (id) => {\r\n        let newFindedGoods = [ ...this.state.findedGoods ];\r\n        newFindedGoods = newFindedGoods.map(el => {\r\n            if (el._id === id) {\r\n                return {\r\n                ...el,\r\n                quantity: el.quantity + 1\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            findedGoods: newFindedGoods\r\n        });\r\n    }\r\n\r\n    onMinusQuantity = (id) => {\r\n        let newFindedGoods = [ ...this.state.findedGoods ];\r\n        newFindedGoods = newFindedGoods.map(el => {\r\n            if (el._id === id) {\r\n                return {\r\n                ...el,\r\n                quantity: el.quantity === 1 ? 1 : el.quantity - 1\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            findedGoods: newFindedGoods\r\n        });\r\n    }\r\n\r\n    onSearch = () => {\r\n        let newFindedGoods = [ ...this.state.findedGoods ];\r\n        newFindedGoods = newFindedGoods.filter(el => {\r\n           return el.name_ru.indexOf(this.state.searchName) !== -1;\r\n        });\r\n\r\n        this.setState({\r\n            findedGoods: newFindedGoods\r\n        });\r\n    }\r\n\r\n    onCancelSearch = () => {\r\n        this.onFindGoods();\r\n        this.setState({\r\n            searchName: ''\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n            {this.props.show && \r\n            <>\r\n                <div \r\n                    className=\"modal-block-backdrop\" \r\n                    onClick={this.props.modalClosed}\r\n                />\r\n                <div className=\"add-good-in-order\">\r\n                    <div className=\"add-good-in-order__left\">\r\n                        <p>{'Выберите магазин:'}</p>\r\n                        <select \r\n                        value={this.state.shop}\r\n                        onChange={(e)=>this.onChangeOption(e, 'shop')}\r\n                        >\r\n                            {this.props.shops.map(el => (\r\n                                <option value={el.name}>\r\n                                    {el.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        <p>{'Выберите категорию:'}</p>\r\n                        <select \r\n                        value={this.state.category}\r\n                        onChange={(e)=>this.onChangeOption(e, 'category')}\r\n                        >\r\n                            {this.props.categories.map(el => (\r\n                                <option value={el.name_ru}>\r\n                                    {el.name_ru}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                        <button\r\n                            onClick={this.onFindGoods}\r\n                        >\r\n                            {'Найти товары'}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"add-good-in-order__right\">\r\n                        <div className=\"add-good-in-order__right_header\">\r\n                            <h3>{'Добавление товаров'}</h3>\r\n                            <div>\r\n                                <input\r\n                                value={this.state.searchName}\r\n                                onChange={(e)=>this.onChangeOption(e, 'searchName')}\r\n                                placeholder=\"Поиск по имени товара\" \r\n                                />\r\n                                <button\r\n                                onClick={this.onSearch}\r\n                                >\r\n                                    {'Поиск'}\r\n                                </button>\r\n                                <button \r\n                                onClick={this.onCancelSearch}\r\n                                style={{backgroundColor:'brown'}}\r\n                                >\r\n                                    {'Сбросить'}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        { this.state.loading && <CircularProgress /> }\r\n                        { this.state.error && <ErrorComponent /> }\r\n                        { !this.state.findedGoods[0] && !this.state.loading && !this.state.error && \r\n                        <p>{'Таких продуктов не найдено'}</p> \r\n                        }\r\n                        { this.state.findedGoods[0] && !this.state.loading && !this.state.error &&\r\n                            <ul>\r\n                                <li>\r\n                                        <div className=\"ul-li-good\">\r\n                                            {'Товар'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            {'Цена'}\r\n                                        </div>\r\n                                        {!this.props.shares ?\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            {'Количество'}\r\n                                        </div> :\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            {'Скидка'}\r\n                                        </div>\r\n                                        }\r\n                                        <div className=\"ul-li-add\">\r\n                                            {'Добавить'}\r\n                                        </div>\r\n                                </li>\r\n                                {this.state.findedGoods.map(el => (\r\n                                    <li>\r\n                                        <div className=\"ul-li-good\">\r\n                                            <img \r\n                                            style={{maxWidth: '50px', maxHeight: '50px'}}\r\n                                            src={backendUrl + '/' + el.image}\r\n                                            />\r\n                                            <span style={{marginLeft:'15px'}}> \r\n                                                {el.name_ru}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            {el.price}{' грн'}\r\n                                        </div>\r\n                                        {!this.props.shares ? \r\n                                        <div className=\"ul-li-quantity\">\r\n                                            <IconButton \r\n                                            onClick={() => this.onMinusQuantity(el._id)}\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <RemoveIcon fontSize=\"small\" />\r\n                                            </IconButton>\r\n                                            {el.quantity}{' шт.'}\r\n                                            <IconButton \r\n                                            onClick={() => this.onAddQuantity(el._id)}\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <AddIcon fontSize=\"small\" />\r\n                                            </IconButton>\r\n                                        </div> :\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            {el.percent}%\r\n                                        </div>\r\n                                        }\r\n                                        <div className=\"ul-li-add\">\r\n                                            <Button\r\n                                            onClick={()=>this.props.onAddGood(el)}\r\n                                            color=\"primary\"\r\n                                            variant=\"contained\"\r\n                                            style={{\r\n                                                textTransform: 'capitalize'\r\n                                            }}\r\n                                            >\r\n                                                {'Добавить'}\r\n                                            </Button>\r\n                                        </div>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n            }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddGood);","export default \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAgICAgICAgICAgIDAwMDAwMDAwMDAQEBAQEBAQIBAQICAgECAgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwP/wAARCAH0AfQDAREAAhEBAxEB/8QATQABAQAAAAAAAAAAAAAAAAAAAAkBAQEBAAAAAAAAAAAAAAAAAAABBBABAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AtMzqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9k=\"","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../../../config/config';\r\nimport { connect } from 'react-redux';\r\n\r\nimport MainSlider from './MainSlider/index';\r\nimport AddGood from '../../../../../Orders/components/CreateOrder/AddGood/AddGood';\r\nimport ErrorComponent from '../../../../../Errors/Error/Error';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport pureImg from '../../../../../../assets/page/Main/pureImg.jpg';\r\n\r\nimport './SharesSlider.scss';\r\n\r\nclass SharesSlider extends React.Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        error: false,\r\n        slider: [],\r\n\r\n        shops: null,\r\n        categories: null,\r\n\r\n        edit: null,\r\n        addMode: false,\r\n\r\n        editedArea: {\r\n            label: '',\r\n            good: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n\r\n\r\n        // get shops\r\n        axios.get(backendUrl + '/admin/shop/', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            this.setState({\r\n                shops: res.data,\r\n                error: false\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: true, loading : false });\r\n        });\r\n\r\n\r\n        //get categories\r\n        axios.get(backendUrl + '/admin/product/categories', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({\r\n                categories: res.data.message,\r\n                error: false\r\n            });\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: true, loading : false });\r\n        })\r\n\r\n\r\n        axios.get(backendUrl + '/admin/sliders/main/one/', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => { \r\n            console.log(res.data[0].items[0]);\r\n            let slider = res.data[0].items.map((el, index) => ({\r\n                ...el,\r\n                id: index + 1\r\n            }));\r\n            while (slider.length < 4 ) {\r\n                slider.push({\r\n                    id: slider.length + 1,\r\n                    label: 'Добавьте заголовок',\r\n                    product: {\r\n                        image: pureImg\r\n                    }\r\n                });\r\n            }\r\n            this.setState({\r\n                slider: slider,\r\n                error: false,\r\n                loading: false\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({\r\n                error: true,\r\n                loading: false\r\n            })\r\n        });\r\n    }\r\n\r\n    onAddGood = (product) => {\r\n        this.setState({ \r\n            addMode: false,\r\n            editedArea: {\r\n                ...this.state.editedArea,\r\n                good: product\r\n            }\r\n         });\r\n    }\r\n\r\n    editShare = () => {\r\n        let newSlider = this.state.slider;\r\n        newSlider = newSlider.map(el => {\r\n            if (el.id === this.state.edit) {\r\n                return {\r\n                    ...el,\r\n                    label: this.state.editedArea.label,\r\n                    product: this.state.editedArea.good\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            edit: null,\r\n            slider: newSlider,\r\n            editedArea: {\r\n                label: '',\r\n                good: null\r\n            }\r\n        });\r\n    }\r\n\r\n    onEditSlider = () => {\r\n        this.setState({ loading: false });\r\n\r\n        axios.put(backendUrl + '/admin/sliders/main/60104e609c0ea9597e8f908a', {\r\n            items: this.state.slider.map(el => ({\r\n                label: el.label,\r\n                product: el.product._id\r\n            }))\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                window.location.reload();\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                this.setState({error: true, loading: false});\r\n            });\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(this.state);\r\n\r\n        const sliderIsValid = this.state.slider.filter(el => el.product ? el.product._id : false).length === 4 ;\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                padding: '30px 0'\r\n            }}>\r\n                {this.state.loading && !this.state.error && <CircularProgress /> }\r\n                {!this.state.loading && this.state.error && <ErrorComponent /> }\r\n                {!this.state.loading && !this.state.error && \r\n                this.state.slider && this.state.shops && this.state.categories && \r\n                <>\r\n                    <AddGood \r\n                        shares\r\n                        shops={this.state.shops}\r\n                        categories={this.state.categories}\r\n                        onAddGood={this.onAddGood}\r\n                        show={this.state.addMode}\r\n                        modalClosed={()=>this.setState({addMode: false})}\r\n                    />\r\n                    <h3>{'Слайдер акционных предложений'}</h3>\r\n                    <h5>{'Вид слайдера:'}</h5>\r\n                    <div style={{\r\n                        display: 'flex', \r\n                        width: '70%',\r\n                        flexDirection: 'column',\r\n                        justifyContent: 'center',\r\n                        position: 'sticky',\r\n                        }}>\r\n                        <MainSlider list={this.state.slider} />\r\n                    </div>\r\n                    <h5>{'Изменить слайдер:'}</h5>\r\n                    <ul className=\"action-slider-ul\">\r\n                        {this.state.slider.map(el => (\r\n                            <li \r\n                            className=\"action-slider-ul_label-li\" \r\n                            onClick={() => this.setState({ edit: el.id })}\r\n                            >\r\n                                <h5>Изменить {el.id} предложение</h5>\r\n                            </li>\r\n                        ))}\r\n                        <li \r\n                        className={\r\n                            this.state.edit ? \r\n                            \"action-slider-ul_label-edit label-opened\" :\r\n                            \"action-slider-ul_label-edit label-closed\"\r\n                        }\r\n                        >\r\n                            <h3>{`Изменить ${this.state.edit} предложение`}</h3>\r\n                            <p>{'Введите заголовок акции:'}</p>\r\n                            <textarea \r\n                                value={this.state.editedArea.label}\r\n                                onChange={(e) => {\r\n                                    this.setState({\r\n                                        editedArea: {\r\n                                            ...this.state.editedArea,\r\n                                            label: e.target.value\r\n                                        }\r\n                                    })\r\n                                }}\r\n                            />\r\n                            <button onClick={\r\n                                () => this.setState((prevState) => ({\r\n                                    addMode: !prevState.addMode\r\n                                }))\r\n                            }>\r\n                                {'Выберите товар по акции'}\r\n                            </button>\r\n                            <p>{'Выбранный товар:'}</p>\r\n                            {\r\n                               !this.state.editedArea.good ? \r\n                               <p style={{marginTop:'0px'}}>{'Пока еще вы не выбрали товар...'}</p> :\r\n                               <ul style={{width: '600px'}}>\r\n                                <li style={{\r\n                                        width: '100%',\r\n                                        borderBottom: '1px solid #aaa',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'row',\r\n                                        padding: '10px 0'\r\n                                }}>\r\n                                        <div className=\"ul-li-good\">\r\n                                            {'Товар'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            {'Цена'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            {'Cкидка'}\r\n                                        </div>\r\n                                </li>\r\n                                    <li style={{\r\n                                        width: '100%',\r\n                                        borderBottom: '1px solid #aaa',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'row',\r\n                                        padding: '10px 0'\r\n                                    }}>\r\n                                        <div className=\"ul-li-good\">\r\n                                            <img \r\n                                            style={{maxWidth: '50px', maxHeight: '50px'}}\r\n                                            src={backendUrl + '/' + this.state.editedArea.good.image}\r\n                                            />\r\n                                            <span style={{marginLeft:'15px'}}> \r\n                                                {this.state.editedArea.good.name_ru}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            {this.state.editedArea.good.price}{' грн'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            {this.state.editedArea.good.percent}%\r\n                                        </div>\r\n                                    </li>\r\n                            </ul>\r\n                            }\r\n                            <button \r\n                            onClick={this.editShare}\r\n                            disabled={\r\n                                this.state.editedArea.label === '' || !this.state.editedArea.good\r\n                            }\r\n                            >\r\n                                {'Изменить предложение'}\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                </>}\r\n                <Button\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    onClick={this.onEditSlider}\r\n                    disabled={!sliderIsValid}\r\n                >\r\n                    {'Изменить слайдер'}\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(SharesSlider);","import React from 'react';\r\nimport { backendUrl } from '../../../../../../../config/config';\r\n\r\nimport './addBlog.scss';\r\n\r\nclass AddBlog extends React.Component {\r\n    render() {\r\n        return (\r\n            <>\r\n            {this.props.show && \r\n            <>\r\n                <div \r\n                    className=\"modal-block-backdrop\" \r\n                    onClick={this.props.modalClosed}\r\n                />\r\n                <div className=\"add-good-in-order\" style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    flexDirection: 'column'\r\n                }}>\r\n                    <h2>\r\n                        {'Выберите блог из списка:'}\r\n                    </h2>\r\n                    <div className=\"add-blog-images\">\r\n                        {this.props.posts.map(el => \r\n                            <img\r\n                                onClick={() => this.props.onSelectImage(el)}\r\n                                className='add-blog-img'\r\n                                width={150} \r\n                                src={backendUrl + '/' + el.image} \r\n                            />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </>\r\n            }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddBlog;","import React from 'react';\r\nimport Slider from \"react-slick\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Truncate from 'react-truncate';\r\n\r\nimport './index.scss';\r\nimport { backendUrl } from '../../../../../../../config/config';\r\n\r\nconst MainBlog = (props) => {\r\n\r\n    const settings = {\r\n        dots: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1\r\n    };\r\n\r\n    return (\r\n        <div className={'main-blog'}>\r\n            <Slider {...settings}\r\n                className={'slide-block'}\r\n            >\r\n                {\r\n                    props.slider.map((post, index) =>\r\n                        <div\r\n                            key={index}\r\n                            className={'list'}\r\n                        >\r\n                            <div className={'list_left'}>\r\n                                {post.post ?\r\n                                <img src={backendUrl + '/' + post.post.image} alt=\"\" /> :\r\n                                <img src={post.image} alt=\"\"/>\r\n                                }\r\n                            </div>\r\n                            <div className={'list_right'}>\r\n                                <div className={'top'}>\r\n                                    {post.label ? <h3>{post.label}</h3> : <h3>Добавьте заголовок</h3>}\r\n                                    <Truncate\r\n                                        lines={8}\r\n                                        ellipsis={<span>...</span>}\r\n                                    >\r\n                                        {post.description ? <p>{post.description}</p> : <p>Добавьте описание</p> }\r\n                                    </Truncate>\r\n                                </div>\r\n                                <Link\r\n                                    className={'bottom'}\r\n                                    to={'/'}\r\n                                >\r\n                                    <button>\r\n                                        Блог\r\n                                    </button>\r\n                                </Link>\r\n                            </div>\r\n\r\n                        </div>\r\n                    )\r\n                }\r\n            </Slider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MainBlog;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../../../config/config';\r\nimport { connect } from 'react-redux';\r\n\r\nimport AddBlog from './AddBlog/AddBlog';\r\nimport ErrorComponent from '../../../../../Errors/Error/Error';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport MainBlog from './MainBlog/MainBlog';\r\nimport pureImg from '../../../../../../assets/page/Main/pureImg.jpg';\r\n\r\nimport '../SharesSlider/SharesSlider.scss';\r\n\r\nclass BlogSlider extends React.Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        error: false,\r\n        slider: [],\r\n\r\n        blogs: null,\r\n\r\n        edit: null,\r\n        addMode: false,\r\n\r\n        editedArea: {\r\n            label: '',\r\n            description: '',\r\n            blog: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n\r\n        axios.get(backendUrl + '/posts/', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState({ error: false, blogs: res.data });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({\r\n                error: true,\r\n                loading: false\r\n            })\r\n        })\r\n\r\n        axios.get(backendUrl + '/admin/sliders/6025098384cf183349a6cd2c', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => { \r\n            console.log(res);\r\n            let slider = res.data.blogs.map((el, index) => ({\r\n                ...el,\r\n                id: index + 1\r\n            }));\r\n            while (slider.length < 4 ) {\r\n                slider.push({\r\n                    id: slider.length + 1,\r\n                    image: pureImg,\r\n                });\r\n            }\r\n            this.setState({\r\n                slider: slider,\r\n                error: false,\r\n                loading: false\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({\r\n                error: true,\r\n                loading: false\r\n            })\r\n        });\r\n    }\r\n\r\n    onAddGood = (product) => {\r\n        this.setState({ \r\n            addMode: false,\r\n            editedArea: {\r\n                ...this.state.editedArea,\r\n                good: product\r\n            }\r\n         });\r\n    }\r\n\r\n    editShare = () => {\r\n        let newSlider = this.state.slider;\r\n        newSlider = newSlider.map(el => {\r\n            if (el.id === this.state.edit) {\r\n                return {\r\n                    ...el,\r\n                    label: this.state.editedArea.label,\r\n                    description: this.state.editedArea.description,\r\n                    post: this.state.editedArea.blog\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            edit: null,\r\n            slider: newSlider,\r\n            editedArea: {\r\n                label: '',\r\n                description: '',\r\n                blog: null\r\n            }\r\n        });\r\n    }\r\n\r\n    onEditSlider = () => {\r\n        this.setState({ loading: false });\r\n\r\n        const blogs = this.state.slider.map(el => ({\r\n                label: el.label,\r\n                description: el.description,\r\n                post: el.post._id\r\n        }));\r\n        console.log(blogs);\r\n\r\n        axios.put(backendUrl + '/admin/sliders/blogs/6025098384cf183349a6cd2c', {\r\n            blogs: blogs\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                window.location.reload();\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                this.setState({error: true, loading: false});\r\n            });\r\n    }\r\n\r\n    onSelectImage = (el) => {\r\n        this.setState({ addMode: false });\r\n        this.setState({\r\n            editedArea: {\r\n                ...this.state.editedArea,\r\n                blog: el\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(this.state);\r\n\r\n        const sliderIsValid = this.state.slider.filter(el => el.post).length === 4 ;\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                padding: '30px 0'\r\n            }}>\r\n                {this.state.loading && !this.state.error && <CircularProgress /> }\r\n                {!this.state.loading && this.state.error && <ErrorComponent /> }\r\n                {!this.state.loading && !this.state.error && \r\n                this.state.blogs && \r\n                <>\r\n                    <AddBlog \r\n                        posts={this.state.blogs}\r\n                        show={this.state.addMode}\r\n                        onSelectImage={this.onSelectImage}\r\n                        modalClosed={()=>this.setState({addMode: false})}\r\n                    />\r\n                    <h3>{'Слайдер акционных предложений'}</h3>\r\n                    <h5>{'Вид слайдера:'}</h5>\r\n                    <div style={{width: '70%'}}>\r\n                        <MainBlog slider={this.state.slider} />\r\n                    </div>\r\n                    <h5>{'Изменить слайдер:'}</h5>\r\n                    <ul className=\"action-slider-ul\">\r\n                        {this.state.slider.map(el => (\r\n                            <li \r\n                            className=\"action-slider-ul_label-li\" \r\n                            onClick={() => this.setState({ edit: el.id })}\r\n                            >\r\n                                <h5>Изменить {el.id} предложение</h5>\r\n                            </li>\r\n                        ))}\r\n                        <li \r\n                        className={\r\n                            this.state.edit ? \r\n                            \"action-slider-ul_label-edit label-opened\" :\r\n                            \"action-slider-ul_label-edit label-closed\"\r\n                        }\r\n                        >\r\n                            <h3>{`Изменить ${this.state.edit} предложение`}</h3>\r\n                            <p>{'Введите заголовок блога:'}</p>\r\n                            <textarea \r\n                                value={this.state.editedArea.label}\r\n                                onChange={(e) => {\r\n                                    this.setState({\r\n                                        editedArea: {\r\n                                            ...this.state.editedArea,\r\n                                            label: e.target.value\r\n                                        }\r\n                                    })\r\n                                }}\r\n                            />\r\n                            <p>{'Введите описание блога:'}</p>\r\n                            <textarea \r\n                                value={this.state.editedArea.description}\r\n                                onChange={(e) => {\r\n                                    this.setState({\r\n                                        editedArea: {\r\n                                            ...this.state.editedArea,\r\n                                            description: e.target.value\r\n                                        }\r\n                                    })\r\n                                }}\r\n                            />\r\n                            <button onClick={\r\n                                () => this.setState((prevState) => ({\r\n                                    addMode: !prevState.addMode\r\n                                }))\r\n                            }>\r\n                                {'Выберите блог со списка'}\r\n                            </button>\r\n                            <p>{'Выбранный блог:'}</p>\r\n                            {\r\n                               !this.state.editedArea.blog ? \r\n                               <p style={{marginTop:'0px'}}>{'Пока еще вы не выбрали блог...'}</p> :\r\n                               <img src={backendUrl + '/' + this.state.editedArea.blog.image} />\r\n                            }\r\n                            <button \r\n                            onClick={this.editShare}\r\n                            disabled={\r\n                                this.state.editedArea.label === '' || this.state.editedArea.description === '' || !this.state.editedArea.blog\r\n                            }\r\n                            >\r\n                                {'Изменить предложение'}\r\n                            </button>\r\n                        </li>\r\n                    </ul>\r\n                </>}\r\n                <Button\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    onClick={this.onEditSlider}\r\n                    disabled={!sliderIsValid}\r\n                >\r\n                    {'Изменить слайдер'}\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(BlogSlider);","import React, { useEffect, useState } from 'react';\nimport { backendUrl } from '../../config/config';\n\nimport './seo.scss';\n\nconst Seo = (props) => {\n\n    const [ title, setTitle ] = useState('');\n    const [ keywords, setKeywords ] = useState('');\n    const [ description, setDescription ] = useState('');\n    const [ alt, setAlt ] = useState('');\n    const [ img, setImg ] = useState('');\n    const [ uploadedFile, setUploadedFile ] = useState({\n        file: null,\n        imagePreviewUrl: null\n    });\n\n    useEffect(() => {\n        const seo = props.seo;\n        setTitle(seo.title);\n        setDescription(seo.description);\n        setKeywords(seo.keywords);\n        setAlt(seo.alt || '');\n        setImg(seo.image || '');\n    }, [props]);\n\n    const onChangeTitle = (e) => {\n        setTitle(e.target.value);\n    };\n    const onChangeDescription = (e) => {\n        setDescription(e.target.value);\n    };\n    const onChangeKeywords = (e) => {\n        setKeywords(e.target.value);\n    };\n\n    const onChangeAlt = (e) =>{\n        setAlt(e.target.value);\n    }\n\n    const onSelectIconHandler = (e) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            setUploadedFile({\n                file: file,\n                imagePreviewUrl: reader.result\n            })\n        };\n\n        const file = e.target.files[0];\n        if (file) { reader.readAsDataURL(file) }\n        else { setUploadedFile({ file: null, imagePreviewUrl: null }) }\n    };\n\n    const onExportData = () => {\n        props.onExportData({\n            title, description, keywords, alt, img, uploadedFile\n        });\n    };\n\n    return (\n        <div className=\"seo\">\n            <h5>SEO разметка для страницы {props.title} </h5>\n            <p className=\"warning\">Вводите теги длинной, которая соттветствует правилам Google!</p>\n            <div className=\"textarea-cont\">\n                <p>Введите тег Title:</p>\n                <textarea \n                    value={title}\n                    onChange={onChangeTitle}\n                />\n            </div>\n            <div className=\"textarea-cont\">\n                <p>Введите тег Keywords:</p>\n                <textarea \n                    value={keywords}\n                    onChange={onChangeKeywords}\n                />\n            </div>\n            <div className=\"textarea-cont\">\n                <p>Введите тег Description:</p>\n                <textarea\n                    className=\"textarea-cont_descr\" \n                    value={description}\n                    onChange={onChangeDescription}\n                />\n            </div>\n            {props.image && <>\n                <div className=\"textarea-cont\">\n                <p>Введите alt:</p>\n                <textarea\n                    value={alt}\n                    onChange={onChangeAlt}\n                />\n            </div>\n            </>\n            }\n            {props.image && \n            <>\n                <p>{'Картинка страницы:'}</p>\n                <img \n                    style={{\n                        maxHeight: '200px',\n                        maxWidth: '100%'\n                    }}\n                    src={uploadedFile.imagePreviewUrl ? uploadedFile.imagePreviewUrl :  backendUrl + '/' + img}\n                />\n            </>\n            }\n            {\n            props.image && \n            <>\n                <p>{'Изменить картинку:'}</p>\n                <div>\n                    <input \n                        onChange={onSelectIconHandler}\n                        type=\"file\"\n                        accept=\"image/*\"\n                    />\n                    {uploadedFile.file &&\n                    <button\n                        style={{backgroundColor:'brown'}}\n                        onClick={() => setUploadedFile({file: null, imagePreviewUrl: null})}\n                    >\n                        {'сбросить'}\n                    </button>}\n                </div>\n            </>\n            } \n            <button\n            style={{\n                marginTop: '20px',\n                alignSelf: 'center',\n                fontSize: '20px'\n            }}\n            onClick={onExportData}\n            >\n                {'Сохранить изменения SEO'}\n            </button>\n        </div>\n    );\n};\n\nexport default Seo;","import React, { useEffect, useState } from 'react';\nimport { backendUrl } from '../../../../config/config';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\nimport Seo from '../../../SEO/SEO';\nimport ErrorComponent from '../../../Errors/Error/Error';\nimport { CircularProgress } from '@material-ui/core';\n\nconst SeoEdit = (props) => {\n    \n    const [ loading, setLoading ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ seo, setSeo ] = useState(null);\n    const [ seoId, setSeoId ] = useState(null);\n\n    useEffect(() => {\n      //  window.location.reload();\n        const name = props.name;\n        setLoading(true);\n        setError(false);\n\n        axios.get(backendUrl + `/admin/seo/name/${name}`, {\n            headers: {\n                'Authorization': `Bearer ${props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                setSeo({\n                    title: res.data.title,\n                    keywords: res.data.keywords,\n                    description: res.data.description,\n                    image: res.data.image,\n                    alt: res.data.alt\n                });\n                setSeoId(res.data._id);\n                setError(false);\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                setError(true);\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    }, [props]);\n\n    const onExportData = (obj) => {\n        setLoading(true);\n\n        if (obj.uploadedFile.file) {\n\n            let formData = new FormData();\n\n            formData.append('title', obj.title);\n            formData.append('description', obj.description);\n            formData.append('keywords', obj.keywords);\n            formData.append('image', obj.uploadedFile.file);\n            formData.append('alt', obj.alt);\n\n            axios.put(backendUrl + `/admin/seo/${seoId}`, formData, {\n                headers: {\n                    'Authorization': `Bearer ${props.token}`\n                }\n            })\n            .then(res => {\n                console.log(res);\n                props.history.push('/pages');\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                setError(true);\n                setLoading(false);\n            });\n\n        } else {\n\n            axios.put(backendUrl + `/admin/seo/no/image/${seoId}`,{\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords,\n                alt: obj.alt\n            }, {\n                headers: {\n                    'Authorization': `Bearer ${props.token}`\n                } \n            })\n                .then(res => {\n                    console.log(res);\n                    props.history.push('/pages');\n                })\n                .catch(err => {\n                    console.log(err);\n                    setError(true);\n                    setLoading(false)\n                })\n        }\n\n    }\n\n\n    return (\n        <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            padding: '30px 0'\n        }}>\n            { error && !loading && <ErrorComponent /> }\n            { !error && loading && <CircularProgress /> }\n            { !error && !loading && seo &&\n            <> \n             <h1>{'SEO разметка для страницы'}</h1>\n             <Seo \n                image\n                seo={seo}\n                onExportData={onExportData}\n             />\n            </>\n            }\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(SeoEdit);","import { CircularProgress } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from 'react-redux';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\n\r\nconst inputStyles = {\r\n    width: '90%',\r\n    minHeight: '200px',\r\n    height: '25px',\r\n    border: '1px solid #d1d6da',\r\n    borderRadius: '4px',\r\n    color: '#555555',\r\n    backgroundColor: '#fff',\r\n    lineHeight: 1.428571429,\r\n    fontSize: '16px',\r\n    overflow: 'auto',\r\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\r\n    resize: 'vertical',\r\n    padding: '8px'\r\n};\r\n\r\nclass PageText extends React.Component {\r\n\r\n    state = {\r\n        loading: false,\r\n        error: false,\r\n        textArr: null,\r\n        pageId: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            loading: true,\r\n            error: false\r\n        });\r\n\r\n            axios.get(backendUrl + `/admin/text/name/${this.props.location.state.fetch}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                console.log(res);\r\n                let array = [];\r\n                for (let i = 1; i <= 6; i++ ) {\r\n                    array.push(res.data[`abz${i}`]);\r\n                }\r\n                this.setState({\r\n                    loading: false,\r\n                    error: false,\r\n                    textArr: array,\r\n                    pageId: res.data._id\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                this.setState({\r\n                    loading: false,\r\n                    error: true\r\n                });\r\n            });\r\n    }\r\n\r\n    onChangeTextArea = (event, index) => {\r\n        let newTextArr = [ ...this.state.textArr ];\r\n        newTextArr[index] = event.target.value;\r\n        this.setState({\r\n            textArr: newTextArr\r\n        });\r\n    }\r\n\r\n    onSaveText = () => {\r\n        this.setState({ loading: true });\r\n\r\n        const newObj = {};\r\n        const textArr = this.state.textArr;\r\n        textArr.forEach((el, index) => {\r\n            newObj[`abz${index + 1}`] = el;\r\n        });\r\n\r\n        axios.put(backendUrl + `/admin/text/id/${this.state.pageId}`, newObj, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            window.location.reload();\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ error: true, loading: false });\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            title\r\n        } = this.props.location.state;\r\n\r\n        const {\r\n            loading,\r\n            error,\r\n            textArr\r\n        } = this.state;\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                padding: '40px 0'\r\n            }}>\r\n                {loading && !error && <CircularProgress />}\r\n                {!loading && error && <ErrorComponent />}\r\n                {!loading && !error && textArr &&\r\n                    <>\r\n                        <h3>{`Текст для страницы ${title}`}</h3>\r\n                        {textArr.map((el, index) => (\r\n                            <>\r\n                                <p>{`Введите текст абзаца ${index + 1}`}</p>\r\n                                <textarea \r\n                                value={el}\r\n                                onChange={(e) => this.onChangeTextArea(e, index)}\r\n                                style={inputStyles} \r\n                                />\r\n                            </>\r\n                        ))}\r\n                        <Button\r\n                            color='primary'\r\n                            variant=\"contained\"\r\n                            style={{\r\n                                margin: '20px 0'\r\n                            }}\r\n                            onClick={this.onSaveText}\r\n                        >\r\n                            {'Изменить'}\r\n                        </Button>\r\n                    </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    token: state.auth.token\r\n})\r\n\r\nexport default connect(mapStateToProps)(PageText);","import React from 'react';\nimport { NavLink, Switch, Route, Redirect, Link } from 'react-router-dom';\n\nimport { links, texts } from './list';\n\nimport FoodSilders from './mainComponents/FoodSliders/FoodSliders';\nimport EditFoodSlider from './mainComponents/EditFoodSlider/EditFoodSlider';\nimport SharesSlider from './mainComponents/SharesSlider/SharesSlider';\nimport BlogSlider from './mainComponents/BlogSlider/BlogSlider';\nimport SeoEdit from '../../components/SeoEdit/SeoEdit';\nimport PageText from '../PageText/PageText';\n\nconst Main = (props) => {\n\n    const routes = (\n        <Switch>\n            <Route path=\"/pages/main/food-sliders\" component={FoodSilders} />\n            <Route path=\"/pages/main/blog-sliders\" component={BlogSlider} />\n            <Route path=\"/pages/main/popular-sliders\" component={FoodSilders} />\n            <Route path=\"/pages/main/edit-food-slider/:id\" component={EditFoodSlider} />\n            <Route path=\"/pages/main/shares-slider\" component={SharesSlider} />\n            <Route \n                path=\"/pages/main/main-seo\" \n                render={(props) => <SeoEdit name=\"Menu\" {...props} />} \n            />\n            <Route \n                path=\"/pages/main/kh-seo\" \n                render={(props) => <SeoEdit name=\"Kh\" {...props} />} \n            />\n            <Route \n                path=\"/pages/main/dp-seo\" \n                render={(props) => <SeoEdit name=\"Dp\" {...props} />} \n            />\n            <Route \n                path=\"/pages/main/zp-seo\" \n                render={(props) => <SeoEdit name=\"Zp\" {...props} />} \n            />\n            {texts.map((el, index) => (\n                <Route \n                    key={index}\n                    path={el.to}\n                    render={(props) => <PageText {...props} />}\n                />\n            ))}\n            <Redirect exact from=\"/pages/main\" to=\"/pages/main/food-sliders\" />\n        </Switch>\n    );\n\n    return (\n        <>\n            <div className=\"all-admins_header\">\n                {links.map((el, index) => (\n                    <NavLink \n                    key={index} \n                    to={el.to} \n                    activeClassName=\"all-admins_header__item-active\"\n                    className='all-admins_header__item'>\n                        {el.label}\n                    </NavLink>\n                ))}\n            </div>\n            <div className=\"all-admins_header\">\n                {texts.map((el, index) => (\n                    <Link \n                    key={index} \n                    to={{\n                        pathname: el.to,\n                        state: {\n                            title: el.title,\n                            fetch: el.fetch\n                        }\n                    }} \n                    activeClassName=\"all-admins_header__item-active\"\n                    className='all-admins_header__item'>\n                        {el.label}\n                    </Link>\n                ))}\n            </div>\n            {routes}\n        </>\n    );\n};\n\nexport default Main;","import React from 'react';\r\nimport { Switch, Route, NavLink } from 'react-router-dom';\r\n\r\nimport Main from './components/Main/Main';\r\nimport SeoEdit from './components/SeoEdit/SeoEdit';\r\n\r\nconst Pages = ( props ) => {\r\n\r\n    const routes = (\r\n        <Switch>\r\n            <Route path=\"/pages/main\" render={(props) => <Main {...props} />} />\r\n            <Route path=\"/pages/shares\" render={(props) => <SeoEdit name=\"Actions\" {...props} />} />\r\n            <Route path=\"/pages/delivery\" render={(props) => <SeoEdit name=\"Delivery\" {...props} />} />\r\n            <Route path=\"/pages/contacts\" render={(props) => <SeoEdit name=\"Contacts\" {...props} />} />\r\n            <Route path=\"/pages/blog\" render={(props) => <SeoEdit name=\"Blog\" {...props} />} />\r\n        </Switch>\r\n    );\r\n\r\n    const path = props.location.pathname;\r\n\r\n    return (\r\n        <>\r\n            {path === '/pages' ?\r\n            (\r\n                <div className=\"editor-content\">\r\n                    <ul>\r\n                        <NavLink to=\"/pages/main\" >\r\n                            <li>{'МЕНЮ'}</li>\r\n                        </NavLink>\r\n                        <NavLink to=\"/pages/shares\">\r\n                            <li>{'АКЦИИ'}</li>\r\n                        </NavLink>\r\n                        <NavLink to=\"/pages/delivery\">\r\n                            <li>{'ДОСТАВКА/ОПЛАТА'}</li>\r\n                        </NavLink>\r\n                        <NavLink to=\"/pages/contacts\">\r\n                            <li>{'КОНТАКТЫ'}</li>\r\n                        </NavLink>\r\n                        <NavLink to=\"/pages/blog\">\r\n                            <li>{'БЛОГ'}</li>\r\n                        </NavLink>\r\n                    </ul>\r\n                </div>\r\n            ) :\r\n            (\r\n              routes\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Pages;","export const links = [\n    {\n        to: '/storage/categories',\n        label: 'Категории'\n    },\n    {\n        to: '/storage/goods',\n        label: 'Товары'\n    },\n    {\n        to: '/storage/filters',\n        label: 'Фильтры'\n    }\n]\n","import axios from 'axios';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { backendUrl } from '../../../../config/config';\nimport { withStyles } from '@material-ui/styles';\nimport Modal from '../../../UI/Modal/Modal';\nimport ErrorComponent from '../../../Errors/Error/Error';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from '@material-ui/core/Table';\nimport Paper from '@material-ui/core/Paper';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\n\nconst style = theme => ({\n    table: {\n        width: '100%'\n    },\n    edit: {\n        color: '#4caf50',\n        cursor: 'pointer',\n        '&:hover': {\n            color: '#357a38'\n        }\n    },\n    delete: {\n        color: '#b71c1c',\n        cursor: 'pointer',\n        '&:hover': {\n            color: '#801313'\n        }\n    },\n    paper: {\n        width: '90%',\n        marginTop: '20px',\n        marginBottom: '60px'\n    }\n});\n\nconst headCells = [\n    { id: 'icon', numeric: false, disablePadding: true, label: 'Иконка' },\n    { id: 'name_ru', numeric: false, disablePadding: false, label: 'Название' },\n    { id: 'name_ua', numeric: false, disablePadding: false, label: 'Название(UA)' },\n    { id: 'alt', numeric: false, disablePadding: false, label: 'alt' },\n    { id: 'route', numeric: false, disablePadding: false, label: 'route' },\n    { id: 'edit', numeric: false, disablePadding: false, label: '' },\n    { id: 'delete', numeric: false, disablePadding: false, label: '' }\n];\n\nclass Categories extends React.Component {\n\n    state = {\n        error: false,\n        loading: true,\n        categories: null,\n        page: 0,\n        rowsPerPage: 10,\n        deleteMode: null,\n        modalForSuccessAdd: false\n    }\n\n    componentDidMount() {\n        this.setState({ loading: true });\n\n        if ( this.props.location.search === '?success-created=true' ) {\n            this.setState({ modalForSuccessAdd: true });\n        }\n\n        axios.get(backendUrl + '/admin/product/categories', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            } \n        })\n        .then(res => {\n            console.log(res, res.data);\n            const categories = res.data.message;\n            this.setState({ categories: categories });\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\n            this.setState({ error: message });\n        })\n        .finally(() => {\n            this.setState({ loading: false });\n        })\n    }\n\n    handleChangeRowsPerPage = (event) => {\n        this.setState({\n            rowsPerPage: parseInt(event.target.value, 10),\n            page: 0\n        })\n      };\n\n      handleChangePage = (event, newPage) => {\n        this.setState({\n            page: newPage\n        })\n      };\n\n    onDeleteCategory = (id) => {\n\n        axios.delete(backendUrl + `/admin/product/category/${id}`, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            console.log(res);\n            window.location.reload();\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            this.setState({ error: true });\n        });\n    }\n\n    onEditCategory = (id) => {\n        this.props.history.push(`/storage/edit-category/${id}`);\n    }\n\n    render() {\n\n        const { classes } = this.props;\n        let modalDeleteContent = null;\n\n        const modalForSuccessAdd = (\n            <>\n                <p style={{ textAlign: 'center' }}>\n                    {'Вы успешно добавили категорию'}\n                </p>\n            </>\n        )\n\n        if ( this.state.deleteMode !== null ) {\n            modalDeleteContent = (\n                <div style={{ \n                    display: 'flex',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    alignItems: 'center'\n                 }} >\n                  <p style={{ textAlign: 'center' }}>\n                      {'Вы точно хотите удалить категорию '}\n                    <span style={{ fontWeight: 700 }} >{this.state.deleteMode[1]}</span>\n                  </p>\n                  <Button\n                    onClick={() => this.onDeleteCategory(this.state.deleteMode[0])}\n                  >\n                      {'Да'}\n                  </Button>\n                </div>\n            );\n        };\n\n        return (\n            <>\n            {this.state.error ? \n            <ErrorComponent /> : \n            <>\n                <Modal\n                    show={this.state.modalForSuccessAdd}\n                    modalClosed={() => {\n                        this.setState({modalForSuccessAdd: false});\n                        this.props.history.push('/storage/categories');\n                    }}>\n                    {modalForSuccessAdd}\n                </Modal>\n                <Modal\n                    show={this.state.deleteMode !== null}\n                    modalClosed={() => {\n                        this.setState({ deleteMode: null });\n                    }}>\n                        {modalDeleteContent}\n                </Modal>\n                {this.state.loading ? \n                <CircularProgress/>\n                :\n                <>\n                    <div className=\"users-list__content-area__controls__top\">\n                                <h1>Категории</h1>\n                                <NavLink to=\"/storage/add-category\">\n                                    <Button\n                                    variant=\"contained\" \n                                    color=\"primary\"\n                                    startIcon={<AddIcon />}>\n                                        {'Добавить'}\n                                    </Button>\n                                </NavLink>\n                    </div>\n                    <p style={{ paddingLeft: '20px'}}> \n                        Очень важно чтобы был правильный route и иконка! Без этого не будет отображаться в меню на главном сайте!\n                    </p>\n                    <div style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent:'center'\n                    }}>\n                        <Paper elevation={2} className={classes.paper}>\n                                <Table className={classes.table} size=\"medium\" aria-label=\"a dense table\">\n                                    <TableHead>\n                                    <TableRow>\n                                        {headCells.map(headCell => (\n                                            <TableCell\n                                            align=\"left\"\n                                            key={headCell.id}\n                                            >\n                                                    {headCell.label}\n                                            </TableCell>\n                                        ))}\n                                    </TableRow>\n                                    </TableHead>\n                                    <TableBody>\n                                    {this.state.categories\n                                    .slice(\n                                        this.state.page * this.state.rowsPerPage, \n                                        this.state.page * this.state.rowsPerPage \n                                        + this.state.rowsPerPage).map((user) => (\n                                        <TableRow key={user._id}>\n                                            <TableCell component=\"th\" scope=\"row\" align=\"left\">\n                                                <img \n                                                style={{\n                                                    maxWidth: '60px',\n                                                    maxHeight: '35px'\n                                                }}\n                                                alt=\"\" \n                                                src={backendUrl + '/' + user.image} \n                                                />\n                                            </TableCell>\n                                            <TableCell align=\"left\">{user.name_ru}</TableCell>\n                                            <TableCell align=\"left\">{user.name_ua}</TableCell>\n                                            <TableCell align=\"left\">{user.alt}</TableCell>\n                                            <TableCell align=\"left\">{user.route}</TableCell>\n                                            <TableCell align=\"left\">\n                                                { user._id !== '5ff17a7f6158c22e503feaa1' &&\n                                                    <EditIcon\n                                                    onClick={() => this.onEditCategory(user._id)}\n                                                    className={classes.edit} \n                                                    />\n                                                }\n                                            </TableCell>\n                                            <TableCell align=\"left\">\n                                                { user._id !== '5ff17a7f6158c22e503feaa1' &&\n                                                    <DeleteIcon \n                                                    onClick={() => this.setState({ deleteMode: [ user._id, user.name_ru ] })}\n                                                    className={classes.delete}/>\n                                                }\n                                            </TableCell>\n                                        </TableRow>\n                                    ))}\n                                    </TableBody>\n                                </Table>\n                                <TablePagination\n                                    className={classes.paginator}\n                                    rowsPerPageOptions={[5, 10, 25]}\n                                    component=\"div\"\n                                    count={this.state.categories.length}\n                                    rowsPerPage={this.state.rowsPerPage}\n                                    page={this.state.page}\n                                    onChangePage={this.handleChangePage}\n                                    onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                                    labelRowsPerPage={'Количество полей на странице:'}\n                                />\n                            </Paper>\n                        </div>\n                </>\n                }\n            </>}\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(style)(Categories));","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../../config/config';\nimport { withStyles } from '@material-ui/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport Seo from '../../../SEO/SEO';\n\nconst inputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '1px solid #d1d6da',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n};\n\nconst style = theme => ({\n    element: {\n        margin: '20px 0'\n    },\n    button: {\n        marginTop: '25px'\n    },\n    cancelButton: {\n        marginTop: '10px'\n    }\n});\n\nclass AddCategory extends React.Component {\n\n    state = {\n        form: {\n            nameRU: {\n                value: '',\n                valid: false,\n                touched: false\n              },\n              nameUA: {\n                value: '',\n                valid: false,\n                touched: false\n              },\n              route: {\n                value: '',\n                valid: false,\n                touched: false\n              },\n              alt: {\n                  value: '',\n                  valid: false,\n                  touched: false\n              },\n              article: {\n                value: '',\n                valid: true,\n                touched: false,\n                validation: {\n                    required: true,\n                    maxLength: 1000000\n                }\n             },\n        },\n        seo: {\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        seo_dp:{\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        seo_zp:{\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        formIsValid: false,\n        error: null,\n        file: null,\n        imagePreviewUrl: null,\n        loading: false\n    }\n\n    onInputChangedHandler = (event, name) => {\n        const updatedForm = {\n            ...this.state.form\n        };\n        updatedForm[name].value = event.target.value;\n        updatedForm[name].touched = true;\n        updatedForm[name].valid = event.target.value !== '';\n\n        let formIsValid = true;\n        for (let elem in updatedForm) {\n            if (!updatedForm[elem].valid && updatedForm[elem].valid !== undefined) {\n              formIsValid = false;\n            }\n          };\n        this.setState({ form: updatedForm, formIsValid: formIsValid });\n    }\n\n    onSelectIconHandler = (event) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            this.setState({\n                file: file,\n                imagePreviewUrl: reader.result\n            })\n        };\n\n        const file = event.target.files[0];\n        if (file) { reader.readAsDataURL(file); }\n        else { this.setState({ file: null, imagePreviewUrl: null }) }\n    }\n\n    onSubmitForm = () => {\n        this.setState({ loading: true });\n\n        let formData = new FormData();\n        formData.append('name_ru', this.state.form.nameRU.value);\n        formData.append('name_ua', this.state.form.nameUA.value);\n        formData.append('route', this.state.form.route.value);\n        formData.append('image', this.state.file);\n        formData.append('alt', this.state.form.alt.value);\n        formData.append('article', this.state.form.article.value);\n        formData.append('seo_title', this.state.seo.title);\n        formData.append('seo_description', this.state.seo.description);\n        formData.append('seo_keywords', this.state.seo.keywords);\n        formData.append('seo_title_zp', this.state.seo_zp.title);\n            formData.append('seo_description_zp', this.state.seo_zp.description);\n            formData.append('seo_keywords_zp', this.state.seo_zp.keywords);\n            formData.append('seo_title_dp', this.state.seo_dp.title);\n            formData.append('seo_description_dp', this.state.seo_dp.description);\n            formData.append('seo_keywords_dp', this.state.seo_dp.keywords);\n\n        axios.post(backendUrl + '/admin/product/add/category', formData, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            console.log(res.data);\n            this.setState({ error: null });\n            this.props.history.push('/storage/categories?success-created=true');\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            const message = err.response ? err.response.data.message : err.toString();\n            this.setState({ error: message });\n        })\n        .finally(() => {\n            this.setState({ loading: false });\n        });\n    }\n\n    onExportData = (obj) => {\n        this.setState({\n            seo: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    onExportData_zp = (obj) => {\n        this.setState({\n            seo_zp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n    onExportData_dp = (obj) => {\n        this.setState({\n            seo_dp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    render() {\n\n        const { classes } = this.props;\n\n        return (\n            <>\n            <div className=\"create-new-admin__content\" style={{ padding: '20px 0'}}>\n                <h1>\n                    {'Создать новую категорию'}\n                </h1>\n                    { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'nameRU')}\n                    value={this.state.form.nameRU.value}\n                    className={classes.element}\n                    label=\"Название(RU)\" \n                    variant=\"outlined\"\n                     />\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'nameUA')}\n                    value={this.state.form.nameUA.value}\n                    className={classes.element}\n                    label=\"Название(UA)\" \n                    variant=\"outlined\"\n                     />\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'route')}\n                    value={this.state.form.route.value}\n                    className={classes.element}\n                    label=\"route\" \n                    variant=\"outlined\" \n                    />\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'alt')}\n                    value={this.state.form.alt.value}\n                    className={classes.element}\n                    label=\"alt атрибут\" \n                    variant=\"outlined\" \n                    />\n                    <p>{'Введите html поста:'}</p>\n                        <textarea \n                        value={this.state.form.article.value}\n                        onChange={(e) => this.onInputChangedHandler(e, 'article')}\n                        style={{\n                            ...inputStyles,\n                            height: '600px'\n                        }} \n                        />\n                    <label style={{margin: '10px 0'}}>\n                        Загрузите иконку\n                    </label>\n                    <input \n                    onChange={(event) => this.onSelectIconHandler(event)}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    />\n                    {this.state.imagePreviewUrl &&\n                    <>\n                        <Button\n                        onClick={() => this.setState({ file: null, imagePreviewUrl: null })}\n                        className={classes.cancelButton}\n                        size=\"small\"\n                        variant=\"contained\"\n                        color=\"secondary\">\n                            {'отменить'}\n                        </Button>\n                        <img \n                        style={{ marginTop: '20px', maxWidth: '100%' }}\n                        alt=\"icon\"\n                        src={this.state.imagePreviewUrl}\n                        />\n                        <p>Как будет выгядеть на сайте:</p>\n                        <img \n                        style={{ \n                            marginTop: '10px', \n                            maxWidth: '60px',\n                            maxHeight: '35px' \n                        }}\n                        alt=\"icon\"\n                        src={this.state.imagePreviewUrl}\n                        />\n                    </>}\n                    <p>{'Для правильной работы сначала сохраните SEO разметку для каждого магазина и потом создайте товар!'}</p>\n                    <h1>Харьков</h1>\n                    {this.state.seo &&\n                    <Seo \n                        seo={this.state.seo}\n                        onExportData={this.onExportData}\n                    />}\n                     <h1>Днепр</h1>\n                    {this.state.seo_dp &&\n                    <Seo \n                        seo={this.state.seo_dp}\n                        onExportData={this.onExportData_dp}\n                    />}\n                    <h1>Запорожье</h1>\n                    {this.state.seo_zp &&\n                    <Seo \n                        seo={this.state.seo_zp}\n                        onExportData={this.onExportData_zp}\n                    />}\n                    {this.state.loading ?\n                    <CircularProgress />\n                    :\n                    <Button\n                    onClick={this.onSubmitForm}\n                    disabled={!this.state.formIsValid || this.state.file === null}\n                    variant=\"contained\" \n                    color=\"primary\"\n                    className={classes.button}\n                    >\n                        {'Создать'}\n                    </Button>}\n            </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(style)(AddCategory));","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../../config/config';\nimport { withStyles } from '@material-ui/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport Seo from '../../../SEO/SEO';\n\nimport './EditCategory.scss';\n\nconst inputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '1px solid #d1d6da',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n};\n\nconst style = theme => ({\n    element: {\n        margin: '20px 0'\n    },\n    button: {\n        marginTop: '25px'\n    },\n    cancelButton: {\n        marginTop: '10px'\n    }\n});\n\nclass EditCategory extends React.Component {\n\n    state = {\n        error: false,\n        loading: false,\n        form: {\n            nameRU: {\n                value: '',\n                valid: true,\n                touched: false\n              },\n              nameUA: {\n                value: '',\n                valid: true,\n                touched: false\n              },\n              route: {\n                value: '',\n                valid: true,\n                touched: false\n              },\n              alt: {\n                  value: '',\n                  valid: true,\n                  touched: false\n              },\n              article: {\n                value: '',\n                valid: true,\n                touched: false,\n             },\n        },\n        seo: {\n            title: '',\n            description: '',\n            keywords: '',\n            image: ''\n        },    \n        seo_dp:{\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        seo_zp:{\n            title: '',\n            description: '',\n            keywords: ''\n        }, \n        seo_image: '',\n        seoFile: null,\n        seoImagePreviewUrl: null,\n        formIsValid: true,\n        file: null,\n        imagePreviewUrl: null,\n        categoryId: null\n    }\n\n    componentDidMount() {\n        this.setState({ loading: true });\n\n        const categoryId = this.props.match.params.id;\n        this.setState({ categoryId: categoryId });\n        axios.get(backendUrl + `/admin/product/category/id/${categoryId}`, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n        .then(res => {\n            console.log(res.data);\n            this.setState({\n                loading: false,\n                error: false,\n                form: {\n                    ...this.state.form,\n                    nameRU: {\n                        value: res.data.name_ru,\n                        valid: true,\n                        touched: false\n                    },\n                    nameUA: {\n                        value: res.data.name_ua,\n                        valid: true,\n                        touched: false\n                    },\n                    route: {\n                        value: res.data.route,\n                        valid: true,\n                        touched: false\n                      },\n                    alt: {\n                        value: res.data.alt,\n                        valid: true,\n                        touched: false\n                    },\n                    article: {\n                        value: res.data.article,\n                        valid: true,\n                        touched: false,\n                    },\n                },\n                seo: {\n                    title: res.data.seo_title,\n                    description: res.data.seo_description,\n                    keywords: res.data.seo_keywords,\n                },\n                seo_dp:{\n                    title: res.data.seo_title_dp,\n                    description: res.data.seo_description_dp,\n                    keywords: res.data.seo_keywords_dp\n                },\n                seo_zp:{\n                    title: res.data.seo_title_zp,\n                    description: res.data.seo_description_zp,\n                    keywords: res.data.seo_keywords_zp\n                },\n                seo_image: res.data.seo_image\n            });\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            this.setState({\n                loading: false,\n                error: true\n            });\n        });\n    }\n\n    onSelectIconHandler = (event, type) => {\n        if (type === 'seo') {\n            const reader = new FileReader();\n            reader.onloadend = () => {\n                    this.setState({\n                        seoFile: file,\n                        seoImagePreviewUrl: reader.result\n                    });\n            };\n            const file = event.target.files[0];\n            if (file) { reader.readAsDataURL(file); }\n            else {\n                this.setState({ seoFile: null, seoImagePreviewUrl: null }) \n            }\n        } else {\n            const reader = new FileReader();\n            reader.onloadend = () => {\n                    this.setState({\n                        file: file,\n                        imagePreviewUrl: reader.result\n                    });\n            };\n            const file = event.target.files[0];\n            if (file) { reader.readAsDataURL(file); }\n            else {\n                this.setState({ file: null, imagePreviewUrl: null }) \n            }\n        }\n    }\n\n    onExportData = (obj) => {\n        this.setState({\n            seo: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    onExportData_zp = (obj) => {\n        this.setState({\n            seo_zp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n    onExportData_dp = (obj) => {\n        this.setState({\n            seo_dp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    onInputChangedHandler = (event, name) => {\n        const updatedForm = {\n            ...this.state.form\n        };\n        updatedForm[name].value = event.target.value;\n        updatedForm[name].touched = true;\n        updatedForm[name].valid = event.target.value !== '';\n\n        let formIsValid = true;\n        for (let elem in updatedForm) {\n            if (!updatedForm[elem].valid && updatedForm[elem].valid !== undefined) {\n              formIsValid = false;\n            }\n          };\n        this.setState({ form: updatedForm, formIsValid: formIsValid });\n    }\n\n    onSubmitForm = () => {\n        this.setState({ loading: true });\n\n        if (this.state.file) {\n            let formData = new FormData();\n            formData.append('name_ru', this.state.form.nameRU.value);\n            formData.append('name_ua', this.state.form.nameUA.value);\n            formData.append('route', this.state.form.route.value);\n            formData.append('image', this.state.file);\n            formData.append('alt', this.state.form.alt.value);\n            formData.append('article', this.state.form.article.value);\n            formData.append('seo_title', this.state.seo.title);\n            formData.append('seo_description', this.state.seo.description);\n            formData.append('seo_keywords', this.state.seo.keywords);\n            formData.append('seo_title_zp', this.state.seo_zp.title);\n            formData.append('seo_description_zp', this.state.seo_zp.description);\n            formData.append('seo_keywords_zp', this.state.seo_zp.keywords);\n            formData.append('seo_title_dp', this.state.seo_dp.title);\n            formData.append('seo_description_dp', this.state.seo_dp.description);\n            formData.append('seo_keywords_dp', this.state.seo_dp.keywords);\n\n            axios.put(backendUrl + `/admin/product/category/${this.state.categoryId}`, formData, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                }\n            })\n            .then(res => {\n                if (this.state.seoFile) {\n                    let formData = new FormData();\n                    formData.append('seoImage', this.state.seoFile);\n                    axios.put(backendUrl + `/admin/product/category/seo/Image/${this.state.categoryId}`, formData, {\n                        headers: {\n                            'Authorization': `Bearer ${this.props.token}`\n                        }\n                    })\n                    .then(res => {\n                        this.props.history.push('/storage/categories');\n                    })\n                    .catch(err => {\n                        this.setState({ error: true, loading: false });\n                    });\n                } else {\n                    this.props.history.push('/storage/categories');\n                }\n            })\n            .catch(err => {\n                this.setState({ error: true, loading: false });\n            });\n\n        } else {\n\n            axios.put(backendUrl + `/admin/product/category/noImage/${this.state.categoryId}`, {\n                'name_ru': this.state.form.nameRU.value,\n                'name_ua': this.state.form.nameUA.value,\n                route: this.state.form.route.value,\n                alt: this.state.form.alt.value,\n                article: this.state.form.article.value,\n                'seo_title': this.state.seo.title,\n                'seo_description': this.state.seo.description,\n                'seo_keywords': this.state.seo.keywords,\n                'seo_title_dp': this.state.seo_dp.title,\n                'seo_description_dp': this.state.seo_dp.description,\n                'seo_keywords_dp': this.state.seo_dp.keywords,\n                'seo_title_zp': this.state.seo_zp.title,\n                'seo_description_zp': this.state.seo_zp.description,\n                'seo_keywords_zp': this.state.seo_zp.keywords\n            }, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                }\n            })\n            .then(res => {\n                if (this.state.seoFile) {\n                    let formData = new FormData();\n                    formData.append('seoImage', this.state.seoFile);\n                    axios.put(backendUrl + `/admin/product/category/seo/Image/${this.state.categoryId}`, formData, {\n                        headers: {\n                            'Authorization': `Bearer ${this.props.token}`\n                        }\n                    })\n                    .then(res => {\n                        this.props.history.push('/storage/categories');\n                    })\n                    .catch(err => {\n                        this.setState({ error: true, loading: false });\n                    });\n                    \n                } else {\n                    this.props.history.push('/storage/categories');\n                }\n            })\n            .catch(err => {\n                this.setState({ error: true, loading: false });\n            });\n\n        }\n    }\n\n    render() {\n\n        const { classes } = this.props;\n        console.log(this.state);\n\n        return (\n            <div className=\"edit-category\">\n                <h1>{'Изменить Категорию'}</h1>\n                { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'nameRU')}\n                    value={this.state.form.nameRU.value}\n                    className={classes.element}\n                    label=\"Название(RU)\" \n                    variant=\"outlined\"\n                     />\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'nameUA')}\n                    value={this.state.form.nameUA.value}\n                    className={classes.element}\n                    label=\"Название(UA)\" \n                    variant=\"outlined\"\n                     />\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'route')}\n                    value={this.state.form.route.value}\n                    className={classes.element}\n                    label=\"route\" \n                    variant=\"outlined\" \n                    />\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'alt')}\n                    value={this.state.form.alt.value}\n                    className={classes.element}\n                    label=\"alt атрибут\" \n                    variant=\"outlined\" \n                    />\n                    <p>{'Введите html поста:'}</p>\n                        <textarea \n                        value={this.state.form.article.value}\n                        onChange={(e) => this.onInputChangedHandler(e, 'article')}\n                        style={{\n                            ...inputStyles,\n                            height: '600px'\n                        }} \n                        />\n                    <label style={{margin: '10px 0'}}>\n                        Если хотите обновить картинку загрузите файл\n                    </label>\n                    <input \n                        onChange={(event) => this.onSelectIconHandler(event, 'image')}\n                        type=\"file\"\n                        accept=\"image/*\"\n                    />\n                    {this.state.imagePreviewUrl &&\n                    <>\n                        <Button\n                        onClick={() => this.setState({ file: null, imagePreviewUrl: null })}\n                        className={classes.cancelButton}\n                        size=\"small\"\n                        variant=\"contained\"\n                        color=\"secondary\">\n                            {'отменить'}\n                        </Button>\n                        <img \n                        style={{ marginTop: '20px', maxWidth: '100%' }}\n                        alt=\"icon\"\n                        src={this.state.imagePreviewUrl}\n                        />\n                        <p>Как будет выгядеть на сайте:</p>\n                        <img \n                        style={{ \n                            marginTop: '10px', \n                            maxWidth: '60px',\n                            maxHeight: '35px' \n                        }}\n                        alt=\"icon\"\n                        src={this.state.imagePreviewUrl}\n                        />\n                    </>}\n                    <p>{'Для правильной работы сначала сохраните SEO разметку для каждого магазина и потом создайте товар!'}</p>\n                    <h1>Харьков</h1>\n                    {this.state.seo &&\n                    <Seo \n                        seo={this.state.seo}\n                        onExportData={this.onExportData}\n                    />}\n                     <h1>Днепр</h1>\n                    {this.state.seo_dp &&\n                    <Seo \n                        seo={this.state.seo_dp}\n                        onExportData={this.onExportData_dp}\n                    />}\n                    <h1>Запорожье</h1>\n                    {this.state.seo_zp &&\n                    <Seo \n                        seo={this.state.seo_zp}\n                        onExportData={this.onExportData_zp}\n                    />}\n                    <p>SEO картинка:</p>\n                    {(this.state.seo_image || this.state.seoImagePreviewUrl) ?\n                    <img \n                        style={{ marginTop: '20px', maxWidth: '100%' }}\n                        src={\n                            this.state.seoImagePreviewUrl ?\n                            this.state.seoImagePreviewUrl :\n                            (backendUrl + `/${this.state.seo_image}`)\n                        }\n                    /> : <p>Загрузите картинку...</p>}\n                    <label style={{margin: '10px 0'}}>\n                        Обновить SEO картинку:\n                    </label>\n                    <input \n                        onChange={(event) => this.onSelectIconHandler(event, 'seo')}\n                        type=\"file\"\n                        accept=\"image/*\"\n                    />\n                    {this.state.seoFile &&\n                        <button\n                            style={{backgroundColor:'brown', marginTop: '20px'}}\n                            onClick={() => this.setState({seoFile: null, seoImagePreviewUrl: null})}\n                        >\n                            {'сбросить'}\n                        </button>\n                    }\n                    {this.state.loading ?\n                    <CircularProgress />\n                    :\n                    <Button\n                    onClick={this.onSubmitForm}\n                    disabled={!this.state.formIsValid}\n                    variant=\"contained\" \n                    color=\"primary\"\n                    className={classes.button}\n                    >\n                        {'Изменить'}\n                    </Button>}  \n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(style)(EditCategory));","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../../config/config';\nimport { withStyles } from '@material-ui/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport Seo from '../../../SEO/SEO';\n\nimport './addGoods.scss';\n\nconst inputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '1px solid #d1d6da',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n};\n\nconst style = theme => ({\n    element: {\n        margin: '20px 0'\n    },\n    button: {\n        marginTop: '25px'\n    },\n    cancelButton: {\n        marginTop: '10px'\n    }\n});\n\nclass AddCategory extends React.Component {\n\n    state = {\n        form: {\n            name: {\n                value: '',\n                valid: false,\n              },\n              category: {\n                  value: '',\n                  valid: false\n              },\n              filter: {\n                  value: '',\n                  valid: true\n              },\n              weight: {\n                  value: '',\n                  number: true,\n                  valid: false\n              },\n              price: {\n                  value: '',\n                  number: true,\n                  valid: false\n              },\n              percent: {\n                  value: 0,\n                  number: true,\n                  valid: true\n              },\n              description: {\n                  value: '',\n                  valid: false\n              },\n              alt: {\n                  value: '',\n                  valid: false\n              },\n              route: {\n                    value: '',\n                    valid: false\n              },\n              article: {\n                value: '',\n                valid: true,\n                touched: false,\n                validation: {\n                    required: true,\n                    maxLength: 1000000\n                }\n             },\n        },\n        seo: {\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        seo_dp:{\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        seo_zp:{\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        formIsValid: false,\n        error: null,\n        file: null,\n        imagePreviewUrl: null,\n        loading: true,\n        categories: [],\n        filters: [''],\n        cities: [''],\n        currentCities: [],\n        activeCity: ''\n    }\n\n    componentDidMount() {\n\n        axios.get(backendUrl + '/admin/product/filters', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            console.log(res, res.data);\n            const updatedFilters = this.state.filters.concat(res.data.fils);\n            this.setState({\n                filters: updatedFilters\n             });\n        })\n        .catch(err => {\n            console.log(err, err.data);\n            this.setState({ error: true });\n        });\n\n        axios.get(backendUrl + '/admin/shop/', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            this.setState({\n                cities: this.state.cities.concat(res.data),\n                activeCity: res.data[0].name\n            });\n        })\n        .catch(err => {\n            this.setState({\n                error: true,\n                loading: false\n            })\n        })\n\n        axios.get(backendUrl + '/admin/product/categories', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            console.log(res, res.data);\n            this.setState({\n                categories: res.data.message,\n                form: {\n                    ...this.state.form,\n                    category: {\n                        ...this.state.form.category,\n                        value: res.data.message[0].name_ru,\n                        valid: true\n                    }\n                }\n             });\n        })\n        .catch(err => {\n            console.log(err, err.data);\n            const message = err.response ? err.response.data.message || err.response.data.error : err.toString();\n            this.setState({ error: message });\n        })\n        .finally(()=>this.setState({ loading: false }));\n    }\n\n    onInputChangedHandler = (event, name) => {\n        const updatedForm = {\n            ...this.state.form\n        };\n        updatedForm[name].value = event.target.value;\n        updatedForm[name].touched = true;\n        updatedForm[name].valid = event.target.value !== '';\n        if (updatedForm[name].number) {\n            console.log(event.target.value);\n            updatedForm[name].valid = Number(event.target.value) >= 0 ;\n        }\n\n        let formIsValid = true;\n        for (let elem in updatedForm) {\n            if (!updatedForm[elem].valid && updatedForm[elem].valid !== undefined) {\n              formIsValid = false;\n            }\n          };\n        this.setState({ form: updatedForm, formIsValid: formIsValid });\n    }\n\n    onSelectIconHandler = (event) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            this.setState({\n                file: file,\n                imagePreviewUrl: reader.result\n            })\n        };\n\n        const file = event.target.files[0];\n        if (file) { reader.readAsDataURL(file); }\n        else { this.setState({ file: null, imagePreviewUrl: null }) }\n    }\n\n    onSubmitForm = () => {\n        this.setState({ loading: true });\n\n        const category = this.state.categories.find((el) => {\n            if (el.name_ru === this.state.form.category.value ) {\n                return true;\n            }\n            return false;\n        });\n\n        const filter = this.state.filters.find((el) => {\n            if ( el.name_ru === this.state.form.filter.value ) {\n                return true;\n            }\n            return false;\n        });\n        console.log(filter);\n        const filterId = filter ? filter._id : '';\n\n        const cities = this.state.currentCities.map(el => el._id);\n        console.log(cities);\n\n        let formData = new FormData();\n        formData.append('name_ru', this.state.form.name.value);\n        formData.append('description_ru', this.state.form.description.value);\n        formData.append('price', this.state.form.price.value);\n        formData.append('percent', this.state.form.percent.value);\n        formData.append('weight', this.state.form.weight.value);\n        formData.append('alt', this.state.form.alt.value);\n        formData.append('route', this.state.form.route.value);\n        formData.append('shop', JSON.stringify(cities));\n        formData.append('categoryId', category._id);\n        formData.append('filters', filterId);\n        formData.append('image', this.state.file);\n        formData.append('article', this.state.form.article.value);\n        formData.append('seo_title', this.state.seo.title);\n        formData.append('seo_description', this.state.seo.description);\n        formData.append('seo_keywords', this.state.seo.keywords);\n        formData.append('seo_title_zp', this.state.seo_zp.title);\n        formData.append('seo_description_zp', this.state.seo_zp.description);\n        formData.append('seo_keywords_zp', this.state.seo_zp.keywords);\n        formData.append('seo_title_dp', this.state.seo_dp.title);\n        formData.append('seo_description_dp', this.state.seo_dp.description);\n        formData.append('seo_keywords_dp', this.state.seo_dp.keywords);\n\n        axios.post(backendUrl + '/admin/product/', formData, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            console.log(res.data);\n            this.setState({ error: null });\n            this.props.history.push('/storage/goods?success-created=true');\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            const message = err.response ? err.response.data.message || err.response.data.error : err.toString();\n            this.setState({ error: message });\n        })\n        .finally(() => {\n            this.setState({ loading: false });\n        });\n    }\n\n    onCategoryChangedHandler = (event) => {\n        this.setState((prevState) => ({\n            form: {\n                ...prevState.form,\n                category: {\n                    ...this.state.form.category,\n                    value: event.target.value,\n                    valid: true\n                }\n            }\n        }))\n      }\n    \n    onFilterChangedHandler = (event) => {\n        this.setState((prevState) => ({\n            form: {\n                ...prevState.form,\n                filter: {\n                    ...this.state.form.filter,\n                    value: event.target.value,\n                    valid: true\n                }\n            }\n        }))\n    }\n\n    onDeleteCity = (id) => {\n        const currentCities = [ ...this.state.currentCities ].filter(el => el._id !== id);\n        const deletedShop = [ ...this.state.currentCities ].find(el => el._id === id );\n\n        let updatedShops = [...this.state.cities];\n        updatedShops.push(deletedShop);\n        this.setState({\n            cities: updatedShops,\n            currentCities\n        });\n    }\n\n    onAddShop = () => {\n        const currentShops = [ ...this.state.currentCities ];\n        const addedShop = this.state.cities.find(el => el.name === this.state.activeCity);\n        currentShops.push(addedShop);\n\n        const updatedCities = [ ...this.state.cities ].filter(el => el.name !== this.state.activeCity);\n\n        this.setState({\n            cities: updatedCities,\n            currentCities: currentShops,\n            activeCity: ''\n        });\n    }\n\n    onExportData = (obj) => {\n        this.setState({\n            seo: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    onExportData_zp = (obj) => {\n        this.setState({\n            seo_zp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n    onExportData_dp = (obj) => {\n        this.setState({\n            seo_dp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <>\n            {!this.state.categories && !this.state.loading ?\n                <p>Добавьте хотя бы одну категорию!</p>\n                :\n                this.state.loading ? \n                <div className=\"create-new-admin__content\">\n                    <CircularProgress />\n                </div> \n                : \n            <>\n            <div className=\"create-new-admin__content\" style={{ padding: '20px 0'}}>\n                <h1>\n                    {'Создать новый товар'}\n                </h1>\n                <p>{'Фильтры от 400, 600, 1000 грн вставлять только товарам с категории подарки! Подаркам вставлять вес 0г. и цену 0! Подарки на главном сайте в качестве товаров не отображаються'}</p>\n                    { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'name')}\n                    value={this.state.form.name.value}\n                    className={classes.element}\n                    label=\"Название\" \n                    variant=\"outlined\"\n                     />\n                     <TextField\n                        select\n                        label=\"Категория\"\n                        className={classes.element}\n                        value={this.state.form.category.value}\n                        onChange={this.onCategoryChangedHandler}\n                        SelectProps={{\n                            native: true,\n                        }}\n                        helperText=\"Выберите категорию\"\n                        variant=\"outlined\"\n                        >\n                        {this.state.categories.map((option, index) => (\n                            <option key={index} value={option.name_ru}>\n                            {option.name_ru}\n                            </option>\n                        ))}\n                    </TextField>\n                    <div style={{display:'flex'}}>\n                            <div style={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: 'center'\n                            }}>\n                                <h5>{'Магазины:'}</h5>\n                                <ul style={{\n                                    listStyleType: 'none',\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    justifyContent: 'center',\n                                    backgroundColor: '#aaa',\n                                    padding: '0 10px',\n                                    borderRadius: '5px' \n                                }}>\n                                            {this.state.currentCities.map((el) => (\n                                                <li key={el._id}>\n                                                    <div style={{\n                                                        display: 'flex',\n                                                        alignItems: 'center',\n                                                        justifyContent: 'center'\n                                                    }}>\n                                                            <p>{el.name}</p>\n                                                        <DeleteIcon \n                                                        onClick={() => this.onDeleteCity(el._id)}\n                                                        style={{ \n                                                            color: 'brown', cursor: 'pointer'\n                                                        }}/>\n                                                    </div>\n                                                </li>\n                                            ))}\n                                </ul>\n                            </div>\n                            <div style={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: 'center',\n                                marginLeft: '50px'\n                            }}>\n                                <h5>{'Добавить магазин'}</h5>\n                                <TextField\n                                    select\n                                    value={this.state.activeCity}\n                                    onChange={(e) => {\n                                        this.setState({\n                                            activeCity: e.target.value\n                                        })\n                                    }}\n                                    SelectProps={{\n                                        native: true,\n                                    }}\n                                    helperText=\"Выберите магазин\"\n                                    variant=\"outlined\"\n                                    >\n                                    {this.state.cities.map((option, index) => (\n                                        <option key={index} value={option.name}>\n                                            {option.name}\n                                        </option>\n                                    ))}\n                                </TextField>\n                                <Button \n                                onClick={this.onAddShop}\n                                color=\"primary\"\n                                variant=\"outlined\"\n                                disabled={this.state.activeCity === ''}\n                                style={{margin: '20px 0'}}>\n                                    {'Добавить'}\n                                </Button>\n                            </div>\n                    </div>\n                    <TextField\n                        select\n                        label=\"Фильтр\"\n                        value={this.state.form.filter.value}\n                        onChange={this.onFilterChangedHandler}\n                        SelectProps={{\n                            native: true,\n                        }}\n                        helperText=\"Выберите фильтр\"\n                        variant=\"outlined\"\n                        >\n                        {this.state.filters.map((option, index) => (\n                            <option key={index} value={option.name_ru}>\n                                {option.name_ru}\n                            </option>\n                        ))}\n                    </TextField>\n                     <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'weight')}\n                    value={this.state.form.weight.value}\n                    className={classes.element}\n                    label=\"Вес(граммы)\" \n                    type=\"number\"\n                    variant=\"outlined\"\n                     />\n                     <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'price')}\n                    value={this.state.form.price.value}\n                    className={classes.element}\n                    label=\"Цена(грн)\" \n                    type=\"number\"\n                    variant=\"outlined\"\n                     />\n                     <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'percent')}\n                    value={this.state.form.percent.value}\n                    className={classes.element}\n                    label=\"Процент скидки\" \n                    type=\"number\"\n                    variant=\"outlined\"\n                     />\n                    <p style={{margin:'0'}}>{'Описание'}</p>\n                    <textarea \n                    onChange={(e)=>this.onInputChangedHandler(e, 'description')}\n                    style={{ \n                        width: '300px',\n                        minHeight: '70px',\n                        resize: 'vertical',\n                        borderRadius: '5px'\n                         }} />\n                    <p>\n                        route путь(название товара маленькими латинскими буквами, для каждого товара оригинальный):\n                     </p>\n                     <TextField \n                        onChange={(event) => this.onInputChangedHandler(event, 'route')}\n                        value={this.state.form.route.value}\n                        className={classes.element}\n                        label=\"route путь\" \n                        variant=\"outlined\"\n                     />\n                    <TextField \n                        onChange={(event) => this.onInputChangedHandler(event, 'alt')}\n                        value={this.state.form.alt.value}\n                        className={classes.element}\n                        label=\"alt атрибут\" \n                        variant=\"outlined\"\n                     />\n                     <p>{'Введите html поста:'}</p>\n                        <textarea \n                        value={this.state.form.article.value}\n                        onChange={(e) => this.onInputChangedHandler(e, 'article')}\n                        style={{\n                            ...inputStyles,\n                            height: '600px'\n                        }} \n                        />\n                    <label style={{margin: '10px 0'}}>\n                        Загрузите картинку\n                    </label>\n                    <input \n                    onChange={(event) => this.onSelectIconHandler(event)}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    />\n                    {this.state.imagePreviewUrl &&\n                    <>\n                        <Button\n                        onClick={() => this.setState({ file: null, imagePreviewUrl: null })}\n                        className={classes.cancelButton}\n                        size=\"small\"\n                        variant=\"contained\"\n                        color=\"secondary\">\n                            {'отменить'}\n                        </Button>\n                        <img \n                        style={{ marginTop: '20px', maxWidth: '100%' }}\n                        alt=\"icon\"\n                        src={this.state.imagePreviewUrl}\n                        />\n                        <p>Как будет выгядеть на сайте:</p>\n                        <div className=\"food-block-container\"> \n                            <div \n                            className=\"list_header\"\n                            >\n                                <img \n                                style={{ marginTop: '10px' }}\n                                alt=\"pic\"\n                                src={this.state.imagePreviewUrl}\n                                />\n                            </div>\n                        </div>\n                    </>}\n                    <p>{'Для правильной работы сначала сохраните SEO разметку для каждого магазина и потом создайте товар!'}</p>\n                    <h1>Харьков</h1>\n                    {this.state.seo &&\n                    <Seo \n                        seo={this.state.seo}\n                        onExportData={this.onExportData}\n                    />}\n                     <h1>Днепр</h1>\n                    {this.state.seo_dp &&\n                    <Seo \n                        seo={this.state.seo_dp}\n                        onExportData={this.onExportData_dp}\n                    />}\n                    <h1>Запорожье</h1>\n                    {this.state.seo_zp &&\n                    <Seo \n                        seo={this.state.seo_zp}\n                        onExportData={this.onExportData_zp}\n                    />}\n                    <Button\n                    onClick={this.onSubmitForm}\n                    disabled={\n                        !this.state.formIsValid || this.state.file === null || !this.state.currentCities[0]}\n                    variant=\"contained\" \n                    color=\"primary\"\n                    className={classes.button}\n                    >\n                        {'Создать'}\n                    </Button>\n            </div>\n            </>\n            }\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(style)(AddCategory));","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../../config/config';\nimport { withStyles } from '@material-ui/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Seo from '../../../SEO/SEO';\n\nconst inputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '1px solid #d1d6da',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n};\n\nconst style = theme => ({\n    element: {\n        margin: '20px 0'\n    },\n    button: {\n        marginTop: '25px'\n    },\n    cancelButton: {\n        marginTop: '10px'\n    }\n});\n\nclass EditGoods extends React.Component {\n\n    state = {\n        form: {\n            name: {\n                value: '',\n                valid: true,\n              },\n              category: {\n                  value: '',\n                  valid: true\n              },\n              filter: {\n                  value: '',\n                  valid: true\n              },\n              weight: {\n                  value: '',\n                  number: true,\n                  valid: true\n              },\n              price: {\n                  value: '',\n                  number: true,\n                  valid: true\n              },\n              percent: {\n                  value: 0,\n                  number: true,\n                  valid: true\n              },\n              description: {\n                  value: '',\n                  valid: true\n              },\n              alt: {\n                  value: '',\n                  valid: true\n              },\n              route: {\n                  value: '',\n                  valid: true\n              },\n              article: {\n                value: '',\n                valid: true,\n                touched: false,\n             },\n        },\n        seo: {\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        seo_dp:{\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        seo_zp:{\n            title: '',\n            description: '',\n            keywords: ''\n        },\n        formIsValid: true,\n        error: null,\n        loading: true,\n        categories: null,\n        filters: [''],\n        file: null,\n        imagePreviewUrl: null,\n        image: '',\n        userId: null,\n        currentCities: [],\n        cities: [''],\n        activeCity: ''\n    }\n\n    componentDidMount() {\n\n        const userId = this.props.match.params.id;\n        this.setState({ userId: userId });\n\n        axios.get(backendUrl + '/admin/shop/', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            this.setState({\n                cities: this.state.cities.concat(res.data),\n                activeCity: res.data[0].name\n            });\n        })\n        .catch(err => {\n            this.setState({\n                error: true,\n                loading: false\n            })\n        });\n\n        axios.get(backendUrl + '/admin/product/categories', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n             }\n        })\n        .then(res => {\n            console.log(res, res.data);\n            this.setState({\n                categories: res.data.message\n             });\n\n             axios.get(backendUrl + `/admin/product/id/${userId}`, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                 }\n            })\n            .then(res => {\n                console.log(res);\n                const updatedCities = this.state.cities.filter(el => {\n                    let valid = true;\n                    res.data.shop.forEach(shop => {\n                        if (el._id === shop._id) {\n                            valid = false;\n                        }\n                    });\n                    return valid;\n                })\n                this.setState({\n                    image: res.data.image,\n                    form: {\n                        ...this.state.form,\n                        category: {\n                            ...this.state.form.category,\n                            value: res.data.categoryId.name_ru\n                        },\n                        filter: {\n                            ...this.state.form.filter,\n                            value: res.data.filter ? res.data.filter.name_ru : ''\n                        },\n                        name: {\n                            ...this.state.form.name,\n                            value: res.data.name_ru\n                        },\n                        weight: {\n                            ...this.state.form.weight,\n                            value: res.data.weight\n                        },\n                        price: {\n                            ...this.state.form.price,\n                            value: res.data.price\n                        },\n                        percent: {\n                            ...this.state.form.percent,\n                            value: res.data.percent\n                        },\n                        description: {\n                            ...this.state.form.description,\n                            value: res.data.description_ru\n                        },\n                        alt: {\n                            ...this.state.form.alt,\n                            value: res.data.alt\n                        },\n                        route: {\n                            ...this.state.form.route,\n                            value: res.data.route\n                        },\n                        article: {\n                            value: res.data.article,\n                            valid: true,\n                            touched: false,\n                        },\n                    },\n                    seo: {\n                        title: res.data.seo_title,\n                        description: res.data.seo_description,\n                        keywords: res.data.seo_keywords\n                    },\n                    seo_dp:{\n                        title: res.data.seo_title_dp,\n                        description: res.data.seo_description_dp,\n                        keywords: res.data.seo_keywords_dp\n                    },\n                    seo_zp:{\n                        title: res.data.seo_title_zp,\n                        description: res.data.seo_description_zp,\n                        keywords: res.data.seo_keywords_zp\n                    },\n                    currentCities: res.data.shop,\n                    cities: updatedCities\n                });\n\n                axios.get(backendUrl + '/admin/product/filters', {\n                    headers: {\n                        'Authorization': `Bearer ${this.props.token}`\n                     }\n                })\n                .then(res => {\n                    console.log(res, res.data);\n                    const updatedFilters = this.state.filters.concat(res.data.fils);\n                    this.setState({\n                        filters: updatedFilters\n                     });\n                })\n                .catch(err => {\n                    console.log(err, err.data);\n                    this.setState({ error: true });\n                });\n\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                const message = err.response ? err.response.data.message || err.response.data.error : err.toString();\n                this.setState({ error: message });\n            })\n\n        })\n        .catch(err => {\n            console.log(err, err.data);\n            const message = err.response ? err.response.data.message || err.response.data.error : err.toString();\n            this.setState({ error: message });\n        })\n        .finally(()=>this.setState({loading: false}));\n    }\n\n    onInputChangedHandler = (event, name) => {\n        const updatedForm = {\n            ...this.state.form\n        };\n        updatedForm[name].value = event.target.value;\n        updatedForm[name].touched = true;\n        updatedForm[name].valid = event.target.value !== '';\n        if (updatedForm[name].number) {\n            console.log(event.target.value);\n            updatedForm[name].valid = Number(event.target.value) >= 0 && event.target.value ;\n        }\n\n        let formIsValid = true;\n        for (let elem in updatedForm) {\n            if (!updatedForm[elem].valid && updatedForm[elem].valid !== undefined) {\n              formIsValid = false;\n            }\n          };\n        this.setState({ form: updatedForm, formIsValid: formIsValid });\n    }\n\n    onSubmitForm = () => {\n        this.setState({ loading: true });\n\n        const category = this.state.categories.find((el) => {\n            if (el.name_ru === this.state.form.category.value ) {\n                return true;\n            }\n            return false;\n        });\n        const categoryId = category._id;\n\n        const filter = this.state.filters.find((el) => {\n            if ( el.name_ru === this.state.form.filter.value ) {\n                return true;\n            }\n            return false;\n        });\n        const filterId = filter ? filter._id : '';\n\n\n        const shops = this.state.currentCities.map(el => el._id);\n\n        if (!this.state.file) {\n            axios.put(backendUrl + `/admin/product/noImage/${this.state.userId}`, {\n                name_ru: this.state.form.name.value,\n                categoryId: categoryId,\n                filters: filterId,\n                description_ru: this.state.form.description.value,\n                price: this.state.form.price.value,\n                percent: this.state.form.percent.value,\n                weight: this.state.form.weight.value,\n                alt: this.state.form.alt.value,\n                route: this.state.form.route.value,\n                shop: JSON.stringify(shops),\n                article: this.state.form.article.value,\n                'seo_title': this.state.seo.title,\n                'seo_description': this.state.seo.description,\n                'seo_keywords': this.state.seo.keywords,\n                'seo_title_dp': this.state.seo_dp.title,\n                'seo_description_dp': this.state.seo_dp.description,\n                'seo_keywords_dp': this.state.seo_dp.keywords,\n                'seo_title_zp': this.state.seo_zp.title,\n                'seo_description_zp': this.state.seo_zp.description,\n                'seo_keywords_zp': this.state.seo_zp.keywords\n            }, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                 }\n            })\n            .then(res => {\n                console.log(res.data);\n                this.setState({ error: null });\n                this.props.history.push('/storage/goods?success-changed=true');\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                const message = err.response ? err.response.data.message || err.response.data.error : err.toString();\n                this.setState({ error: message });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n        } else {\n\n            let formData = new FormData();\n            formData.append('name_ru', this.state.form.name.value);\n            formData.append('description_ru', this.state.form.description.value);\n            formData.append('price', this.state.form.price.value);\n            formData.append('percent', this.state.form.percent.value);\n            formData.append('weight', this.state.form.weight.value);\n            formData.append('alt', this.state.form.alt.value);\n            formData.append('route', this.state.form.route.value);\n            formData.append('shop', JSON.stringify(shops));\n            formData.append('categoryId', categoryId);\n            formData.append('filters', filterId);\n            formData.append('image', this.state.file);\n            formData.append('article', this.state.form.article.value);\n            formData.append('seo_title', this.state.seo.title);\n            formData.append('seo_description', this.state.seo.description);\n            formData.append('seo_keywords', this.state.seo.keywords);\n            formData.append('seo_title_zp', this.state.seo_zp.title);\n            formData.append('seo_description_zp', this.state.seo_zp.description);\n            formData.append('seo_keywords_zp', this.state.seo_zp.keywords);\n            formData.append('seo_title_dp', this.state.seo_dp.title);\n            formData.append('seo_description_dp', this.state.seo_dp.description);\n            formData.append('seo_keywords_dp', this.state.seo_dp.keywords);\n\n            axios.put(backendUrl + `/admin/product/${this.state.userId}`, formData, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                 }\n            })\n            .then(res => {\n                console.log(res.data);\n                this.setState({ error: null });\n                this.props.history.push('/storage/goods?success-changed=true');\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                const message = err.response ? err.response.data.message || err.response.data.error : err.toString();\n                this.setState({ error: message });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n        }\n    }\n\n    onCategoryChangedHandler = (event) => {\n        this.setState((prevState) => ({\n            form: {\n                ...prevState.form,\n                category: {\n                    ...this.state.form.category,\n                    value: event.target.value,\n                    valid: true\n                }\n            }\n        }))\n      }\n\n      onDeleteCity = (id) => {\n        const currentCities = [ ...this.state.currentCities ].filter(el => el._id !== id);\n        const deletedShop = [ ...this.state.currentCities ].find(el => el._id === id );\n\n        let updatedShops = [...this.state.cities];\n        updatedShops.push(deletedShop);\n        this.setState({\n            cities: updatedShops,\n            currentCities\n        });\n     }\n\n     onAddShop = () => {\n        const currentShops = [ ...this.state.currentCities ];\n        const addedShop = this.state.cities.find(el => el.name === this.state.activeCity);\n        currentShops.push(addedShop);\n\n        const updatedCities = [ ...this.state.cities ].filter(el => el.name !== this.state.activeCity);\n\n        this.setState({\n            cities: updatedCities,\n            currentCities: currentShops,\n            activeCity: ''\n        });\n    }\n\n    onFilterChangedHandler = (event) => {\n        this.setState((prevState) => ({\n            form: {\n                ...prevState.form,\n                filter: {\n                    ...this.state.form.filter,\n                    value: event.target.value,\n                    valid: true\n                }\n            }\n        }))\n    }\n\n    onSelectIconHandler = (event) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            this.setState({\n                file: file,\n                imagePreviewUrl: reader.result\n            })\n        };\n\n        const file = event.target.files[0];\n        if (file) { reader.readAsDataURL(file); }\n        else { this.setState({ file: null, imagePreviewUrl: null }) }\n    }\n\n    onExportData = (obj) => {\n        this.setState({\n            seo: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n    onExportData_zp = (obj) => {\n        this.setState({\n            seo_zp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n    onExportData_dp = (obj) => {\n        this.setState({\n            seo_dp: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    render() {\n        console.log(this.state);\n        const { classes } = this.props;\n\n        return (\n            <>\n            {!this.state.categories && !this.state.loading ?\n                <p>Добавьте хотя бы одну категорию!</p>\n                :\n                this.state.loading ? \n                <div className=\"create-new-admin__content\">\n                    <CircularProgress />\n                </div> \n                : \n            <>\n            <div className=\"create-new-admin__content\" style={{ padding: '20px 0'}}>\n                <h1>\n                    {'Изменить товар'}\n                </h1>\n                <p>{'Фильтры от 400, 600, 1000 грн вставлять только товарам с категории подарки! Подаркам вставлять вес 0г. и цену 0! Подарки на главном сайте в качестве товаров не отображаються'}</p>\n                    { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\n                    <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'name')}\n                    value={this.state.form.name.value}\n                    className={classes.element}\n                    label=\"Название\" \n                    variant=\"outlined\"\n                     />\n                     <TextField\n                        select\n                        className={classes.element}\n                        label=\"Категория\"\n                        value={this.state.form.category.value}\n                        onChange={this.onCategoryChangedHandler}\n                        SelectProps={{\n                            native: true,\n                        }}\n                        helperText=\"Выберите категорию\"\n                        variant=\"outlined\"\n                        >\n                        {this.state.categories.map((option, index) => (\n                            <option key={index} value={option.name_ru}>\n                            {option.name_ru}\n                            </option>\n                        ))}\n                    </TextField>\n                    <div style={{display:'flex'}}>\n                            <div style={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: 'center'\n                            }}>\n                                <h5>{'Магазины:'}</h5>\n                                <ul style={{\n                                    listStyleType: 'none',\n                                    display: 'flex',\n                                    flexDirection: 'column',\n                                    justifyContent: 'center',\n                                    backgroundColor: '#aaa',\n                                    padding: '0 10px',\n                                    borderRadius: '5px' \n                                }}>\n                                            {this.state.currentCities.map((el) => (\n                                                <li key={el._id}>\n                                                    <div style={{\n                                                        display: 'flex',\n                                                        alignItems: 'center',\n                                                        justifyContent: 'center'\n                                                    }}>\n                                                            <p>{el.name}</p>\n                                                        <DeleteIcon \n                                                        onClick={() => this.onDeleteCity(el._id)}\n                                                        style={{ \n                                                            color: 'brown', cursor: 'pointer'\n                                                        }}/>\n                                                    </div>\n                                                </li>\n                                            ))}\n                                </ul>\n                            </div>\n                            <div style={{\n                                display: 'flex',\n                                flexDirection: 'column',\n                                alignItems: 'center',\n                                marginLeft: '50px'\n                            }}>\n                                <h5>{'Добавить магазин'}</h5>\n                                <TextField\n                                    select\n                                    value={this.state.activeCity}\n                                    onChange={(e) => {\n                                        this.setState({\n                                            activeCity: e.target.value\n                                        })\n                                    }}\n                                    SelectProps={{\n                                        native: true,\n                                    }}\n                                    helperText=\"Выберите магазин\"\n                                    variant=\"outlined\"\n                                    >\n                                    {this.state.cities.map((option, index) => (\n                                        <option key={index} value={option.name}>\n                                            {option.name}\n                                        </option>\n                                    ))}\n                                </TextField>\n                                <Button \n                                onClick={this.onAddShop}\n                                color=\"primary\"\n                                variant=\"outlined\"\n                                disabled={this.state.activeCity === ''}\n                                style={{margin: '20px 0'}}>\n                                    {'Добавить'}\n                                </Button>\n                            </div>\n                    </div>\n                    <TextField\n                        select\n                        label=\"Фильтр\"\n                        value={this.state.form.filter.value}\n                        onChange={this.onFilterChangedHandler}\n                        SelectProps={{\n                            native: true,\n                        }}\n                        helperText=\"Выберите фильтр\"\n                        variant=\"outlined\"\n                        >\n                        {this.state.filters.map((option, index) => (\n                            <option key={index} value={option.name_ru}>\n                            {option.name_ru}\n                            </option>\n                        ))}\n                    </TextField>\n                     <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'weight')}\n                    value={this.state.form.weight.value}\n                    className={classes.element}\n                    label=\"Вес(граммы)\" \n                    type=\"number\"\n                    variant=\"outlined\"\n                     />\n                     <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'price')}\n                    value={this.state.form.price.value}\n                    className={classes.element}\n                    label=\"Цена(грн)\" \n                    type=\"number\"\n                    variant=\"outlined\"\n                     />\n                     <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'percent')}\n                    value={this.state.form.percent.value}\n                    className={classes.element}\n                    label=\"Процент скидки\" \n                    type=\"number\"\n                    variant=\"outlined\"\n                     />\n                     <TextField \n                    onChange={(event) => this.onInputChangedHandler(event, 'alt')}\n                    value={this.state.form.alt.value}\n                    className={classes.element}\n                    label=\"alt атрибут\" \n                    variant=\"outlined\"\n                     />\n                     <p>{'Введите html поста:'}</p>\n                        <textarea \n                        value={this.state.form.article.value}\n                        onChange={(e) => this.onInputChangedHandler(e, 'article')}\n                        style={{\n                            ...inputStyles,\n                            height: '600px'\n                        }} \n                        />\n                     <label style={{margin: '10px 0'}}>\n                        Если хотите обновить картинку загрузите файл\n                    </label>\n                    <input \n                    onChange={(event) => this.onSelectIconHandler(event)}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    />\n                    {this.state.imagePreviewUrl &&\n                    <>\n                        <Button\n                        onClick={() => this.setState({ file: null, imagePreviewUrl: null })}\n                        className={classes.cancelButton}\n                        size=\"small\"\n                        variant=\"contained\"\n                        color=\"secondary\">\n                            {'отменить'}\n                        </Button>\n                        <img \n                        style={{ marginTop: '20px', maxWidth: '100%' }}\n                        alt=\"icon\"\n                        src={this.state.imagePreviewUrl}\n                        />\n                        <p>Как будет выгядеть на сайте:</p>\n                        <div className=\"food-block-container\"> \n                            <div \n                            className=\"list_header\"\n                            >\n                                <img \n                                style={{ marginTop: '10px' }}\n                                alt=\"pic\"\n                                src={this.state.imagePreviewUrl}\n                                />\n                            </div>\n                        </div>\n                    </>}\n                     <p>\n                         route путь(название товара маленькими латинскими буквами, для каждого товара оригинальный):\n                     </p>\n                     <TextField \n                        onChange={(event) => this.onInputChangedHandler(event, 'route')}\n                        value={this.state.form.route.value}\n                        className={classes.element}\n                        label=\"route путь\" \n                        variant=\"outlined\"\n                     />\n                    <p style={{margin:'0'}}>{'Описание'}</p>\n                    <textarea \n                    value={this.state.form.description.value}\n                    onChange={(e)=>this.onInputChangedHandler(e, 'description')}\n                    style={{ \n                        width: '300px',\n                        minHeight: '70px',\n                        resize: 'vertical',\n                        borderRadius: '5px'\n                         }} />\n                    <p>{'Для правильной работы сначала сохраните SEO разметку для каждого магазина и потом создайте товар!'}</p>\n                    <h1>Харьков</h1>\n                    {this.state.seo &&\n                    <Seo \n                        seo={this.state.seo}\n                        onExportData={this.onExportData}\n                    />}\n                    <h1>Днепр</h1>\n                    {this.state.seo_dp &&\n                    <Seo \n                        seo={this.state.seo_dp}\n                        onExportData={this.onExportData_dp}\n                    />}\n                    <h1>Запорожье</h1>\n                    {this.state.seo_zp &&\n                    <Seo \n                        seo={this.state.seo_zp}\n                        onExportData={this.onExportData_zp}\n                    />}\n                    <Button\n                    onClick={this.onSubmitForm}\n                    disabled={!this.state.formIsValid || !this.state.currentCities[0]}\n                    variant=\"contained\" \n                    color=\"primary\"\n                    className={classes.button}\n                    >\n                        {'Изменить'}\n                    </Button>\n            </div>\n            </>\n            }\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(style)(EditGoods));","/*\r\narray = [\r\n    {\r\n        ...\r\n        field: field value\r\n    }, \r\n    {\r\n        ...\r\n        field\r\n    },\r\n    ...\r\n]\r\n*/\r\n\r\nexport const sortStrings = (field, array, method) => {\r\n    let result = array;\r\n    result = result.sort((a, b) => a[field] > b[field] ? 1 : -1);\r\n    if (method === 'asc') {\r\n        return result;\r\n    } else {\r\n        return result.reverse();\r\n    }\r\n};\r\n\r\nexport const sortNumbers = (field, array, method) => {\r\n    let result = array;\r\n    result = result.sort((a, b) => Number(a[field]) - Number(b[field]))\r\n    if (method === 'asc') {\r\n        return result;\r\n    } else {\r\n        return result.reverse();\r\n    }\r\n}","import axios from 'axios';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { backendUrl } from '../../../../config/config';\nimport { withStyles } from '@material-ui/styles';\nimport Modal from '../../../UI/Modal/Modal';\nimport ErrorComponent from '../../../Errors/Error/Error';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport Table from '@material-ui/core/Table';\nimport Paper from '@material-ui/core/Paper';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TextField from '@material-ui/core/TextField';\nimport { useJsonToCsv } from 'react-json-csv';\nimport { sortStrings, sortNumbers } from '../../../../tools/sort';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\n\nconst style = theme => ({\n    table: {\n        width: '100%'\n    },\n    edit: {\n        color: '#4caf50',\n        cursor: 'pointer',\n        '&:hover': {\n            color: '#357a38'\n        }\n    },\n    delete: {\n        color: '#b71c1c',\n        cursor: 'pointer',\n        '&:hover': {\n            color: '#801313'\n        }\n    },\n    paper: {\n        width: '90%',\n        marginTop: '20px',\n        marginBottom: '60px'\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n    button: {\n        backgroundColor: '#4caf50',\n        marginLeft: '20px',\n        color: 'white',\n        '&:hover': {\n            backgroundColor: '#357a38'\n        }\n    },\n    descrContDiv: {\n        whiteSpace: 'pre-wrap'\n    },\n    descrCont: {\n        maxWidth: '300px',\n        wordWrap: 'break-word'\n    },\n    cancelButton: {\n        textTransform: 'capitalize',\n        marginLeft: '15px',\n        backgroundColor: '#b71c1c',\n        '&:hover': {\n            backgroundColor: '#801313'\n        }\n    }\n});\n\nconst headCells = [\n    { id: 'image', numeric: false, disablePadding: true, label: 'Картинка' },\n    { id: 'name_ru', numeric: false, disablePadding: false, label: 'Название' },\n    { id: 'category', numeric: false, disablePadding: false, label: 'Категория' },\n    { id: 'filter', numeric: false, disablePadding: false, label: 'Фильтр' },\n    { id: 'shops', numeric: false, disablePadding: false, label: 'Магазины' },\n    { id: 'price', numeric: true, disablePadding: false, label: 'Базовая цена' },\n    { id: 'percent', numeric: true, disablePadding: false, label: 'Скидка' },\n    { id: 'weight', numeric: true, disablePadding: false, label: 'Вес' },\n    { id: 'edit', numeric: false, disablePadding: false, label: '' },\n    { id: 'delete', numeric: false, disablePadding: false, label: '' }\n];\n\nconst formats = [\n    {\n        value: 'excel',\n        label: 'excel',\n    },\n    {\n        value: 'csv',\n        label: 'csv',\n    },\n    {\n        value: 'json',\n        label: 'json',\n    }\n]\n\nclass Goods extends React.Component {\n\n    state = {\n        error: false,\n        loading: true,\n        categories: [''],\n        filters: [''],\n        page: 0,\n        rowsPerPage: 10,\n        deleteMode: null,\n        modalForSuccessAdd: false,\n        modalForSuccessChanged: false,\n        modalupload: false,\n        format: 'csv',\n        orderBy: 'name',\n        order: 'asc',\n        goods: null,\n        file: null,\n        searchArea: {\n            name: '',\n            category: '',\n            ingredients: '',\n            filter: ''\n        },\n        \n    }\n\n    componentDidMount() {\n        this.setState({ loading: true });\n\n\n        axios.get(backendUrl + '/admin/product/categories', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res, res.data);\n                const updatedCategories = this.state.categories.concat(res.data.message);\n                this.setState({\n                    categories: updatedCategories,\n                    searchArea: {\n                        ...this.state.searchArea,\n                        category: res.data.message[0].name_ru\n                    }\n                });\n            })\n            .catch(err => {\n                console.log(err, err.data);\n                this.setState({ error: true });\n            });\n\n        axios.get(backendUrl + '/admin/product/filters', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res, res.data);\n                const updatedFilters = this.state.filters.concat(res.data.fils);\n                if (res.data.fils[0]) {\n                    this.setState({\n                        filters: updatedFilters,\n                        searchArea: {\n                            ...this.state.searchArea,\n                            filter: res.data.fils[0].name_ru\n                        }\n                    });\n                }\n            })\n            .catch(err => {\n                console.log(err, err.data);\n                this.setState({ error: true });\n            });\n\n        if (this.props.location.search === '?success-created=true') {\n            this.setState({ modalForSuccessAdd: true });\n        } else if (this.props.location.search === '?success-changed=true') {\n            this.setState({ modalForSuccessChanged: true });\n        }\n\n        axios.get(backendUrl + '/admin/product/', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res, res.data);\n                const goods = res.data.message;\n                this.setState({ goods: goods });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                const message = err.response ? err.response.data.error.toString() || err.response.data.message.toString() : err.toString();\n                this.setState({ error: message });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            })\n    }\n\n    handleChangeRowsPerPage = (event) => {\n        this.setState({\n            rowsPerPage: parseInt(event.target.value, 10),\n            page: 0\n        })\n    };\n\n    handleChangePage = (event, newPage) => {\n        this.setState({\n            page: newPage\n        })\n    };\n\n    onDeleteGood = (id) => {\n\n        axios.delete(backendUrl + `/admin/product/${id}`, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                window.location.reload();\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true });\n            });\n    }\n\n    onEditGood = (id) => {\n        this.props.history.push(`/storage/edit-goods/${id}`);\n    }\n\n    handleRequestSort = (event, property) => {\n        const isAsc = this.state.orderBy === property && this.state.order === 'asc'\n        this.setState({\n            order: isAsc ? 'desc' : 'asc',\n            orderBy: property,\n        });\n        const goods = this.state.goods;\n        const elem = headCells.find(el => {\n            if (el.id === property) {\n                return true;\n            } else return false;\n        });\n        if (elem.numeric) {\n            this.setState({\n                goods: sortNumbers(property, goods, this.state.order !== 'desc' ? 'asc' : 'desc')\n            });\n        } else {\n            this.setState({\n                goods: sortStrings(property, goods, this.state.order !== 'desc' ? 'asc' : 'desc')\n            });\n        }\n    };\n    onDownload = () => {\n        axios.get(backendUrl + '/admin/product/file/download/plz', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res.data);\n                let response\n                if (this.state.format === 'json') {\n                    response = new Blob([JSON.stringify(res.data)], { type: 'application/json' });\n                    console.log(response);\n                    let url = window.URL.createObjectURL(response);\n                    let a = document.createElement('a');\n                    a.href = url;\n                    a.download = 'products.json';\n                    a.click();\n                }\n                else if (this.state.format === 'excel') {\n                    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n                        const fileExtension = 'products.xlsx';\n                        const ws = XLSX.utils.json_to_sheet(res.data);\n                        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n                        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n                        const data = new Blob([excelBuffer], {type: fileType});\n                        FileSaver.saveAs(data, fileExtension);\n                    \n                }\n\n                else if (this.state.format === 'csv') {\n                    const filename = 'products',\n                        fields = {\n                            \"_id\": \"Index\",\n                            \"name_ru\": \"Name\",\n                            \"description_ru\": \"Description\",\n                            \"image\": \"Image\",\n                            \"price\": \"Price\"\n                        },\n                        data = res.data\n                    const { saveAsCsv } = useJsonToCsv();\n                    saveAsCsv({ data, fields, filename })\n                }\n\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            })\n    }\n    onSelectIconHandler = (event) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n\n            let formData = new FormData();\n            formData.append('excel', file);\n            console.log('zxc');\n            axios.post(backendUrl + '/admin/product/file/upload', formData, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                }\n            })\n                .then(res => {\n                    console.log(res.data);\n                    this.setState({ error: null });\n                    this.props.history.push('/storage/goods?success-created=true');\n                })\n                .catch(err => {\n                    console.log(err, err.response);\n                    this.setState({ error: true });\n                })\n                .finally(() => {\n                    this.setState({ loading: false });\n                })\n        };\n        const file = event.target.files[0];\n        reader.readAsDataURL(file);\n\n\n\n    }\n\n\n\n    onSearch = () => {\n        this.setState({ loading: true });\n        const categoryElem = this.state.categories.find(el => {\n            if (el.name_ru === this.state.searchArea.category) {\n                return true;\n            } else return false;\n        })\n        const categoryId = categoryElem ? categoryElem._id : null;\n\n        const filterElem = this.state.filters.find(el => {\n            if (el.name_ru === this.state.searchArea.category) {\n                return true;\n            } else return false;\n        })\n        const filterId = filterElem ? filterElem._id : null;\n\n        axios.post(backendUrl + '/admin/product/search', {\n            description_ru: this.state.searchArea.ingredients,\n            name_ru: this.state.searchArea.name,\n            categoryId: categoryId\n        }, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                this.setState({\n                    searchMode: true,\n                    goods: res.data.products\n                });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n    }\n\n    onCategoryChangedHandler = (e) => {\n        this.setState({\n            searchArea: {\n                ...this.state.searchArea,\n                category: e.target.value\n            }\n        })\n    }\n\n    onFilterChangedHandler = (e) => {\n        this.setState({\n            searchArea: {\n                ...this.state.searchArea,\n                filter: e.target.value\n            }\n        });\n    }\n\n    uploadModalTrue = () => {\n        this.setState({ modalupload: true })\n    }\n\n    render() {\n\n        const { classes } = this.props;\n        let modalDeleteContent = null;\n\n        const modalForUpload = (\n            <>\n                <div>\n                    <TextField\n                        id=\"standard-select-currency\"\n                        select\n                        label=\"Select\"\n                        value={this.state.format}\n                        onChange={(e) => {\n                            this.setState({\n                                format: e.target.value\n                            })\n                        }}\n                        helperText=\"Please select your format\"\n                    >\n                        {formats.map((option) => (\n                            <option key={option.label} value={option.value}>\n                                {option.label}\n                            </option>\n                        ))}\n                    </TextField>\n                    <Button\n                        onClick={() => { this.onDownload() }}\n                        variant=\"contained\"\n                    >\n                        Выгрузить\n                </Button>\n                </div>\n            </>\n        )\n\n        const modalForSuccessAdd = (\n            <>\n                <p style={{ textAlign: 'center' }}>\n                    {'Вы успешно добавили продукт'}\n                </p>\n            </>\n        );\n\n        const modalForSuccessChange = (\n            <>\n                <p style={{ textAlign: 'center' }}>\n                    {'Вы успешно изменили продукт'}\n                </p>\n            </>\n        );\n\n        if (this.state.deleteMode !== null) {\n            modalDeleteContent = (\n                <div style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    justifyContent: 'center',\n                    alignItems: 'center'\n                }} >\n                    <p style={{ textAlign: 'center' }}>\n                        {'Вы точно хотите удалить продукт '}\n                        <span style={{ fontWeight: 700 }} >{this.state.deleteMode[1]}</span>\n                    </p>\n                    <Button\n                        onClick={() => this.onDeleteGood(this.state.deleteMode[0])}\n                    >\n                        {'Да'}\n                    </Button>\n                </div>\n            );\n        };\n\n        return (\n            <>\n                {this.state.error ?\n                    <ErrorComponent /> :\n                    <>\n                        <Modal\n                            show={this.state.modalupload}\n                            modalClosed={() => {\n                                this.setState({ modalupload: false });\n                                this.props.history.push('/storage/goods');\n                            }}>\n                            {modalForUpload}\n                        </Modal>\n                        <Modal\n                            show={this.state.modalForSuccessAdd}\n                            modalClosed={() => {\n                                this.setState({ modalForSuccessAdd: false });\n                                this.props.history.push('/storage/goods');\n                            }}>\n                            {modalForSuccessAdd}\n                        </Modal>\n                        <Modal\n                            show={this.state.modalForSuccessChanged}\n                            modalClosed={() => {\n                                this.setState({ modalForSuccessChanged: false });\n                                this.props.history.push('/storage/goods');\n                            }}>\n                            {modalForSuccessChange}\n                        </Modal>\n                        <Modal\n                            show={this.state.deleteMode !== null}\n                            modalClosed={() => {\n                                this.setState({ deleteMode: null });\n                            }}>\n                            {modalDeleteContent}\n                        </Modal>\n                        {this.state.loading ?\n                            <CircularProgress />\n                            :\n                            <>\n                                <div className=\"users-list__content-area__controls__top\">\n                                    <h1>Товары</h1>\n                                    <div>\n                                        <NavLink to=\"/storage/add-goods\">\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                startIcon={<AddIcon />}>\n                                                {'Добавить'}\n                                            </Button>\n                                        </NavLink>\n                                    </div>\n                                </div>\n                                <div className=\"users-list__content-area__controls__search\">\n                                    <div className=\"users-list__content-area__controls__search__inputs\">\n                                        <span className=\"users-list__content-area__controls__search__inputs__item\">\n                                            <TextField\n                                                onChange={(e) => this.setState((prevState) => ({\n                                                    searchArea: {\n                                                        ...prevState.searchArea,\n                                                        name: e.target.value\n                                                    }\n                                                }))}\n                                                className={classes.input}\n                                                label=\"Название\"\n                                                variant=\"outlined\"\n                                            />\n                                        </span>\n                                        <span className=\"users-list__content-area__controls__search__inputs__item\">\n                                            <TextField\n                                                select\n                                                label=\"Категория\"\n                                                value={this.state.searchArea.category}\n                                                onChange={this.onCategoryChangedHandler}\n                                                SelectProps={{\n                                                    native: true,\n                                                }}\n                                                variant=\"outlined\"\n                                            >\n                                                {this.state.categories.map((option, index) => (\n                                                    <option key={index} value={option.name_ru}>\n                                                        {option.name_ru}\n                                                    </option>\n                                                ))}\n                                            </TextField>\n                                        </span>\n                                        <span className=\"users-list__content-area__controls__search__inputs__item\">\n                                            <TextField\n                                                select\n                                                label=\"Фильтр\"\n                                                value={this.state.searchArea.filter}\n                                                onChange={this.onFilterChangedHandler}\n                                                SelectProps={{\n                                                    native: true,\n                                                }}\n                                                variant=\"outlined\"\n                                            >\n                                                {this.state.filters.map((option, index) => (\n                                                    <option key={index} value={option.name_ru}>\n                                                        {option.name_ru}\n                                                    </option>\n                                                ))}\n                                            </TextField>\n                                        </span>\n                                        <span className=\"users-list__content-area__controls__search__inputs__item\">\n                                            <TextField\n                                                onChange={(e) => this.setState((prevState) => ({\n                                                    searchArea: {\n                                                        ...prevState.searchArea,\n                                                        ingredients: e.target.value\n                                                    }\n                                                }))}\n                                                className={classes.input}\n                                                label=\"Описание\"\n                                                variant=\"outlined\"\n                                            />\n                                        </span>\n                                        <Button\n                                            onClick={this.onSearch}\n                                            variant=\"contained\"\n                                            className={classes.button}>\n                                            {'Поиск'}\n                                        </Button>\n                                        {this.state.searchMode &&\n                                            <Button\n                                                onClick={() => window.location.reload()}\n                                                className={classes.cancelButton}\n                                                variant=\"contained\"\n                                                color=\"secondary\">\n                                                {'Отменить'}\n                                            </Button>}\n                                    </div>\n                                </div>\n                                <div style={{\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center'\n                                }}>\n                                    <Paper elevation={2} className={classes.paper}>\n                                        <Table className={classes.table} size=\"medium\" aria-label=\"a dense table\">\n                                            <TableHead>\n                                                <TableRow>\n                                                    {headCells.map((headCell, index) => {\n                                                        return (\n                                                            <TableCell\n                                                                align=\"left\"\n                                                                key={headCell.id}\n                                                                sortDirection={\n                                                                    headCell.id !== this.state.orderBy\n                                                                        ? false : this.state.order\n                                                                }>\n                                                                <TableSortLabel\n                                                                    active={\n                                                                        headCell.id !== 'edit' &&\n                                                                        headCell.id !== 'delete' &&\n                                                                        headCell.id !== 'image'\n                                                                    }\n                                                                    direction={\n                                                                        headCell.id === this.state.orderBy\n                                                                            ? this.state.order : 'asc'\n                                                                    }\n                                                                    onClick={(e) => this.handleRequestSort(e, headCell.id)}\n                                                                >\n                                                                    {headCell.label}\n                                                                    {\n                                                                        headCell.id !== 'edit' &&\n                                                                            headCell.id !== 'delete'\n                                                                            && headCell.id !== 'image' ? (\n                                                                                <span className={classes.visuallyHidden}>\n                                                                                    {this.state.order === 'desc' ? 'sorted descending' : 'sorted ascending'}\n                                                                                </span>\n                                                                            ) : null}\n                                                                </TableSortLabel>\n                                                            </TableCell>\n                                                        );\n                                                    }\n                                                    )}\n                                                </TableRow>\n                                            </TableHead>\n                                            <TableBody>\n                                                {this.state.goods\n                                                    .slice(\n                                                        this.state.page * this.state.rowsPerPage,\n                                                        this.state.page * this.state.rowsPerPage\n                                                        + this.state.rowsPerPage).map((user) => (\n                                                            <TableRow key={user._id}>\n                                                                <TableCell component=\"th\" scope=\"row\" align=\"center\">\n                                                                    <div className=\"food-block-container\">\n                                                                        <div className=\"list_header\">\n                                                                            <img\n                                                                                alt=\"\"\n                                                                                src={backendUrl + '/' + user.image} />\n                                                                        </div>\n                                                                    </div>\n                                                                </TableCell>\n                                                                <TableCell align=\"left\">{user.name_ru}</TableCell>\n                                                                <TableCell align=\"left\">{user.categoryId.name_ru}</TableCell>\n                                                                <TableCell align=\"left\">\n                                                                    {user.filter ? user.filter.name_ru : ''}\n                                                                </TableCell>\n                                                                <TableCell align=\"left\" className={classes.descrCont}>\n                                                                    <p> {user.shop.map(el => el.name + ', ')} </p>\n                                                                </TableCell>\n                                                                <TableCell align=\"left\">{user.price}</TableCell>\n                                                                <TableCell align=\"left\">{user.percent + '%'}</TableCell>\n                                                                <TableCell align=\"left\">{user.weight}</TableCell>\n                                                                <TableCell align=\"left\">\n                                                                    <EditIcon\n                                                                        onClick={() => this.onEditGood(user._id)}\n                                                                        className={classes.edit} />\n                                                                </TableCell>\n                                                                <TableCell align=\"left\">\n                                                                    <DeleteIcon\n                                                                        onClick={() => this.setState({ deleteMode: [user._id, user.name_ru] })}\n                                                                        className={classes.delete} />\n                                                                </TableCell>\n                                                            </TableRow>\n                                                        ))}\n                                            </TableBody>\n                                        </Table>\n                                        <TablePagination\n                                            className={classes.paginator}\n                                            rowsPerPageOptions={[5, 10, 25]}\n                                            component=\"div\"\n                                            count={this.state.goods.length}\n                                            rowsPerPage={this.state.rowsPerPage}\n                                            page={this.state.page}\n                                            onChangePage={this.handleChangePage}\n                                            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                                            labelRowsPerPage={'Количество полей на странице:'}\n                                        />\n                                        <div style={{ alignSelf: 'flex-start', marginTop: \"-3.6%\" }}>\n                                            <Button\n                                                onClick={this.uploadModalTrue}\n                                                variant=\"contained\"\n                                            >\n                                                Выгрузить информацию\n                                        </Button>\n                                        </div>\n                                        <div style={{ alignSelf: 'flex-start', marginTop: \"-3%\", marginLeft: \"20%\" }}>\n                                            <Button variant=\"contained\">\n                                                <label htmlFor=\"idishnik\">Загрузить информацию</label>\n                                                <input\n                                                    id=\"idishnik\"\n                                                    onChange={(event) => this.onSelectIconHandler(event)}\n                                                    type=\"file\"\n                                                    accept=\"*\"\n                                                    style={{ display: \"none\" }}\n                                                />\n                                            </Button>\n                                        </div>\n\n                                    </Paper>\n                                </div>\n                            </>\n                        }\n                    </>}\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(style)(Goods));","import axios from 'axios';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { backendUrl, blockedFilters } from '../../../../config/config';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport Modal from '../../../UI/Modal/Modal';\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Table from '@material-ui/core/Table';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\n\r\nconst style = theme => ({\r\n    table: {\r\n        width: '100%'\r\n    },\r\n    edit: {\r\n        color: '#4caf50',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            color: '#357a38'\r\n        }\r\n    },\r\n    delete: {\r\n        color: '#b71c1c',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            color: '#801313'\r\n        }\r\n    },\r\n    paper: {\r\n        width: '90%',\r\n        marginTop: '20px',\r\n        marginBottom: '60px'\r\n    }\r\n});\r\n\r\nconst headCells = [\r\n    { id: 'icon', numeric: false, disablePadding: true, label: 'Иконка' },\r\n    { id: 'name_ru', numeric: false, disablePadding: false, label: 'Название' },\r\n    { id: 'name_ua', numeric: false, disablePadding: false, label: 'Название(UA)' },\r\n    { id: 'alt', numeric: false, disablePadding: false, label: 'alt' },\r\n    { id: 'route', numeric: false, disablePadding: false, label: 'route' },\r\n    { id: 'edit', numeric: false, disablePadding: false, label: '' },\r\n    { id: 'delete', numeric: false, disablePadding: false, label: '' }\r\n];\r\n\r\nclass Filters extends React.Component {\r\n\r\n    state = {\r\n        error: false,\r\n        loading: true,\r\n        filters: [],\r\n        page: 0,\r\n        rowsPerPage: 10,\r\n        deleteMode: null,\r\n        modalForSuccessAdd: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n\r\n        if ( this.props.location.search === '?success-created=true' ) {\r\n            this.setState({ modalForSuccessAdd: true });\r\n        }\r\n\r\n        axios.get(backendUrl + '/admin/product/filters', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            } \r\n        })\r\n        .then(res => {\r\n            console.log(res, res.data);\r\n            const filters = res.data.fils;\r\n            this.setState({ filters: filters });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\r\n            this.setState({ error: message });\r\n        })\r\n        .finally(() => {\r\n            this.setState({ loading: false });\r\n        })\r\n    }\r\n\r\n    handleChangeRowsPerPage = (event) => {\r\n        this.setState({\r\n            rowsPerPage: parseInt(event.target.value, 10),\r\n            page: 0\r\n        })\r\n      };\r\n\r\n      handleChangePage = (event, newPage) => {\r\n        this.setState({\r\n            page: newPage\r\n        })\r\n      };\r\n\r\n    onEditFilter = (id) => {\r\n        this.props.history.push(`/storage/edit-filtery/${id}`);\r\n    }\r\n\r\n    onDeleteFilter = (id) => {\r\n\r\n        axios.delete(backendUrl + `/admin/product/filter/${id}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n             }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            window.location.reload();\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ error: true });\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n        let modalDeleteContent = null;\r\n\r\n        const modalForSuccessAdd = (\r\n            <>\r\n                <p style={{ textAlign: 'center' }}>\r\n                    {'Вы успешно добавили фильтр'}\r\n                </p>\r\n            </>\r\n        )\r\n\r\n        if ( this.state.deleteMode !== null ) {\r\n            modalDeleteContent = (\r\n                <div style={{ \r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center'\r\n                 }} >\r\n                  <p style={{ textAlign: 'center' }}>\r\n                      {'Вы точно хотите удалить фильтр '}\r\n                    <span style={{ fontWeight: 700 }} >{this.state.deleteMode[1]}</span>\r\n                  </p>\r\n                  <Button\r\n                    onClick={() => this.onDeleteFilter(this.state.deleteMode[0])}\r\n                  >\r\n                      {'Да'}\r\n                  </Button>\r\n                </div>\r\n            );\r\n        };\r\n\r\n        return (\r\n            <>\r\n            {this.state.error ? \r\n            <ErrorComponent /> : \r\n            <>\r\n                <Modal\r\n                    show={this.state.modalForSuccessAdd}\r\n                    modalClosed={() => {\r\n                        this.setState({modalForSuccessAdd: false});\r\n                        this.props.history.push('/storage/filters');\r\n                    }}>\r\n                    {modalForSuccessAdd}\r\n                </Modal>\r\n                <Modal\r\n                    show={this.state.deleteMode !== null}\r\n                    modalClosed={() => {\r\n                        this.setState({ deleteMode: null });\r\n                    }}>\r\n                        {modalDeleteContent}\r\n                </Modal>\r\n                {this.state.loading ? \r\n                <CircularProgress/>\r\n                :\r\n                <>\r\n                    <div className=\"users-list__content-area__controls__top\">\r\n                                <h1>Фильтры</h1>\r\n                                <NavLink to=\"/storage/add-filter\">\r\n                                    <Button\r\n                                    variant=\"contained\" \r\n                                    color=\"primary\"\r\n                                    startIcon={<AddIcon />}>\r\n                                        {'Добавить'}\r\n                                    </Button>\r\n                                </NavLink>\r\n                    </div>\r\n                    <p style={{ paddingLeft: '20px'}}> \r\n                    Очень важно чтобы был правильный route и иконка! Без этого не будет отображаться в меню на главном сайте!\r\n                    </p>\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent:'center'\r\n                    }}>\r\n                        <Paper elevation={2} className={classes.paper}>\r\n                                <Table className={classes.table} size=\"medium\" aria-label=\"a dense table\">\r\n                                    <TableHead>\r\n                                    <TableRow>\r\n                                        {headCells.map(headCell => (\r\n                                            <TableCell\r\n                                            align=\"left\"\r\n                                            key={headCell.id}\r\n                                            >\r\n                                                    {headCell.label}\r\n                                            </TableCell>\r\n                                        ))}\r\n                                    </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                    {this.state.filters\r\n                                    .slice(\r\n                                        this.state.page * this.state.rowsPerPage, \r\n                                        this.state.page * this.state.rowsPerPage \r\n                                        + this.state.rowsPerPage).map((user) => (\r\n                                        <TableRow key={user._id}>\r\n                                            <TableCell component=\"th\" scope=\"row\" align=\"left\">\r\n                                                <img \r\n                                                style={{\r\n                                                    maxHeight: '40px'\r\n                                                }}\r\n                                                alt=\"\" \r\n                                                src={backendUrl + '/' + user.image} \r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">{user.name_ru}</TableCell>\r\n                                            <TableCell align=\"left\">{user.name_ua}</TableCell>\r\n                                            <TableCell align=\"left\">\r\n                                                {user.alt}\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">{user.route}</TableCell>\r\n                                            <TableCell align=\"left\">\r\n                                                {!blockedFilters.includes(user._id) && \r\n                                                    <EditIcon\r\n                                                    onClick={() => this.onEditFilter(user._id)}\r\n                                                    className={classes.edit} \r\n                                                    />\r\n                                                }\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">\r\n                                                    {!blockedFilters.includes(user._id) && \r\n                                                    <DeleteIcon \r\n                                                    onClick={\r\n                                                        () => \r\n                                                        this.setState({ \r\n                                                            deleteMode: [ user._id, user.name_ru ] \r\n                                                        })\r\n                                                    }\r\n                                                    className={classes.delete}\r\n                                                    />}\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                    </TableBody>\r\n                                </Table>\r\n                                <TablePagination\r\n                                    className={classes.paginator}\r\n                                    rowsPerPageOptions={[5, 10, 25]}\r\n                                    component=\"div\"\r\n                                    count={this.state.filters.length}\r\n                                    rowsPerPage={this.state.rowsPerPage}\r\n                                    page={this.state.page}\r\n                                    onChangePage={this.handleChangePage}\r\n                                    onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                                    labelRowsPerPage={'Количество полей на странице:'}\r\n                                />\r\n                            </Paper>\r\n                        </div>\r\n                </>\r\n                }\r\n            </>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(style)(Filters));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Seo from '../../../SEO/SEO';\r\n\r\nconst style = theme => ({\r\n    element: {\r\n        margin: '20px 0'\r\n    },\r\n    button: {\r\n        marginTop: '25px'\r\n    },\r\n    cancelButton: {\r\n        marginTop: '10px'\r\n    }\r\n});\r\n\r\nclass AddFilter extends React.Component {\r\n\r\n    state = {\r\n        form: {\r\n            nameRU: {\r\n                value: '',\r\n                valid: false,\r\n                touched: false\r\n              },\r\n              nameUA: {\r\n                value: '',\r\n                valid: false,\r\n                touched: false\r\n              },\r\n              route: {\r\n                value: '',\r\n                valid: false,\r\n                touched: false\r\n              },\r\n              alt: {\r\n                  value: '',\r\n                  valid: false,\r\n                  touched: false\r\n              }\r\n        },\r\n        seo: {\r\n            title: '',\r\n            description: '',\r\n            keywords: ''\r\n        },\r\n        formIsValid: false,\r\n        error: null,\r\n        file: null,\r\n        imagePreviewUrl: null,\r\n        loading: false\r\n    }\r\n\r\n    onInputChangedHandler = (event, name) => {\r\n        const updatedForm = {\r\n            ...this.state.form\r\n        };\r\n        updatedForm[name].value = event.target.value;\r\n        updatedForm[name].touched = true;\r\n        updatedForm[name].valid = event.target.value !== '';\r\n\r\n        let formIsValid = true;\r\n        for (let elem in updatedForm) {\r\n            if (!updatedForm[elem].valid && updatedForm[elem].valid !== undefined) {\r\n              formIsValid = false;\r\n            }\r\n          };\r\n        this.setState({ form: updatedForm, formIsValid: formIsValid });\r\n    }\r\n\r\n    onSelectIconHandler = (event) => {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            this.setState({\r\n                file: file,\r\n                imagePreviewUrl: reader.result\r\n            })\r\n        };\r\n\r\n        const file = event.target.files[0];\r\n        if (file) { reader.readAsDataURL(file); }\r\n        else { this.setState({ file: null, imagePreviewUrl: null }) }\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        this.setState({ loading: true });\r\n\r\n        let formData = new FormData();\r\n        formData.append('name_ru', this.state.form.nameRU.value);\r\n        formData.append('name_ua', this.state.form.nameUA.value);\r\n        formData.append('route', this.state.form.route.value);\r\n        formData.append('alt', this.state.form.alt.value);\r\n        formData.append('image', this.state.file);\r\n        formData.append('seo_title', this.state.seo.title);\r\n        formData.append('seo_description', this.state.seo.description);\r\n        formData.append('seo_keywords', this.state.seo.keywords);\r\n\r\n        axios.post(backendUrl + '/admin/product/add/filter', formData, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n             }\r\n        })\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState({ error: null });\r\n            this.props.history.push('/storage/filters?success-created=true');\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            const message = err.response ? err.response.data.message : err.toString();\r\n            this.setState({ error: message });\r\n        })\r\n        .finally(() => {\r\n            this.setState({ loading: false });\r\n        });\r\n    }\r\n\r\n    onExportData = (obj) => {\r\n        this.setState({\r\n            seo: {\r\n                title: obj.title,\r\n                description: obj.description,\r\n                keywords: obj.keywords\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <>\r\n            <div className=\"create-new-admin__content\" style={{ padding: '20px 0'}}>\r\n                <h1>\r\n                    {'Создать новый фильтр'}\r\n                </h1>\r\n                    { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'nameRU')}\r\n                    value={this.state.form.nameRU.value}\r\n                    className={classes.element}\r\n                    label=\"Название(RU)\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'nameUA')}\r\n                    value={this.state.form.nameUA.value}\r\n                    className={classes.element}\r\n                    label=\"Название(UA)\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'route')}\r\n                    value={this.state.form.route.value}\r\n                    className={classes.element}\r\n                    label=\"route\" \r\n                    variant=\"outlined\" \r\n                    />\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'alt')}\r\n                    value={this.state.form.alt.value}\r\n                    className={classes.element}\r\n                    label=\"alt атрибут\" \r\n                    variant=\"outlined\" \r\n                    />\r\n                    <label style={{margin: '10px 0'}}>\r\n                        Загрузите иконку\r\n                    </label>\r\n                    <input \r\n                    onChange={(event) => this.onSelectIconHandler(event)}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    />\r\n                    {this.state.imagePreviewUrl &&\r\n                    <>\r\n                        <Button\r\n                        onClick={() => this.setState({ file: null, imagePreviewUrl: null })}\r\n                        className={classes.cancelButton}\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        color=\"secondary\">\r\n                            {'отменить'}\r\n                        </Button>\r\n                        <img \r\n                        style={{ marginTop: '20px', maxWidth: '100%' }}\r\n                        alt=\"icon\"\r\n                        src={this.state.imagePreviewUrl}\r\n                        />\r\n                        <p>Как будет выгядеть на сайте:</p>\r\n                        <img \r\n                        style={{ \r\n                            marginTop: '10px',  \r\n                            maxWidth: '50px',\r\n                            maxHeight: '45px' \r\n                        }}\r\n                        alt=\"icon\"\r\n                        src={this.state.imagePreviewUrl}\r\n                        />\r\n                    </>}\r\n                    <p>{'Для правильной работы сначала сохраните SEO разметку и потом создайте категорию!'}</p>\r\n                    <Seo \r\n                        seo={this.state.seo}\r\n                        onExportData={this.onExportData}\r\n                    />\r\n                    {this.state.loading ?\r\n                    <CircularProgress />\r\n                    :\r\n                    <Button\r\n                    onClick={this.onSubmitForm}\r\n                    disabled={!this.state.formIsValid || this.state.file === null}\r\n                    variant=\"contained\" \r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    >\r\n                        {'Создать'}\r\n                    </Button>}\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(style)(AddFilter));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Seo from '../../../SEO/SEO';\r\n\r\nconst style = theme => ({\r\n    element: {\r\n        margin: '20px 0'\r\n    },\r\n    button: {\r\n        marginTop: '25px'\r\n    },\r\n    cancelButton: {\r\n        marginTop: '10px'\r\n    }\r\n});\r\n\r\nclass EditFilter extends React.Component {\r\n\r\n    state = {\r\n        error: false,\r\n        loading: false,\r\n        form: {\r\n            nameRU: {\r\n                value: '',\r\n                valid: true,\r\n                touched: false\r\n              },\r\n              nameUA: {\r\n                value: '',\r\n                valid: true,\r\n                touched: false\r\n              },\r\n              route: {\r\n                value: '',\r\n                valid: true,\r\n                touched: false\r\n              },\r\n              alt: {\r\n                  value: '',\r\n                  valid: true,\r\n                  touched: false\r\n              }\r\n        },\r\n        seo: {\r\n            title: '',\r\n            description: '',\r\n            keywords: ''\r\n        },\r\n        formIsValid: true,\r\n        file: null,\r\n        imagePreviewUrl: null,\r\n        filterId: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n\r\n        const filterId = this.props.match.params.id;\r\n        this.setState({ filterId: filterId });\r\n        axios.get(backendUrl + `/admin/product/filter/id/${filterId}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState({\r\n                loading: false,\r\n                error: false,\r\n                form: {\r\n                    ...this.state.form,\r\n                    nameRU: {\r\n                        value: res.data.name_ru,\r\n                        valid: true,\r\n                        touched: false\r\n                    },\r\n                    nameUA: {\r\n                        value: res.data.name_ua,\r\n                        valid: true,\r\n                        touched: false\r\n                    },\r\n                    route: {\r\n                        value: res.data.route,\r\n                        valid: true,\r\n                        touched: false\r\n                      },\r\n                    alt: {\r\n                        value: res.data.alt,\r\n                        valid: true,\r\n                        touched: false\r\n                    }\r\n                },\r\n                seo: {\r\n                    title: res.data.seo_title,\r\n                    description: res.data.seo_description,\r\n                    keywords: res.data.seo_keywords\r\n                }\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({\r\n                loading: false,\r\n                error: true\r\n            });\r\n        });\r\n    }\r\n\r\n    onSelectIconHandler = (event) => {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            this.setState({\r\n                file: file,\r\n                imagePreviewUrl: reader.result\r\n            })\r\n        };\r\n\r\n        const file = event.target.files[0];\r\n        if (file) { reader.readAsDataURL(file); }\r\n        else { this.setState({ file: null, imagePreviewUrl: null }) }\r\n    }\r\n\r\n    onExportData = (obj) => {\r\n        this.setState({\r\n            seo: {\r\n                title: obj.title,\r\n                description: obj.description,\r\n                keywords: obj.keywords\r\n            }\r\n        });\r\n    }\r\n\r\n    onInputChangedHandler = (event, name) => {\r\n        const updatedForm = {\r\n            ...this.state.form\r\n        };\r\n        updatedForm[name].value = event.target.value;\r\n        updatedForm[name].touched = true;\r\n        updatedForm[name].valid = event.target.value !== '';\r\n\r\n        let formIsValid = true;\r\n        for (let elem in updatedForm) {\r\n            if (!updatedForm[elem].valid && updatedForm[elem].valid !== undefined) {\r\n              formIsValid = false;\r\n            }\r\n          };\r\n        this.setState({ form: updatedForm, formIsValid: formIsValid });\r\n    }\r\n\r\n    onSubmitForm = () => {\r\n        this.setState({ loading: true });\r\n\r\n        if (this.state.file) {\r\n            let formData = new FormData();\r\n            formData.append('name_ru', this.state.form.nameRU.value);\r\n            formData.append('name_ua', this.state.form.nameUA.value);\r\n            formData.append('route', this.state.form.route.value);\r\n            formData.append('image', this.state.file);\r\n            formData.append('alt', this.state.form.alt.value);\r\n            formData.append('seo_title', this.state.seo.title);\r\n            formData.append('seo_description', this.state.seo.description);\r\n            formData.append('seo_keywords', this.state.seo.keywords);\r\n\r\n            axios.put(backendUrl + `/admin/product/filter/${this.state.filterId}`, formData, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                this.props.history.push('/storage/filters');\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: true, loading: false });\r\n            });\r\n\r\n        } else {\r\n\r\n            axios.put(backendUrl + `/admin/product/filter/noImage/${this.state.filterId}`, {\r\n                'name_ru': this.state.form.nameRU.value,\r\n                'name_ua': this.state.form.nameUA.value,\r\n                route: this.state.form.route.value,\r\n                alt: this.state.form.alt.value,\r\n                'seo_title': this.state.seo.title,\r\n                'seo_description': this.state.seo.description,\r\n                'seo_keywords': this.state.seo.keywords\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                this.props.history.push('/storage/filters');\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: true, loading: false });\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <div className=\"edit-category\">\r\n                <h1>{'Изменить Фильтр'}</h1>\r\n                { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'nameRU')}\r\n                    value={this.state.form.nameRU.value}\r\n                    className={classes.element}\r\n                    label=\"Название(RU)\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'nameUA')}\r\n                    value={this.state.form.nameUA.value}\r\n                    className={classes.element}\r\n                    label=\"Название(UA)\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'route')}\r\n                    value={this.state.form.route.value}\r\n                    className={classes.element}\r\n                    label=\"route\" \r\n                    variant=\"outlined\" \r\n                    />\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'alt')}\r\n                    value={this.state.form.alt.value}\r\n                    className={classes.element}\r\n                    label=\"alt атрибут\" \r\n                    variant=\"outlined\" \r\n                    />\r\n                    <label style={{margin: '10px 0'}}>\r\n                        Если хотите обновить картинку загрузите файл\r\n                    </label>\r\n                    <input \r\n                    onChange={(event) => this.onSelectIconHandler(event)}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    />\r\n                    {this.state.imagePreviewUrl &&\r\n                    <>\r\n                        <Button\r\n                        onClick={() => this.setState({ file: null, imagePreviewUrl: null })}\r\n                        className={classes.cancelButton}\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        color=\"secondary\">\r\n                            {'отменить'}\r\n                        </Button>\r\n                        <img \r\n                        style={{ marginTop: '20px', maxWidth: '100%' }}\r\n                        alt=\"icon\"\r\n                        src={this.state.imagePreviewUrl}\r\n                        />\r\n                        <p>Как будет выгядеть на сайте:</p>\r\n                        <img \r\n                        style={{ \r\n                            marginTop: '10px',  \r\n                            maxWidth: '50px',\r\n                            maxHeight: '45px' \r\n                        }}\r\n                        alt=\"icon\"\r\n                        src={this.state.imagePreviewUrl}\r\n                        />\r\n                    </>}\r\n                    <p>{'Для правильной работы сначала сохраните SEO разметку и потом создайте категорию!'}</p>\r\n                    <Seo \r\n                        seo={this.state.seo}\r\n                        onExportData={this.onExportData}\r\n                    />\r\n                    {this.state.loading ?\r\n                    <CircularProgress />\r\n                    :\r\n                    <Button\r\n                    onClick={this.onSubmitForm}\r\n                    disabled={!this.state.formIsValid}\r\n                    variant=\"contained\" \r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    >\r\n                        {'Создать'}\r\n                    </Button>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(style)(EditFilter));","import React from 'react';\nimport { Route, Switch, Redirect, NavLink } from 'react-router-dom';\nimport { links } from './list';\n\nimport Categories from './components/Caterogies/Categories';\nimport AddCategory from './components/AddCategory/AddCategory';\nimport EditCategory from './components/EditCategory/EditCategory';\n\nimport AddGoods from './components/AddGoods/AddGoods';\nimport EditGoods from './components/EditGoods/EditGoods';\nimport Goods from './components/Goods/Goods';\n\nimport Filters from './components/Filters/Filters';\nimport AddFilter from './components/AddFilter/AddFilter';\nimport EditFilter from './components/EditFilter/EditFilter';\n\nclass Storage extends React.Component {\n    render() {\n\n        const routes = (\n            <Switch>\n                <Route path=\"/storage/categories\" component={Categories} />\n                <Route path=\"/storage/add-category\" component={AddCategory} />\n                <Route path=\"/storage/edit-category/:id\" component={EditCategory} />\n\n                <Route path=\"/storage/goods\" component={Goods} />\n                <Route path=\"/storage/add-goods\" component={AddGoods} />\n                <Route path=\"/storage/edit-goods/:id\" component={EditGoods} />\n\n                <Route path=\"/storage/filters\" component={Filters} />\n                <Route path=\"/storage/add-filter\" component={AddFilter} />\n                <Route path=\"/storage/edit-filtery/:id\" component={EditFilter} />\n\n                <Redirect exact from=\"/storage\" to=\"/storage/goods\" />\n            </Switch>\n        );\n\n        return (\n            <>  \n                <div className=\"all-admins_header\">\n                    {links.map((el, index) => (\n                        <NavLink \n                        key={index} \n                        to={el.to} \n                        activeClassName=\"all-admins_header__item-active\"\n                        className='all-admins_header__item'>\n                            {el.label}\n                        </NavLink>\n                    ))}\n                </div>\n                {routes}\n            </>\n        );\n    }\n}\n\nexport default Storage;","import React from \"react\";\nimport axios from \"axios\";\nimport { NavLink } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { backendUrl } from \"../../../config/config\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Table from \"@material-ui/core/Table\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport ErrorComponent from \"../../Errors/Error/Error\";\nimport Modal from \"../../UI/Modal/Modal\";\nimport { useJsonToCsv } from \"react-json-csv\";\nimport { sortStrings, sortNumbers } from \"../../../tools/sort\";\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\n\nimport \"./usersList.scss\";\nconst formats = [\n  {\n    value: \"excel\",\n    label: \"excel\",\n  },\n  {\n    value: \"csv\",\n    label: \"csv\",\n  },\n  {\n    value: \"json\",\n    label: \"json\",\n  },\n];\nconst styles = (theme) => ({\n  button: {\n    backgroundColor: \"#4caf50\",\n    marginLeft: \"20px\",\n    color: \"white\",\n    \"&:hover\": {\n      backgroundColor: \"#357a38\",\n    },\n  },\n  table: {\n    width: \"100%\",\n  },\n  edit: {\n    color: \"#4caf50\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      color: \"#357a38\",\n    },\n  },\n  delete: {\n    color: \"#b71c1c\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      color: \"#801313\",\n    },\n  },\n  paginator: {\n    width: \"100%\",\n  },\n  paper: {\n    width: \"90%\",\n    marginTop: \"20px\",\n    marginBottom: \"60px\",\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: \"rect(0 0 0 0)\",\n    height: 1,\n    margin: -1,\n    overflow: \"hidden\",\n    padding: 0,\n    position: \"absolute\",\n    top: 20,\n    width: 1,\n  },\n  cancelButton: {\n    textTransform: \"capitalize\",\n    marginLeft: \"15px\",\n    backgroundColor: \"#b71c1c\",\n    \"&:hover\": {\n      backgroundColor: \"#801313\",\n    },\n  },\n});\n\nconst headCells = [\n  { id: \"name\", numeric: false, disablePadding: false, label: \"ФИО\" },\n  {\n    id: \"date\",\n    numeric: false,\n    disablePadding: false,\n    label: \"Дата регестрации\",\n  },\n  { id: \"phone\", numeric: false, disablePadding: false, label: \"Телефон\" },\n  { id: \"email\", numeric: false, disablePadding: true, label: \"E-mail\" },\n  {\n    id: \"AvgCheck\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Средний чек\",\n  },\n  {\n    id: \"sumUserOrders\",\n    numeric: true,\n    disablePadding: false,\n    label: \"Сума заказов\",\n  },\n];\n\nclass ClientList extends React.Component {\n  state = {\n    loading: true,\n    error: false,\n    users: null,\n    rowsPerPage: 10,\n    page: 0,\n    orderBy: \"name\",\n    order: \"asc\",\n    modalupload: false,\n    format: \"csv\",\n    modalForSuccessAdd: false,\n    modalForSuccessChange: false,\n    searchArea: {\n      email: \"\",\n      fio: \"\",\n      phone: \"\",\n    },\n    searchMode: false,\n  };\n\n  componentDidMount() {\n    axios\n      .get(backendUrl + \"/admin/client/\", {\n        headers: {\n          Authorization: `Bearer ${this.props.token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res);\n        const users = res.data;\n        this.setState({ users: users });\n      })\n      .catch((err) => {\n        console.log(err, err.response);\n        this.setState({ error: true });\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n    if (this.props.location.search === \"?successed-add=true\") {\n      this.setState({ modalForSuccessAdd: true });\n    } else if (this.props.location.search === \"?successed-changed=true\") {\n      this.setState({ modalForSuccessChange: true });\n    }\n  }\n\n  handleChangeRowsPerPage = (event) => {\n    this.setState({\n      rowsPerPage: parseInt(event.target.value, 10),\n      page: 0,\n    });\n  };\n\n  handleChangePage = (event, newPage) => {\n    this.setState({\n      page: newPage,\n    });\n  };\n\n  handleRequestSort = (event, property) => {\n    const isAsc = this.state.orderBy === property && this.state.order === \"asc\";\n    this.setState({\n      order: isAsc ? \"desc\" : \"asc\",\n      orderBy: property,\n    });\n\n    const users = this.state.users;\n\n    const elem = headCells.find((el) => {\n      if (el.id === property) {\n        return true;\n      } else return false;\n    });\n\n    if (elem.numeric) {\n      this.setState({\n        users: sortNumbers(\n          property,\n          users,\n          this.state.order !== \"desc\" ? \"asc\" : \"desc\"\n        ),\n      });\n    } else {\n      this.setState({\n        users: sortStrings(\n          property,\n          users,\n          this.state.order !== \"desc\" ? \"asc\" : \"desc\"\n        ),\n      });\n    }\n  };\n\n  onModalForSuccessAddClosed = () => {\n    this.setState({ modalForSuccessAdd: false });\n    this.props.history.push(\"/clients/list\");\n  };\n\n  onModalForSuccessChange = () => {\n    this.setState({ modalForSuccessChange: false });\n    this.props.history.push(\"/clients/list\");\n  };\n\n  onSelectOrder = (id) => {\n    this.props.history.push(`/clients/check/${id}`);\n  };\n\n  onDownload = () => {\n    axios\n      .get(backendUrl + \"/admin/client/file/download/plz\", {\n        headers: {\n          Authorization: `Bearer ${this.props.token}`,\n        },\n      })\n      .then((res) => {\n        console.log(res.data);\n        let response;\n        if (this.state.format == \"json\") {\n          response = new Blob([JSON.stringify(res.data)], {\n            type: \"application/json\",\n          });\n          console.log(response);\n          let url = window.URL.createObjectURL(response);\n          let a = document.createElement(\"a\");\n          a.href = url;\n          a.download = \"clients.json\";\n          a.click();\n        } else if (this.state.format == \"excel\") {\n          const fileType =\n            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\";\n          const fileExtension = \"clients.xlsx\";\n          const ws = XLSX.utils.json_to_sheet(res.data);\n          const wb = { Sheets: { data: ws }, SheetNames: [\"data\"] };\n          const excelBuffer = XLSX.write(wb, {\n            bookType: \"xlsx\",\n            type: \"array\",\n          });\n          const data = new Blob([excelBuffer], { type: fileType });\n          FileSaver.saveAs(data, fileExtension);\n        } else if (this.state.format == \"csv\") {\n          const filename = \"clients\",\n            fields = {\n              _id: \"Index\",\n              name: \"Name\",\n              email: \"Email\",\n              phoneNumber: \"Phone\",\n              date: \"DateOfRegister\",\n              sumUserBonus: \"sumUserBonus\",\n            },\n            data = res.data;\n          const { saveAsCsv } = useJsonToCsv();\n          saveAsCsv({ data, fields, filename });\n        }\n      })\n      .catch((err) => {\n        console.log(err, err.response);\n        this.setState({ error: true });\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n\n  onSearch = () => {\n    this.setState({ loading: true });\n\n    axios\n      .post(\n        backendUrl + \"/admin/client/search\",\n        {\n          email: this.state.searchArea.email,\n          name: this.state.searchArea.fio,\n          phone: this.state.searchArea.phone,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${this.props.token}`,\n          },\n        }\n      )\n      .then((res) => {\n        console.log(res);\n        this.setState({\n          searchMode: true,\n          users: res.data.customers,\n        });\n      })\n      .catch((err) => {\n        console.log(err, err.response);\n        this.setState({ error: true });\n      })\n      .finally(() => {\n        this.setState({ loading: false });\n      });\n  };\n  uploadModalTrue = () => {\n    this.setState({ modalupload: true });\n  };\n\n  render() {\n    const { classes } = this.props;\n\n    const modalForUpload = (\n      <>\n        <div>\n          <TextField\n            id=\"standard-select-currency\"\n            select\n            label=\"Select\"\n            value={this.state.format}\n            onChange={(e) => {\n              this.setState({\n                format: e.target.value,\n              });\n            }}\n            helperText=\"Please select your format\"\n          >\n            {formats.map((option) => (\n              <option key={option.label} value={option.value}>\n                {option.label}\n              </option>\n            ))}\n          </TextField>\n          <Button\n            onClick={() => {\n              this.onDownload();\n            }}\n            variant=\"contained\"\n          >\n            Выгрузить\n          </Button>\n        </div>\n      </>\n    );\n    const modalForSuccessChanged = (\n      <>\n        <p style={{ textAlign: \"center\" }}>{\"Вы успешно изменили клиента\"}</p>\n      </>\n    );\n\n    return (\n      <>\n        <div className=\"users-list__content-area\">\n          {this.state.loading && <CircularProgress />}\n\n          {this.state.error && !this.state.loading && <ErrorComponent />}\n\n          {!this.state.error && !this.state.loading && (\n            <>\n              <Modal\n                show={this.state.modalupload}\n                modalClosed={() => {\n                  this.setState({ modalupload: false });\n                  this.props.history.push(\"/clients/list\");\n                }}\n              >\n                {modalForUpload}\n              </Modal>\n              <Modal\n                show={this.state.modalForSuccessChange}\n                modalClosed={this.onModalForSuccessChange}\n              >\n                {modalForSuccessChanged}\n              </Modal>\n              <div className=\"users-list__content-area__controls\">\n                <div className=\"users-list__content-area__controls__top\">\n                  <h1>Клиенты</h1>\n                </div>\n                <div className=\"users-list__content-area__controls__search\">\n                  <div className=\"users-list__content-area__controls__search__inputs\">\n                    <span className=\"users-list__content-area__controls__search__inputs__item\">\n                      <TextField\n                        onChange={(e) =>\n                          this.setState((prevState) => ({\n                            searchArea: {\n                              ...prevState.searchArea,\n                              email: e.target.value,\n                            },\n                          }))\n                        }\n                        className={classes.input}\n                        label=\"E-mail\"\n                        variant=\"outlined\"\n                      />\n                    </span>\n                    <span className=\"users-list__content-area__controls__search__inputs__item\">\n                      <TextField\n                        onChange={(e) =>\n                          this.setState((prevState) => ({\n                            searchArea: {\n                              ...prevState.searchArea,\n                              fio: e.target.value,\n                            },\n                          }))\n                        }\n                        className={classes.input}\n                        label=\"ФИО\"\n                        variant=\"outlined\"\n                      />\n                    </span>\n                    <span className=\"users-list__content-area__controls__search__inputs__item\">\n                      <TextField\n                        onChange={(e) =>\n                          this.setState((prevState) => ({\n                            searchArea: {\n                              ...prevState.searchArea,\n                              phone: e.target.value,\n                            },\n                          }))\n                        }\n                        className={classes.input}\n                        label=\"Телефон\"\n                        variant=\"outlined\"\n                      />\n                    </span>\n                    <Button\n                      onClick={this.onSearch}\n                      variant=\"contained\"\n                      className={classes.button}\n                    >\n                      {\"Поиск\"}\n                    </Button>\n                    {this.state.searchMode && (\n                      <Button\n                        onClick={() => window.location.reload()}\n                        className={classes.cancelButton}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                      >\n                        {\"Отменить\"}\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </div>\n              <Paper elevation={2} className={classes.paper}>\n                <Table\n                  className={classes.table}\n                  size=\"medium\"\n                  aria-label=\"a dense table\"\n                >\n                  <TableHead>\n                    <TableRow>\n                      {headCells.map((headCell) => {\n                        return (\n                          <TableCell\n                            align=\"center\"\n                            key={headCell.id}\n                            sortDirection={\n                              headCell.id !== this.state.orderBy\n                                ? false\n                                : this.state.order\n                            }\n                          >\n                            <TableSortLabel\n                              active={\n                                headCell.id !== \"edit\" &&\n                                headCell.id !== \"delete\"\n                              }\n                              direction={\n                                headCell.id === this.state.orderBy\n                                  ? this.state.order\n                                  : \"asc\"\n                              }\n                              onClick={(e) =>\n                                this.handleRequestSort(e, headCell.id)\n                              }\n                            >\n                              {headCell.label}\n                              {headCell.id !== \"edit\" &&\n                              headCell.id !== \"delete\" ? (\n                                <span className={classes.visuallyHidden}>\n                                  {this.state.order === \"desc\"\n                                    ? \"sorted descending\"\n                                    : \"sorted ascending\"}\n                                </span>\n                              ) : null}\n                            </TableSortLabel>\n                          </TableCell>\n                        );\n                      })}\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {this.state.users\n                      .slice(\n                        this.state.page * this.state.rowsPerPage,\n                        this.state.page * this.state.rowsPerPage +\n                          this.state.rowsPerPage\n                      )\n                      .map((user) => (\n                        <TableRow\n                          key={user._id}\n                          style={{ cursor: \"pointer\" }}\n                          onClick={() => this.onSelectOrder(user._id)}\n                        >\n                          <TableCell component=\"th\" scope=\"row\" align=\"center\">\n                            {user.name}\n                          </TableCell>\n                          <TableCell align=\"center\">\n                            {new Date(user.date).toLocaleString()}\n                          </TableCell>\n                          <TableCell align=\"center\">\n                            {user.phoneNumber}\n                          </TableCell>\n                          <TableCell align=\"center\">{user.email}</TableCell>\n                          <TableCell align=\"center\">{user.AvgCheck}</TableCell>\n                          <TableCell align=\"center\">\n                            {user.sumUserOrders}\n                          </TableCell>\n                          {/* <TableCell align=\"center\">\n                                                                <EditIcon\n                                                                    onClick={() => this.onEditUser(user._id)}\n                                                                    className={classes.edit} />\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                <DeleteIcon\n                                                                    onClick={() => this.onDeleteUser(user._id)}\n                                                                    className={classes.delete} />\n                                                            </TableCell> */}\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n\n                <TablePagination\n                  className={classes.paginator}\n                  rowsPerPageOptions={[5, 10, 25]}\n                  component=\"div\"\n                  count={this.state.users.length}\n                  rowsPerPage={this.state.rowsPerPage}\n                  page={this.state.page}\n                  onChangePage={this.handleChangePage}\n                  onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                  labelRowsPerPage={\"Количество полей на странице:\"}\n                />\n              </Paper>\n              <div\n                style={{\n                  float: \"left\",\n                  alignSelf: \"flex-start\",\n                  marginLeft: \"5%\",\n                  marginTop: \"-7.5%\",\n                }}\n              >\n                <Button onClick={this.uploadModalTrue} variant=\"contained\">\n                  Выгрузить информацию\n                </Button>\n                {/* <a href=\"\">Загрузить информацию</a> */}\n              </div>\n            </>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  token: state.auth.token,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(ClientList));\n","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../config/config';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { checkValidaty } from '../../../tools/checkValidaty';\n\nimport './clientEdit.scss';\n\nconst styles = theme => ({\n    element: {\n        margin: '20px 0'\n    },\n    button: {\n        marginTop: '25px'\n    }\n});\n\nclass EditClient extends React.Component {\n\n\n    state = {\n        form: {\n            fio: '',\n            status: '',\n            email: {\n                value: '',\n                validation: {\n                    required: true,\n                    isEmail: true\n                },\n                valid: true,\n                touched: false\n            },\n            phone: {\n                value: '',\n                validation: {\n                    required: true,\n                    isPhone: true\n                },\n                valid: true,\n                touched: false\n            },\n            address: '',\n\n        },\n        formIsValid: true,\n        error: null,\n        loading: false,\n        idIsValid: false,\n        userId: null\n    }\n\n    componentDidMount() {\n        const userId = this.props.match.params.id;\n        this.setState({ loading: true, userId: userId });\n\n        axios.get(backendUrl + `/admin/client/${userId}`, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res, res.data);\n                this.setState({\n                    form: {\n                        ...this.state.form,\n                        fio: res.data.user.name || '',\n                        status: res.data.user.status,\n                        phone: {\n                            ...this.state.form.phone,\n                            value: res.data.user.phoneNumber\n                        },\n                        email: {\n                            ...this.state.form.email,\n                            value: res.data.user.email\n                        },\n                        address: res.data.user.address\n                    },\n                    error: null,\n                    idIsValid: true\n                });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\n                this.setState({ error: message, idIsValid: false });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            })\n    }\n\n    onInputChangedHandler = (event, controlName) => {\n        const updatedControls = {\n            ...this.state.form,\n            [controlName]: {\n                ...this.state.form[controlName],\n                value: event.target.value,\n                touched: true,\n                valid: checkValidaty(event.target.value, this.state.form[controlName].validation)\n            }\n        }\n        let formIsValid = true;\n        for (let elem in updatedControls) {\n            if (!updatedControls[elem].valid && updatedControls[elem].valid !== undefined) {\n                formIsValid = false;\n            }\n        }\n        this.setState({ form: updatedControls, formIsValid: formIsValid });\n    }\n\n    onStatusChangedHandler = (event) => {\n        this.setState((prevState) => ({\n            form: {\n                ...prevState.form,\n                status: event.target.value\n            }\n        }))\n    }\n\n    onSubmitForm = () => {\n        this.setState({ loading: true, error: null });\n\n        axios.put(backendUrl + `/admin/client/${this.state.userId}`, {\n            email: this.state.form.email.value,\n            name: this.state.form.fio,\n            status: this.state.form.status,\n            phone: this.state.form.phone.value,\n            address: this.state.form.address\n        }, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res, res.data);\n                this.props.history.push('/clients/list?successed-changed=true');\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\n                this.setState({ error: message });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            })\n    }\n\n    render() {\n\n        console.log(this.state);\n\n        const { classes } = this.props;\n\n        const statuses = [\n            \"None\", \"Bad\", \"Vip\"\n        ]\n\n        return (\n            <div className=\"create-new-admin__content\">\n                <h1>\n                    {'Изменить Клиента'}\n                </h1>\n                { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p>}\n                <TextField\n                    onChange={(event) => this.onInputChangedHandler(event, 'email')}\n                    value={this.state.form.email.value}\n                    error={!this.state.form.email.valid && this.state.form.email.touched}\n                    helperText={!this.state.form.email.valid && this.state.form.email.touched ? 'enter correct email' : null}\n                    className={classes.element}\n                    label=\"E-mail\"\n                    variant=\"outlined\"\n                />\n                <TextField\n                    onChange={(event) => this.onInputChangedHandler(event, 'phone')}\n                    value={this.state.form.phone.value}\n                    error={!this.state.form.phone.valid && this.state.form.phone.touched}\n                    helperText={!this.state.form.phone.valid && this.state.form.phone.touched ? 'enter correct phone' : null}\n                    className={classes.element}\n                    label=\"phone\"\n                    variant=\"outlined\"\n                />\n                <TextField\n                    value={this.state.form.fio}\n                    onChange={(e) => this.setState({ form: { ...this.state.form, fio: e.target.value } })}\n                    className={classes.element}\n                    label=\"ФИО\"\n                    variant=\"outlined\"\n                />\n                <TextField\n                    value={this.state.form.address}\n                    onChange={(e) => this.setState({ form: { ...this.state.form, address: e.target.value } })}\n                    className={classes.element}\n                    label=\"Address\"\n                    variant=\"outlined\"\n                />\n                <TextField\n                    select\n                    label=\"Статус\"\n                    value={this.state.form.status}\n                    onChange={this.onStatusChangedHandler}\n                    SelectProps={{\n                        native: true,\n                    }}\n                    helperText=\"Выберите статус\"\n                    variant=\"outlined\"\n                >\n                    {statuses.map((option) => (\n                        <option key={option} value={option}>\n                            {option}\n                        </option>\n                    ))}\n                </TextField>\n                {this.state.loading ?\n                    <CircularProgress />\n                    : <Button\n                        onClick={this.onSubmitForm}\n                        disabled={!this.state.formIsValid || !this.state.idIsValid}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                    >\n                        {'Изменить'}\n                    </Button>}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(EditClient));","export default __webpack_public_path__ + \"static/media/default-avatar.41c95564.png\";","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../config/config';\n\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport avatar from './default-avatar.png';\nimport './index.scss';\n\nconst allStatuses = {\n    'check': {\n        name: 'Распечатан чек',\n        color: 'forestgreen'\n    },\n    'no-call': {\n        name: 'Недозвон',\n        color: '#dc143c'\n    },\n    'new': {\n        name: 'Новый',\n        color: 'forestgreen'\n    },\n    'send-to-delivery': {\n        name: 'В пути',\n        color: '#ffc84c'\n    },\n    'complete': {\n        name: 'Доставлен',\n        color: 'forestgreen'\n    },\n    'send-to-assembling': {\n        name: 'Готовится',\n        color: '#fff44c'\n    },\n    'delivering': {\n        name: 'Доставляется',\n        color: '#ffc84c'\n    },\n    'client-confirmed': {\n        name: 'Подтвержденный',\n        color: '#fff44c'\n    },\n    'samovivoz': {\n        name: 'Самовывоз',\n        color: 'forestgreen'\n    },\n    'cancel-other': {\n        name: 'Отменен',\n        color: '#dc143c'\n    },\n    'prepayed': {\n        name: 'Оплачен',\n        color: '#fff44c'\n    },\n    'assembling': {\n        name: 'Ожидает курьера',\n        color: '#ffc84c'\n    }\n}\n\n\n\nclass Check extends React.Component {\n    state = {\n        orders: null,\n        user: null,\n        orders: []\n    }\n\n    componentDidMount() {\n\n        const userId = this.props.match.params.id;\n        console.log(userId);\n        this.setState({ loading: true, userId: userId });\n\n        axios.get(backendUrl + `/admin/client/${userId}`, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                const users = res.data.user;\n                let orders = res.data.orders;\n                orders = orders.map((el, index) => {\n                    let status = allStatuses[el.status];\n                    return {\n                        id: el.number,\n                        name: users.name,\n                        date: el.markDatetime.slice(0, 10),\n                        time: el.markDatetime.slice(11, 16),\n                        status: status,\n                        price: el.totalSumm,\n                        order: el.items.map((product, index) => ({\n                            id: index,\n                            name: product.offer.displayName,\n                            price: product.initialPrice,\n                            count: product.quantity\n                        }))\n                    }\n                })\n                this.setState({ user: users, orders: orders });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n        if (this.props.location.search === '?successed-add=true') {\n            this.setState({ modalForSuccessAdd: true });\n        } else if (this.props.location.search === '?successed-changed=true') {\n            this.setState({ modalForSuccessChange: true });\n        }\n    }\n\n    onDeleteUser = () => {\n        let id = this.props.match.params.id\n        axios.delete(backendUrl + `/admin/client/${id}`, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                this.props.history.push('/clients/list')\n            })\n            .catch(err => {\n                console.log(err, err.response);\n            });\n    }\n\n    onEditUser = () => {\n        let id = this.props.match.params.id\n        this.props.history.push(`/clients/edit/${id}`);\n    }\n\n    render() {\n\n        return <>\n            {\n                this.state.loading &&\n                <CircularProgress />\n            }\n            {\n                this.state.user &&\n                <div >\n                    <div id=\"header\" style={{\n                        marginLeft: \"20px\",\n                        marginTop: \"20px\",\n                        display: 'flex',\n                        flexDirection: 'row'\n                    }}>\n                        <div style={{\n                            textTransform: 'capitalize',\n                            fontSize: '40px'\n                        }}> Клиент {this.state.user.name ? this.state.user.name : \"ZXC\"}</div>\n                        <div\n                            style={{\n                                marginLeft: \"60%\"\n                            }}\n                        >\n                            <Button color=\"primary\"\n                                variant=\"contained\"\n                                style={{\n                                    textTransform: 'capitalize',\n                                    fontSize: '20px'\n                                }} onClick={()=>{this.onEditUser()} }>\n                                Редактировать\n                                </Button>\n                            <Button color=\"primary\"\n                                variant=\"contained\"\n                                style={{\n                                    textTransform: 'capitalize',\n                                    fontSize: '20px'\n                                }} onClick={()=>{this.onDeleteUser()} }>\n                                Удалить\n                                    </Button>\n                        </div>\n\n                    </div>\n                    <div style={{\n                        display: 'flex',\n                        flexDirection: 'row',\n                        justifyContent: 'space-between',\n                        alignItems: \"flex-start\"\n                    }}>\n                        <div className=\"orders_list_container\">\n                            <div style={{ padddingTop: \"20px\" }}>\n                                <img\n                                    style={{\n                                        width: '46px',\n                                        height: '46px',\n                                        borderRadius: '100%'\n                                    }}\n                                    src={avatar}\n                                    alt=\"\"\n                                />\n                                <h2>{this.state.user.name}</h2>\n                            </div>\n                            <hr />\n                            <div><h2>Aдресс:</h2>\n                                    <p style={{\n                                    fontWeight: 'bold',\n                                }}> Город: {this.state.user.city || \"Kharkiv\"}</p>\n                                <p style={{\n                                    fontWeight: 'bold',\n                                }}>{this.state.user.address}</p>\n                            </div>\n                            <hr />\n                            <div  >\n                                <p>Дата регистрации: {new Date(this.state.user.date).toLocaleString()}</p>\n                                <p>Дата рождения: {this.state.user.birthday || \"-\"}</p>\n                            </div>\n                            <div style={{\n                                display: 'flex',\n                                flexDirection: 'row',\n                                justifyContent: 'space-between',\n                                alignItems: \"flex-start\",\n                                textAlign: \"center\"\n                            }}>\n                                <div>\n                                    <p>{this.state.user.sumUserOrders || \"-\"}</p>\n                                    <p>Сума заказов</p>\n                                </div>\n                                <div>\n                                    <p>{this.state.user.sumUserBonus || \"-\"}</p>\n                                    <p>Сума бонусов</p>\n                                </div>\n                                <div>\n                                    <p>{this.state.user.percentUserBonus || \"-\"}</p>\n                                    <p>Бонусный процент</p>\n                                </div>\n                                <div>\n                                    <p>{this.state.user.AvgCheck || \"-\"}</p>\n                                    <p>Средний чек</p>\n                                </div>\n                            </div>\n                            <div style={{\n                                display: 'flex',\n                                flexDirection: 'row',\n                                justifyContent: 'space-between',\n                                alignItems: \"flex-start\",\n                                textAlign: \"center\"\n                            }}>\n                                <div>\n                                    <p>{\"-\"}</p>\n                                    <p> Комментарий</p>\n                                </div>\n                                <div>\n                                    <p>{ \"-\"}</p>\n                                    <p>Instagram</p>\n                                </div>\n                                <div>\n                                    <p>{ \"-\"}</p>\n                                    <p>Вайбер</p>\n                                </div>\n                                <div>\n                                    <p>{ \"-\"}</p>\n                                    <p>Телеграмм</p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className={\"mainese\"} >\n                            {this.state.orders.map((orders, index) =>\n                                <div\n                                    key={index}\n                                    className={'order_history_footer_list'}\n                                >\n                                    <div className={'content'}>\n                                        <div className={'content_header'}>\n                                            <div className={'content_header_left'}>\n                                                <h2>Заказ</h2>\n                                                <h2>{orders.id}</h2>\n                                                <span\n                                                    style={{\n                                                        background: orders.status.color,\n                                                        borderRadius: '2px',\n                                                        color: orders.status.color === 'forestgreen' ? '#ededed' : 'black',\n                                                        padding: '3px 18px',\n                                                        fontWeight: 600\n                                                    }}\n                                                >\n                                                    {orders.status.name}\n                                                </span>\n                                            </div>\n                                            <div className={'content_header_right'}>\n                                                <img\n                                                    src={avatar}\n                                                    alt=\"\"\n                                                />\n                                                <p>{orders.name}</p>\n                                                <span>\n                                                    {\n                                                        orders.date.slice(-2) +\n                                                        '.' + orders.date.slice(5, 7) +\n                                                        '.' + orders.date.slice(0, 4)\n                                                    }\n                                                </span>\n                                                <span>{orders.time}</span>\n                                            </div>\n                                        </div>\n                                        <div className={'content_body'}>\n                                            {\n                                                orders.order.map((el, id) => {\n                                                    if (el.name !== \"Бесплатная доставка\") return (\n                                                        <li\n                                                            key={id}\n                                                            className={'content_body_block'}\n                                                        >\n                                                            <div className={'left'}>\n                                                                <p>{el.name}</p>\n                                                            </div>\n                                                            <div className={'right'}>\n                                                                <span>{el.count}x{el.price} грн.</span>\n                                                                <span>{el.count * el.price} грн.</span>\n                                                            </div>\n                                                        </li>\n                                                    );\n                                                })\n                                            }\n                                        </div>\n                                        <div className={'content_footer'}>\n                                            <h2>Цена</h2>\n                                            <h2>{orders.price} грн.</h2>\n                                        </div>\n                                    </div>\n                                </div>\n                            )\n                            }\n                        </div>\n                    </div>\n                </div>\n            }</>;\n    }\n}\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(Check);","import React from 'react';\nimport { Switch, Route,  Redirect } from 'react-router-dom';\n\nimport clientList from './clientsList/clientsList'; \nimport clientEdit from './clientsEdit/clientEdit'; \nimport clientCheck from './clientsCheck/ClientsCheck';\n\n\nclass Clients extends React.Component {\n    render() {\n        const routes = (\n            <Switch>\n                <Route path=\"/clients/list\" component={clientList} />\n                <Route exact path=\"/clients/edit/:id\" component={clientEdit} />\n                <Route  path=\"/clients/check/:id\" component={clientCheck} />\n                <Redirect from=\"/clients\" to=\"/clients/list\" />\n            </Switch>\n        );\n\n        return (\n            <>\n                {routes}\n            </>\n        );\n    }\n}\n\nexport default Clients;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    button: {\r\n        textTransform: 'capitalize',\r\n        fontSize: '14px',\r\n        width: '140px',\r\n        color: 'white'\r\n    },\r\n    redButton: {\r\n        backgroundColor: '#ff6057',\r\n        '&:hover': {\r\n            backgroundColor: '#ff2b1f'\r\n        }\r\n    },\r\n    greenButton: {\r\n        backgroundColor: '#49a500',\r\n        '&:hover': {\r\n            backgroundColor: '#53bb01'\r\n        }\r\n    },\r\n    yellowButton: {\r\n        backgroundColor: '#fff44c',\r\n        '&:hover': {\r\n            backgroundColor: 'ffe706'\r\n        }\r\n    },\r\n    orangeButton: {\r\n        backgroundColor: '#ffc84c',\r\n        '&:hover': {\r\n            backgroundColor: '#ff9a08'\r\n        }\r\n    }\r\n  }));\r\n\r\n  const allStatuses = {\r\n    'check': {\r\n       name: 'Распечатан чек',\r\n       color: 'greenButton'\r\n    },\r\n    'no-call': {\r\n        name: 'Недозвон',\r\n        color: 'redButton'\r\n    },\r\n    'new': {\r\n        name: 'Новый',\r\n        color: 'greenButton'\r\n    },\r\n    'send-to-delivery': {\r\n        name: 'В пути',\r\n        color: 'orangeButton'\r\n    },\r\n    'complete': {\r\n        name: 'Доставлен',\r\n        color: 'greenButton'\r\n    },\r\n    'send-to-assembling': {\r\n        name: 'Готовится',\r\n        color: 'yellowButton'\r\n    },\r\n    'delivering': {\r\n        name: 'Доставляется',\r\n        color: 'yellowButton'\r\n    },\r\n    'client-confirmed': {\r\n        name: 'Подтвержденный',\r\n        color: 'yellowButton'\r\n    },\r\n    'samovivoz': {\r\n        name: 'Самовывоз',\r\n        color: 'greenButton'\r\n    },\r\n    'cancel-other': {\r\n        name: 'Отменен',\r\n        color: 'redButton'\r\n    },\r\n    'prepayed': {\r\n        name: 'Оплачен',\r\n        color: 'yellowButton'\r\n    },\r\n    'assembling': {\r\n        name: 'Ожидает курьера',\r\n        color: 'orangeButton'\r\n    }\r\n}\r\n\r\nconst Status = (props) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Button\r\n        className={classes.button + ' ' + classes[allStatuses[props.status].color]}\r\n        variant=\"contained\"\r\n        >\r\n            {allStatuses[props.status].name}\r\n        </Button>\r\n    );\r\n};\r\n\r\nexport default Status;","import React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../../config/config';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport AddIcon from '@material-ui/icons/Add';\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Table from '@material-ui/core/Table';\nimport Paper from '@material-ui/core/Paper';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport ErrorComponent from '../../../Errors/Error/Error';\nimport Modal from '../../../UI/Modal/Modal';\nimport Status from '../UpdateOrder/Status/Status';\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\n\nimport {\n    useJsonToCsv\n} from 'react-json-csv';\nimport { sortStrings } from '../../../../tools/sort';\n\nimport './list.scss';\n\nconst formats = [\n    {\n        value: 'excel',\n        label: 'excel',\n    },\n    {\n        value: 'csv',\n        label: 'csv',\n    },\n    {\n        value: 'json',\n        label: 'json',\n    }\n]\n\nconst styles = theme => ({\n    button: {\n        backgroundColor: '#4caf50',\n        marginLeft: '20px',\n        color: 'white',\n        '&:hover': {\n            backgroundColor: '#357a38'\n        }\n    },\n    table: {\n        width: '100%'\n    },\n    edit: {\n        color: '#4caf50',\n        cursor: 'pointer',\n        '&:hover': {\n            color: '#357a38'\n        }\n    },\n    delete: {\n        color: '#b71c1c',\n        cursor: 'pointer',\n        '&:hover': {\n            color: '#801313'\n        }\n    },\n    paginator: {\n        width: '100%'\n    },\n    paper: {\n        width: '98%',\n        marginTop: '20px',\n        marginBottom: '60px',\n    },\n    visuallyHidden: {\n        border: 0,\n        clip: 'rect(0 0 0 0)',\n        height: 1,\n        margin: -1,\n        overflow: 'hidden',\n        padding: 0,\n        position: 'absolute',\n        top: 20,\n        width: 1,\n    },\n    cancelButton: {\n        textTransform: 'capitalize',\n        marginLeft: '15px',\n        backgroundColor: '#b71c1c',\n        '&:hover': {\n            backgroundColor: '#801313'\n        }\n    },\n\n    tableCellStyle: {\n        fontSize: '11px',\n    }\n\n});\n\nconst headCells = [\n    { id: 'shop', label: 'Mагазин', width: '4%' },\n    { id: 'date', label: 'Дата и время', width: '8%' },\n    { id: 'items', label: 'Состав', width: '24%' },\n    { id: 'status', label: 'Статус', width: '15%' },\n    { id: 'sum', label: 'Сумма', width: '6%' },\n    { id: 'address', label: 'Адрес', width: '16%' },\n    { id: 'delivery', label: 'Тип доставки', width: '8%' },\n    { id: 'payType', label: 'Тип оплаты', width: '15%' },\n    { id: 'payed', label: 'Оплачено', width: '4%' }\n];\n\nclass OrdersList extends React.Component {\n\n    state = {\n        loading: true,\n        error: false,\n        orders: null,\n        rowsPerPage: 5,\n        page: 0,\n        modalupload: false,\n        format: 'csv',\n        orderBy: 'date',\n        order: 'asc',\n        modalForSuccessAdd: false,\n        modalForSuccessChange: false,\n        searchArea: {\n            shop: '',\n            fio: ''\n        },\n        searchMode: false\n    }\n\n    componentDidMount() {\n        axios.get(backendUrl + '/admin/order/get/100 ', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                const orders = res.data.orders;\n                this.setState({ orders: orders });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            });\n\n        if (this.props.location.search === '?successed-add=true') {\n            this.setState({ modalForSuccessAdd: true });\n        } else if (this.props.location.search === '?successed-changed=true') {\n            this.setState({ modalForSuccessChange: true });\n        }\n    }\n\n\n    handleChangeRowsPerPage = (event) => {\n        this.setState({\n            rowsPerPage: parseInt(event.target.value, 10),\n            page: 0\n        })\n    };\n\n    handleChangePage = (event, newPage) => {\n        this.setState({\n            page: newPage\n        })\n    };\n\n    handleRequestSort = (event, property) => {\n        const isAsc = this.state.orderBy === property && this.state.order === 'asc'\n        this.setState({\n            order: isAsc ? 'desc' : 'asc',\n            orderBy: property,\n        });\n        const orders = this.state.orders;\n        this.setState({\n            orders: sortStrings(property, orders, this.state.order !== 'desc' ? 'asc' : 'desc')\n        })\n    };\n\n    onModalForSuccessAddClosed = () => {\n        this.setState({ modalForSuccessAdd: false });\n        this.props.history.push('/orders/add');\n    }\n\n    onModalForSuccessChange = () => {\n        this.setState({ modalForSuccessChange: false });\n        this.props.history.push('/orders/add');\n    }\n\n    onDeleteUser = (id) => {\n\n        axios.delete(backendUrl + `/admin/order/${id}`, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                window.location.reload();\n            })\n            .catch(err => {\n                console.log(err, err.response);\n            });\n    }\n\n    onEditUser = (id) => {\n        this.props.history.push(`/order/edit/${id}`);\n    }\n\n    onDownload = () => {\n        axios.get(backendUrl + '/admin/order/file/download/plz', {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res.data);\n                let response\n                if (this.state.format == 'json') {\n                    response = new Blob([JSON.stringify(res.data)], { type: 'application/json' });\n                    console.log(response);\n                    let url = window.URL.createObjectURL(response);\n                    let a = document.createElement('a');\n                    a.href = url;\n                    a.download = 'orders.json';\n                    a.click();\n                }\n                else if (this.state.format == 'excel') {\n                    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n                        const fileExtension = 'orders.xlsx';\n                        const ws = XLSX.utils.json_to_sheet(res.data);\n                        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n                        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n                        const data = new Blob([excelBuffer], {type: fileType});\n                        FileSaver.saveAs(data, fileExtension);\n\n                }\n\n                else if (this.state.format == 'csv') {\n                    res.data.map((el) => { return { ...el, address: el.address.text, userName:el.userId.name, userPhone:el.userId.phoneNumber } })\n                    const filename = 'orders',\n                        fields = {\n                            \"_id\": \"Index\",\n                            \"userName\": \"Name\",\n                            \"userPhone\": \"Phone\",\n                            \"status\": \"status\",\n                            \"image\": \"Image\",\n                            \"sum\": \"Price\",\n                            \"date\": \"date\",\n                            \"address\": \"Address\"\n\n                        },\n                        data = res.data\n                    const { saveAsCsv } = useJsonToCsv();\n                    saveAsCsv({ data, fields, filename })\n                }\n\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            })\n    }\n\n\n    onSearch = () => {\n        this.setState({ loading: true });\n\n        axios.post(backendUrl + '/admin/order/search', {\n            name: this.state.searchArea.fio,\n            shop: this.state.searchArea.shop\n        }, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                this.setState({\n                    searchMode: true,\n                    orders: res.data\n                });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true });\n            })\n            .finally(() => {\n                this.setState({ loading: false });\n            })\n    }\n\n    onSelectOrder = (id) => {\n        this.props.history.push(`/orders/edit/${id}`);\n    }\n    uploadModalTrue = () => {\n        this.setState({ modalupload: true })\n    }\n\n    render() {\n        console.log(this.state);\n        const { classes } = this.props;\n\n        const modalForSuccessAddContent = (\n            <>\n                <p style={{ textAlign: 'center' }}>{'Вы успешно добавили новый заказ'}</p>\n            </>\n        );\n        const modalForUpload = (\n            <>\n                <div>\n                    <TextField\n                        id=\"standard-select-currency\"\n                        select\n                        label=\"Select\"\n                        value={this.state.format}\n                        onChange={(e) => {\n                            this.setState({\n                                format: e.target.value\n                            })\n                        }}\n                        helperText=\"Please select your format\"\n                    >\n                        {formats.map((option) => (\n                            <option key={option.label} value={option.value}>\n                                {option.label}\n                            </option>\n                        ))}\n                    </TextField>\n                    <Button\n                        onClick={() => { this.onDownload() }}\n                        variant=\"contained\"\n                    >\n                        Выгрузить\n                </Button>\n                </div>\n            </>\n        )\n\n        const modalForSuccessChanged = (\n            <>\n                <p style={{ textAlign: 'center' }}>{'Вы успешно изменили заказ'}</p>\n            </>\n        )\n\n        return (\n            <>\n                <div className=\"orders-list__content-area\">\n                    {this.state.loading && <CircularProgress />}\n\n                    {this.state.error && !this.state.loading && <ErrorComponent />}\n\n                    {!this.state.error && !this.state.loading &&\n                        (\n                            <>\n                                <Modal\n                                    show={this.state.modalupload}\n                                    modalClosed={() => {\n                                        this.setState({ modalupload: false });\n                                        this.props.history.push('/orders/all');\n                                    }}>\n                                    {modalForUpload}\n                                </Modal>\n                                <Modal\n                                    show={this.state.modalForSuccessAdd}\n                                    modalClosed={this.onModalForSuccessAddClosed}>\n                                    {modalForSuccessAddContent}\n                                </Modal>\n                                <Modal\n                                    show={this.state.modalForSuccessChange}\n                                    modalClosed={this.onModalForSuccessChange}>\n                                    {modalForSuccessChanged}\n                                </Modal>\n                                <div className=\"orders-list__content-area__controls\">\n                                    <div className=\"orders-list__content-area__controls__top\">\n                                        <h1>Заказы</h1>\n                                        <NavLink to=\"/orders/create\">\n                                            <Button\n                                                onClick={() => this.props.history.push('/orders/create')}\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                startIcon={<AddIcon />}>\n                                                {'Создать новый заказ'}\n                                            </Button>\n                                        </NavLink>\n                                    </div>\n                                    <div className=\"orders-list__content-area__controls__search\">\n                                        <div className=\"orders-list__content-area__controls__search__inputs\">\n                                            <span className=\"orders-list__content-area__controls__search__inputs__item\">\n                                                <TextField\n                                                    onChange={(e) => this.setState((prevState) => ({\n                                                        searchArea: {\n                                                            ...prevState.searchArea,\n                                                            shop: e.target.value\n                                                        }\n                                                    }))}\n                                                    className={classes.input}\n                                                    label=\"Shop\"\n                                                    variant=\"outlined\"\n                                                />\n                                            </span>\n                                            <span className=\"orders-list__content-area__controls__search__inputs__item\">\n                                                <TextField\n                                                    onChange={(e) => this.setState((prevState) => ({\n                                                        searchArea: {\n                                                            ...prevState.searchArea,\n                                                            fio: e.target.value\n                                                        }\n                                                    }))}\n                                                    className={classes.input}\n                                                    label=\"ФИО\"\n                                                    variant=\"outlined\"\n                                                />\n                                            </span>\n                                            <Button\n                                                onClick={this.onSearch}\n                                                variant=\"contained\"\n                                                className={classes.button}>\n                                                {'Поиск'}\n                                            </Button>\n                                            {this.state.searchMode &&\n                                                <Button\n                                                    onClick={() => window.location.reload()}\n                                                    className={classes.cancelButton}\n                                                    variant=\"contained\"\n                                                    color=\"secondary\">\n                                                    {'Отменить'}\n                                                </Button>}\n                                        </div>\n                                        <div>\n                                            <Button\n                                                color=\"primary\"\n                                                variant=\"contained\"\n                                                style={{\n                                                    textTransform: 'capitalize',\n                                                    fontSize: '12px'\n                                                }}\n                                            >\n                                                {'выгрузить все заказы'}\n                                            </Button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <Paper elevation={2} className={classes.paper}>\n                                    <Table className={classes.table} size=\"medium\" aria-label=\"a dense table\">\n                                        <TableHead>\n                                            <TableRow>\n                                                {headCells.map(headCell => (\n                                                    <TableCell\n                                                        className={classes.tableCellStyle}\n                                                        align=\"center\"\n                                                        key={headCell.id}\n                                                        style={{ width: headCell.width }}\n                                                    >\n                                                        {headCell.label}\n                                                    </TableCell>\n                                                ))}\n                                            </TableRow>\n                                        </TableHead>\n                                        <TableBody>\n                                            {this.state.orders\n                                                .slice(\n                                                    this.state.page * this.state.rowsPerPage,\n                                                    this.state.page * this.state.rowsPerPage\n                                                    + this.state.rowsPerPage).map((ordy) => (\n                                                        <TableRow\n                                                            key={ordy._id}\n                                                            style={{ cursor: 'pointer' }}\n                                                            onClick={() => this.onSelectOrder(ordy._id)}\n                                                        >\n                                                            <TableCell component=\"th\" scope=\"row\" align=\"center\">\n                                                                {ordy.shop.name}\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                {new Date(ordy.date).toLocaleDateString() + \" \" + new Date(ordy.date).toLocaleTimeString()}\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                {ordy.items.map((el) =>\n                                                                    <li style={{ lineHeight: 2 }}>\n                                                                        {\n                                                                        (el.product ? el.product.name_ru : \"noname\") + \"  ---  \"\n                                                                        }\n                                                                        {\n                                                                        (el.product ? el.product.price : '0') + '₴, '\n                                                                        }\n                                                                        {\n                                                                        (el.product ? el.quantity : '0') + ' шт.' || \"0 шт.\"\n                                                                        }\n                                                                    </li>\n                                                                )\n                                                                }\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                <Status\n                                                                    status={ordy.status}\n                                                                />\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                {ordy.sum + ' ₴'}\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                <div style={{\n                                                                    whiteSpace: 'pre-line',\n                                                                    fontSize: '13px'\n                                                                }}\n                                                                >\n                                                                    {ordy.address.text}\n                                                                </div>\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                {ordy.delivery.status}\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                {ordy.oplata.type === 'cash' ?\n                                                                    'Наличные' : 'Банковской картой'}\n                                                            </TableCell>\n                                                            <TableCell align=\"center\">\n                                                                {ordy.oplata.status === 'not-paid' ?\n                                                                    <CloseIcon\n                                                                        style={{\n                                                                            color: 'brown'\n                                                                        }}\n                                                                    /> :\n                                                                    <DoneIcon\n                                                                        style={{\n                                                                            color: 'forestgreen'\n                                                                        }}\n                                                                    />\n                                                                }\n                                                            </TableCell>\n                                                        </TableRow>\n                                                    ))}\n                                        </TableBody>\n                                    </Table>\n                                    <TablePagination\n                                        className={classes.paginator}\n                                        rowsPerPageOptions={[5, 10, 25]}\n                                        component=\"div\"\n                                        count={this.state.orders.length}\n                                        rowsPerPage={this.state.rowsPerPage}\n                                        page={this.state.page}\n                                        onChangePage={this.handleChangePage}\n                                        onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                                        labelRowsPerPage={'Количество полей на странице:'}\n                                    />\n                                    <div style={{ float: 'left', alignSelf: 'flex-start', marginTop: \"-3.5%\" }}>\n                                        <Button\n                                            onClick={this.uploadModalTrue} variant=\"contained\"\n                                        >\n                                            Выгрузить информацию\n                                </Button>\n                                        {/* <a href=\"\">Загрузить информацию</a> */}\n                                    </div>\n                                </Paper>\n                            </>\n                        )}\n                </div>\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(OrdersList));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport { connect } from 'react-redux';\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\nimport AddGood from '../CreateOrder/AddGood/AddGood';\r\n\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nconst allStatuses = [\r\n    {\r\n       name: 'Распечатан чек',\r\n       id: 'check'\r\n    },\r\n    {\r\n        name: 'Недозвон',\r\n        id: 'no-call'\r\n    },\r\n    {\r\n        name: 'Новый',\r\n        id: 'new'\r\n    },\r\n    {\r\n        name: 'В пути',\r\n        id: 'send-to-delivery'\r\n    },\r\n    {\r\n        name: 'Доставлен',\r\n        id: 'complete'\r\n    },\r\n    {\r\n        name: 'Готовится',\r\n        id: 'send-to-assembling'\r\n    },\r\n    {\r\n        name: 'Доставляется',\r\n        id: 'delivering'\r\n    },\r\n    {\r\n        name: 'Подтвержденный',\r\n        id: 'client-confirmed'\r\n    },\r\n    {\r\n        name: 'Самовывоз',\r\n        id: 'samovivoz'\r\n    },\r\n    {\r\n        name: 'Отменен',\r\n        id: 'cancel-other'\r\n    },\r\n    {\r\n        name: 'Оплачен',\r\n        id: 'prepayed'\r\n    },\r\n    {\r\n        name: 'Ожидает курьера',\r\n        id: 'assembling'\r\n    }\r\n]\r\n\r\nclass UpdateOrder extends React.Component {\r\n\r\n\r\n    state = {\r\n        loading: false,\r\n        error: false,\r\n        addMode: false,\r\n        shops: [],\r\n        categories: [],\r\n        form: {\r\n            city: '',\r\n            name: '',\r\n            phone: '',\r\n            address: '',\r\n\r\n            deliveryType: 'Доставка курьером',\r\n            paymentType: 'Наличные',\r\n            paymentStatus: 'Не оплачен',\r\n\r\n            orderStatus: '',\r\n\r\n            cutlery: 0,\r\n            payBack: 0,\r\n            comment: ''\r\n        },\r\n        currentGoods: [],\r\n        bonus: 0,\r\n        orderId: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.setState({ loading: true });\r\n\r\n        // get shops\r\n        axios.get(backendUrl + '/admin/shop/', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            this.setState({\r\n                shops: res.data,\r\n                error: false,\r\n                form: {\r\n                    ...this.state.form,\r\n                    city: res.data[0].name\r\n                }\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: true, loading : false });\r\n        });\r\n\r\n\r\n        //get categories\r\n        axios.get(backendUrl + '/admin/product/categories', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({\r\n                categories: res.data.message,\r\n                error: false\r\n            });\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: true, loading : false });\r\n        });\r\n\r\n        // get order by id\r\n        const orderId = this.props.match.params.id;\r\n        this.setState({ orderId: orderId });\r\n        console.log(orderId);\r\n        axios.get(backendUrl + `/admin/order/${orderId}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n\r\n            const orderName = allStatuses.filter(el => el.id === res.data.order.status)[0].name;\r\n\r\n            this.setState({\r\n                loading: false,\r\n                error: false,\r\n                form: {\r\n                    ...this.state.form,\r\n                    city: res.data.order.address.city,\r\n                    name: res.data.order.userId.name,\r\n                    phone: res.data.order.userId.phoneNumber,\r\n                    address: res.data.order.address.text,\r\n\r\n                    deliveryType: res.data.order.delivery.status === 'courier' ?\r\n                    'Доставка курьером' : 'Самовывоз',\r\n                    paymentType: res.data.order.oplata.type === 'cash' ? \r\n                    'Наличные' : 'Банковской картой',\r\n                    paymentStatus: res.data.order.oplata.status === 'not-paid' ?\r\n                    'Не оплачен' : 'Оплачен',\r\n\r\n                    orderStatus: orderName,\r\n\r\n                    cutlery: res.data.order.cutlery,\r\n                    payBack: res.data.order.sdachaS,\r\n                    comment: res.data.order.comment\r\n                },\r\n                currentGoods: res.data.order.items.map(el => ({\r\n                    ...el.product,\r\n                    quantity: el.quantity\r\n                })),\r\n                bonus: res.data.order.bonus\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({\r\n                error: true,\r\n                loading: false\r\n            })\r\n        })\r\n    }\r\n\r\n    onSelectOption = (e, id) => {\r\n        this.setState({\r\n            form: {\r\n                ...this.state.form,\r\n                [id]: e.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    onChangeInput = (e, id) => {\r\n        const updatedForm = {\r\n            ...this.state.form\r\n        };\r\n        updatedForm[id] = e.target.value;\r\n\r\n        this.setState({ form: updatedForm });\r\n    }\r\n\r\n    onAddGood = (product) => {\r\n        this.setState({addMode: false});\r\n\r\n        let updatedCurrentGoods = [ ...this.state.currentGoods ];\r\n        const goodIsExist = updatedCurrentGoods.filter(el => el._id === product._id);\r\n        if (goodIsExist[0]) {\r\n            updatedCurrentGoods = updatedCurrentGoods.map(el => {\r\n                if (el._id === product._id) {\r\n                    return {\r\n                        ...el,\r\n                        quantity: el.quantity + product.quantity\r\n                    }\r\n                } else return el;\r\n            })\r\n        } else {\r\n            updatedCurrentGoods.push(product);\r\n        }\r\n\r\n        this.setState({currentGoods: updatedCurrentGoods});\r\n\r\n    }\r\n\r\n    onAddQuantity = (id) => {\r\n        let newFindedGoods = [ ...this.state.currentGoods ];\r\n        newFindedGoods = newFindedGoods.map(el => {\r\n            if (el._id === id) {\r\n                return {\r\n                ...el,\r\n                quantity: el.quantity + 1\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            currentGoods: newFindedGoods\r\n        });\r\n    }\r\n\r\n    onMinusQuantity = (id) => {\r\n        let newFindedGoods = [ ...this.state.currentGoods ];\r\n        newFindedGoods = newFindedGoods.map(el => {\r\n            if (el._id === id) {\r\n                return {\r\n                ...el,\r\n                quantity: el.quantity === 1 ? 1 : el.quantity - 1\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            currentGoods: newFindedGoods\r\n        });\r\n    }\r\n\r\n    onDeleteGood = (id) => {\r\n        const newGoods = [ ...this.state.currentGoods ].filter(el => el._id !== id);\r\n        this.setState({\r\n            currentGoods: newGoods\r\n        });\r\n    }\r\n\r\n    onUpdateOrder = () => {\r\n        this.setState({ loading: true });\r\n\r\n        let searchCity;\r\n        if (this.state.form.city === 'Kharkov') {\r\n            searchCity = 'Kh'\r\n        } else if (this.state.form.city === 'Zaporijja') {\r\n            searchCity = 'Zp'\r\n        } else {\r\n            searchCity = 'Dp'\r\n        }\r\n        const shop = [ ...this.state.shops ].filter(el => el.name === searchCity);\r\n        const shopId = shop[0]._id;\r\n\r\n        const allGoods = [ ...this.state.currentGoods ].map(el => ({\r\n            product: el._id,\r\n            quantity: el.quantity\r\n        }));\r\n\r\n        const statusName = allStatuses.filter(el => el.name === this.state.form.orderStatus)[0].id;\r\n\r\n        axios.put(backendUrl + `/admin/order/${this.state.orderId}`, {\r\n            status: statusName,\r\n            shop: shopId,\r\n            name: this.state.form.name,\r\n            phone: this.state.form.phone,\r\n            cutlery: this.state.form.cutlery,\r\n            comment: this.state.form.comment,\r\n            sdachaS: this.state.form.payBack,\r\n            delivery: {\r\n                deliver: 'roflik',\r\n                status: this.state.form.deliveryType === 'Доставка курьером' ? 'courier' : 'self-delivery'\r\n            },\r\n            oplata: {\r\n                type: this.state.form.paymentType === 'Наличные' ? 'cash' : 'bank-card',\r\n                status: this.state.form.paymentStatus === 'Не оплачен' ? 'not-paid': 'paid'\r\n            },\r\n            address: {\r\n                text: this.state.form.address,\r\n                city: this.state.form.city\r\n            },\r\n            items: allGoods\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.props.history.push('/orders');\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ error: true, loading: false });\r\n        });\r\n    }\r\n\r\n    onDeleteOrder = () => {\r\n        this.setState({loading: false});\r\n\r\n        axios.delete(backendUrl + `/admin/order/${this.state.orderId}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            this.setState({error: false});\r\n            this.props.history.push('/orders');\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error: true,\r\n                loading: false\r\n            });\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(this.state);\r\n\r\n        const totalSum = \r\n        this.state.currentGoods.reduce(\r\n            (acc, val) => acc + Number((val.price * val.quantity * (100 - val.percent)/100).toFixed(0)), \r\n        0);\r\n\r\n        const formIsValid = this.state.currentGoods[0] && this.state.form.name !== '' && this.state.form.phone !== '' && this.state.form.street !== '';\r\n\r\n        return (\r\n            <div className=\"create-order\">\r\n                { this.state.loading && !this.state.error && <CircularProgress /> }\r\n                { this.state.error && !this.state.loading && <ErrorComponent /> }\r\n                { this.state.shops[0] && this.state.categories[0] && !this.state.loading && !this.state.error &&\r\n                <>  \r\n                    <AddGood \r\n                        shops={this.state.shops}\r\n                        categories={this.state.categories}\r\n                        onAddGood={this.onAddGood}\r\n                        show={this.state.addMode}\r\n                        modalClosed={()=>this.setState({addMode: false})}\r\n                    />\r\n                    <h3>{'Изменить заказ'}</h3>\r\n                    {/* shop */}\r\n                    <div className=\"create-order__сomposition\">\r\n\r\n\r\n                        <div className='create-order__сomposition_header'>\r\n                            <h3>{'Состав заказа'}</h3>\r\n                            <Button\r\n                            onClick={()=>this.setState({addMode: true})}\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            style={{\r\n                                fontSize: '12px',\r\n                                textTransform: 'capitalize'\r\n                            }}>\r\n                                {'Добавить товар'}\r\n                            </Button>\r\n                        </div>\r\n\r\n                        <div className=\"create-order__сomposition_body\">\r\n                         {!this.state.currentGoods[0] && \r\n                         <p style={{\r\n                             textAlign: 'center'\r\n                         }}>\r\n                             {'Добавьте хотя бы один товар...'}\r\n                         </p> \r\n                         }   \r\n                         {this.state.currentGoods[0] && \r\n                            <ul>\r\n                                <li style={{\r\n                                        width: '100%',\r\n                                        borderBottom: '1px solid #aaa',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'row',\r\n                                        padding: '10px 0'\r\n                                }}>\r\n                                        <div className=\"ul-li-good\">\r\n                                            {'Товар'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            {'Цена'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            {'Количество'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-add\">\r\n                                            {'Удалить'}\r\n                                        </div>\r\n                                </li>\r\n                            {this.state.currentGoods.map(el => (\r\n                                    <li style={{\r\n                                        width: '100%',\r\n                                        borderBottom: '1px solid #aaa',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'row',\r\n                                        padding: '10px 0'\r\n                                    }}>\r\n                                        <div className=\"ul-li-good\">\r\n                                            <img \r\n                                            style={{maxWidth: '50px', maxHeight: '50px'}}\r\n                                            src={backendUrl + '/' + el.image}\r\n                                            />\r\n                                            <span style={{marginLeft:'15px'}}> \r\n                                                {el.name_ru}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            <span>{(el.price * (100 - el.percent)/100).toFixed(0)}{' грн'}</span>\r\n                                            {el.percent !== 0 && \r\n                                                <span style={{textDecoration: 'line-through', marginLeft: '5px'}}>\r\n                                                    {el.price}{' грн'}\r\n                                                </span>\r\n                                            }\r\n                                        </div>\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            <IconButton \r\n                                            onClick={() => this.onMinusQuantity(el._id)}\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <RemoveIcon fontSize=\"small\" />\r\n                                            </IconButton>\r\n                                            {el.quantity}{' шт.'}\r\n                                            <IconButton \r\n                                            onClick={() => this.onAddQuantity(el._id)}\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <AddIcon fontSize=\"small\" />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                        <div className=\"ul-li-add\">\r\n                                        <IconButton \r\n                                            onClick={() => this.onDeleteGood(el._id) }\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <DeleteIcon\r\n                                                    style={{\r\n                                                        color: 'brown'\r\n                                                    }} \r\n                                                    fontSize=\"small\" \r\n                                                />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                         }\r\n                        </div>\r\n\r\n\r\n                        <div className=\"create-order__сomposition_footer\">\r\n                            <p>{`Стоимось товаров: ${totalSum} грн.`}</p>\r\n                            <p>{`Сумма скидки: ${this.state.bonus} грн.`}</p>\r\n                            <p>\r\n                                {'Итого: '}\r\n                                <span \r\n                                    style={{\r\n                                        fontWeight: 700\r\n                                    }}\r\n                                >\r\n                                    {`${totalSum - this.state.bonus} грн.`}\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                    <h4>{'Магазин'}</h4>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Магазин:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.city}\r\n                            onChange={(e) => this.onSelectOption(e, 'city')}\r\n                            SelectProps={{ native: true }}\r\n                            helperText=\"Выберите магазин\"\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {this.state.shops.map((el) => (\r\n                                <option key={el._id} value={el.name}>\r\n                                    {el.name}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Тип доставки:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.deliveryType}\r\n                            onChange={(e) => this.onSelectOption(e, 'deliveryType')}\r\n                            SelectProps={{ native: true }}\r\n                            helperText=\"Выберите тип доставки\"\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {['Доставка курьером', 'Самовывоз'].map((el) => (\r\n                                <option key={el} value={el}>\r\n                                    {el}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Тип оплаты:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.paymentType}\r\n                            onChange={(e) => this.onSelectOption(e, 'paymentType')}\r\n                            SelectProps={{ native: true }}\r\n                            helperText=\"Выберите тип оплаты\"\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {['Наличные', 'Банковской картой'].map((el) => (\r\n                                <option key={el} value={el}>\r\n                                    {el}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    {/* Статус оплаты */}\r\n                    <h4 style={{color: 'forestgreen', fontSize: '20px'}}>\r\n                        {'Статусы'}\r\n                    </h4>\r\n                    <div className=\"create-order_container\" style={{color: 'forestgreen'}}>\r\n                        <p>{'Выберите статус оплаты:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.paymentStatus}\r\n                            onChange={(e) => this.onSelectOption(e, 'paymentStatus')}\r\n                            SelectProps={{ native: true }}\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {['Оплачен', 'Не оплачен'].map((el) => (\r\n                                <option key={el} value={el}>\r\n                                    {el}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    <div className=\"create-order_container\" style={{color: 'forestgreen'}}>\r\n                        <p>{'Выберите статус заказа:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.orderStatus}\r\n                            onChange={(e) => this.onSelectOption(e, 'orderStatus')}\r\n                            SelectProps={{ native: true }}\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {allStatuses.map((el) => (\r\n                                <option key={el.id} value={el.name}>\r\n                                    {el.name}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    {/* Клиент */}\r\n                    <h4>{'Покупатель'}</h4>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Имя:'}</p>\r\n                        <input\r\n                        value={this.state.form.name}\r\n                        onChange={(e) => this.onChangeInput(e, 'name')}\r\n                        />\r\n                    </div>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Номер телефона:'}</p>\r\n                        <input\r\n                        value={this.state.form.phone}\r\n                        onChange={(e) => this.onChangeInput(e, 'phone')}\r\n                        />\r\n                    </div>\r\n                    {/* Адресс */}\r\n                    <h4>{'Адресс'}</h4>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Адресс:'}</p>\r\n                        <textarea\r\n                        style={{height: '200px'}}\r\n                        value={this.state.form.address}\r\n                        onChange={(e) => this.onChangeInput(e, 'address')}\r\n                        />\r\n                    </div>\r\n                        {/* Дополнительная информация про заказ */}\r\n                        <h4>{'Дополнительная информация про заказ'}</h4>\r\n                        {/* сдача с, приборы, комментарий к заказу */}\r\n                        <div className=\"create-order_container\">\r\n                            <p>{'Приборы:'}</p>\r\n                            <input \r\n                            value={this.state.form.cutlery}\r\n                            onChange={(e) => this.onChangeInput(e, 'cutlery')}\r\n                            type=\"number\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"create-order_container\">\r\n                            <p>{'Сдача с:'}</p>\r\n                            <input \r\n                            value={this.state.form.payBack}\r\n                            onChange={(e) => this.onChangeInput(e, 'payBack')}\r\n                            type=\"number\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"create-order_container\">\r\n                            <p>{'Комментарий покупателя:'}</p>\r\n                            <textarea\r\n                            value={this.state.form.comment}\r\n                            onChange={(e) => this.onChangeInput(e, 'comment')}\r\n                            />\r\n                        </div>\r\n                        <Button\r\n                        onClick={this.onUpdateOrder}\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        disabled={!formIsValid}\r\n                        style={{marginTop: '20px'}}>\r\n                            {'изменить заказ'}\r\n                        </Button>\r\n                        <Button\r\n                        onClick={this.onDeleteOrder}\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        style={{marginTop: '20px'}}>\r\n                            {'Удалить заказ'}\r\n                        </Button>\r\n                </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n})\r\n\r\nexport default connect(mapStateToProps)(UpdateOrder);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport { connect } from 'react-redux';\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\nimport AddGood from './AddGood/AddGood';\r\n\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport './createOrder.scss';\r\n\r\nclass CreateOrder extends React.Component {\r\n\r\n\r\n    state = {\r\n        loading: false,\r\n        error: false,\r\n        addMode: false,\r\n        shops: [],\r\n        categories: [],\r\n        form: {\r\n            city: '',\r\n            name: '',\r\n            phone: '',\r\n            street: '',\r\n            flat: '',\r\n            entrance: '',\r\n            floor: '',\r\n            intercom: '',\r\n\r\n            deliveryType: 'Доставка курьером',\r\n            paymentType: 'Наличные',\r\n            paymentStatus: 'Не оплачен',\r\n\r\n            cutlery: 0,\r\n            payBack: 0,\r\n            comment: ''\r\n        },\r\n        currentGoods: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this.setState({ loading: true });\r\n\r\n        // get shops\r\n        axios.get(backendUrl + '/admin/shop/', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            this.setState({\r\n                shops: res.data,\r\n                error: false,\r\n                form: {\r\n                    ...this.state.form,\r\n                    city: res.data[0].name\r\n                }\r\n            })\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: true, loading : false });\r\n        });\r\n\r\n\r\n        //get categories\r\n        axios.get(backendUrl + '/admin/product/categories', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({\r\n                categories: res.data.message,\r\n                loading: false,\r\n                error: false\r\n            });\r\n        })\r\n        .catch(err => {\r\n            this.setState({ error: true, loading : false });\r\n        })\r\n    }\r\n\r\n    onSelectOption = (e, id) => {\r\n        this.setState({\r\n            form: {\r\n                ...this.state.form,\r\n                [id]: e.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    onChangeInput = (e, id) => {\r\n        const updatedForm = {\r\n            ...this.state.form\r\n        };\r\n        updatedForm[id] = e.target.value;\r\n\r\n        this.setState({ form: updatedForm });\r\n    }\r\n\r\n    onAddGood = (product) => {\r\n        this.setState({addMode: false});\r\n\r\n        let updatedCurrentGoods = [ ...this.state.currentGoods ];\r\n        const goodIsExist = updatedCurrentGoods.filter(el => el._id === product._id);\r\n        if (goodIsExist[0]) {\r\n            updatedCurrentGoods = updatedCurrentGoods.map(el => {\r\n                if (el._id === product._id) {\r\n                    return {\r\n                        ...el,\r\n                        quantity: el.quantity + product.quantity\r\n                    }\r\n                } else return el;\r\n            })\r\n        } else {\r\n            updatedCurrentGoods.push(product);\r\n        }\r\n\r\n        this.setState({currentGoods: updatedCurrentGoods});\r\n\r\n    }\r\n\r\n    onAddQuantity = (id) => {\r\n        let newFindedGoods = [ ...this.state.currentGoods ];\r\n        newFindedGoods = newFindedGoods.map(el => {\r\n            if (el._id === id) {\r\n                return {\r\n                ...el,\r\n                quantity: el.quantity + 1\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            currentGoods: newFindedGoods\r\n        });\r\n    }\r\n\r\n    onMinusQuantity = (id) => {\r\n        let newFindedGoods = [ ...this.state.currentGoods ];\r\n        newFindedGoods = newFindedGoods.map(el => {\r\n            if (el._id === id) {\r\n                return {\r\n                ...el,\r\n                quantity: el.quantity === 1 ? 1 : el.quantity - 1\r\n                }\r\n            } else {\r\n                return el;\r\n            }\r\n        });\r\n        this.setState({\r\n            currentGoods: newFindedGoods\r\n        });\r\n    }\r\n\r\n    onDeleteGood = (id) => {\r\n        const newGoods = [ ...this.state.currentGoods ].filter(el => el._id !== id);\r\n        this.setState({\r\n            currentGoods: newGoods\r\n        });\r\n    }\r\n\r\n    onCreateOrder = () => {\r\n        this.setState({ loading: true });\r\n\r\n        const shop = [ ...this.state.shops ].filter(el => el.name === this.state.form.city);\r\n        const shopId = shop[0]._id;\r\n\r\n        const allGoods = [ ...this.state.currentGoods ].map(el => ({\r\n            product: el._id,\r\n            quantity: el.quantity\r\n        }));\r\n\r\n        axios.post(backendUrl + '/admin/order/add', {\r\n            status: 'new',\r\n            shop: shopId,\r\n            name: this.state.form.name,\r\n            phone: this.state.form.phone,\r\n            cutlery: this.state.form.cutlery,\r\n            comment: this.state.form.comment,\r\n            sdachaS: this.state.form.payBack,\r\n            delivery: {\r\n                deliver: 'roflik',\r\n                status: this.state.form.deliveryType === 'Доставка курьером' ? 'courier' : 'self-delivery'\r\n            },\r\n            oplata: {\r\n                type: this.state.form.paymentType === 'Наличные' ? 'cash' : 'bank-card',\r\n                status: this.state.form.paymentStatus === 'Не оплачен' ? 'not-paid': 'paid'\r\n            },\r\n            address: {\r\n                text: this.state.form.street + '\\n' + \r\n                      'кв/офис ' + this.state.form.flat + '\\n' +\r\n                      'подьезд: ' + this.state.form.entrance + '\\n' +\r\n                      'этаж: ' + this.state.form.floor + '\\n' +\r\n                      'домофон: ' + this.state.form.intercom,\r\n                city: this.state.form.city\r\n            },\r\n            items: allGoods\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state);\r\n        const totalSum = this.state.currentGoods.reduce((acc, val) => acc + val.price * val.quantity, 0);\r\n\r\n        const formIsValid = this.state.currentGoods[0] && this.state.form.name !== '' && this.state.form.phone !== '' && this.state.form.street !== '';\r\n\r\n        return (\r\n            <div className=\"create-order\">\r\n                { this.state.loading && !this.state.error && <CircularProgress /> }\r\n                { this.state.error && !this.state.loading && <ErrorComponent /> }\r\n                { this.state.shops[0] && this.state.categories[0] &&\r\n                <>  \r\n                    <AddGood \r\n                        shops={this.state.shops}\r\n                        categories={this.state.categories}\r\n                        onAddGood={this.onAddGood}\r\n                        show={this.state.addMode}\r\n                        modalClosed={()=>this.setState({addMode: false})}\r\n                    />\r\n                    <h3>{'Создать новый заказ'}</h3>\r\n                    {/* shop */}\r\n                    <div className=\"create-order__сomposition\">\r\n\r\n\r\n                        <div className='create-order__сomposition_header'>\r\n                            <h3>{'Состав заказа'}</h3>\r\n                            <Button\r\n                            onClick={()=>this.setState({addMode: true})}\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            style={{\r\n                                fontSize: '12px',\r\n                                textTransform: 'capitalize'\r\n                            }}>\r\n                                {'Добавить товар'}\r\n                            </Button>\r\n                        </div>\r\n\r\n                        <div className=\"create-order__сomposition_body\">\r\n                         {!this.state.currentGoods[0] && \r\n                         <p style={{\r\n                             textAlign: 'center'\r\n                         }}>\r\n                             {'Добавьте хотя бы один товар...'}\r\n                         </p> \r\n                         }   \r\n                         {this.state.currentGoods[0] && \r\n                            <ul>\r\n                                <li style={{\r\n                                        width: '100%',\r\n                                        borderBottom: '1px solid #aaa',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'row',\r\n                                        padding: '10px 0'\r\n                                }}>\r\n                                        <div className=\"ul-li-good\">\r\n                                            {'Товар'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            {'Цена'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            {'Количество'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-add\">\r\n                                            {'Удалить'}\r\n                                        </div>\r\n                                </li>\r\n                            {this.state.currentGoods.map(el => (\r\n                                    <li style={{\r\n                                        width: '100%',\r\n                                        borderBottom: '1px solid #aaa',\r\n                                        display: 'flex',\r\n                                        flexDirection: 'row',\r\n                                        padding: '10px 0'\r\n                                    }}>\r\n                                        <div className=\"ul-li-good\">\r\n                                            <img \r\n                                            style={{maxWidth: '50px', maxHeight: '50px'}}\r\n                                            src={backendUrl + '/' + el.image}\r\n                                            />\r\n                                            <span style={{marginLeft:'15px'}}> \r\n                                                {el.name_ru}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"ul-li-price\">\r\n                                            {el.price}{' грн'}\r\n                                        </div>\r\n                                        <div className=\"ul-li-quantity\">\r\n                                            <IconButton \r\n                                            onClick={() => this.onMinusQuantity(el._id)}\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <RemoveIcon fontSize=\"small\" />\r\n                                            </IconButton>\r\n                                            {el.quantity}{' шт.'}\r\n                                            <IconButton \r\n                                            onClick={() => this.onAddQuantity(el._id)}\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <AddIcon fontSize=\"small\" />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                        <div className=\"ul-li-add\">\r\n                                        <IconButton \r\n                                            onClick={() => this.onDeleteGood(el._id) }\r\n                                            aria-label=\"delete\"\r\n                                            >\r\n                                                <DeleteIcon\r\n                                                    style={{\r\n                                                        color: 'brown'\r\n                                                    }} \r\n                                                    fontSize=\"small\" \r\n                                                />\r\n                                            </IconButton>\r\n                                        </div>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                         }\r\n                        </div>\r\n\r\n\r\n                        <div className=\"create-order__сomposition_footer\">\r\n                            <p>{`Стоимось товаров: ${totalSum} грн.`}</p>\r\n                            <p>{'Сумма скидки: 0 грн.'}</p>\r\n                            <p>\r\n                                {'Итого: '}\r\n                                <span \r\n                                    style={{\r\n                                        fontWeight: 700\r\n                                    }}\r\n                                >\r\n                                    {`${totalSum} грн.`}\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                    <h4>{'Магазин'}</h4>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Магазин:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.city}\r\n                            onChange={(e) => this.onSelectOption(e, 'city')}\r\n                            SelectProps={{ native: true }}\r\n                            helperText=\"Выберите магазин\"\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {this.state.shops.map((el) => (\r\n                                <option key={el._id} value={el.name}>\r\n                                    {el.name}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Тип доставки:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.deliveryType}\r\n                            onChange={(e) => this.onSelectOption(e, 'deliveryType')}\r\n                            SelectProps={{ native: true }}\r\n                            helperText=\"Выберите тип доставки\"\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {['Доставка курьером', 'Самовывоз'].map((el) => (\r\n                                <option key={el} value={el}>\r\n                                    {el}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Тип оплаты:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.paymentType}\r\n                            onChange={(e) => this.onSelectOption(e, 'paymentType')}\r\n                            SelectProps={{ native: true }}\r\n                            helperText=\"Выберите тип оплаты\"\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {['Наличные', 'Банковской картой'].map((el) => (\r\n                                <option key={el} value={el}>\r\n                                    {el}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    {/* Статус оплаты */}\r\n                    <h4 style={{color: 'forestgreen', fontSize: '20px'}}>\r\n                        {'Статус оплаты'}\r\n                    </h4>\r\n                    <div className=\"create-order_container\" style={{color: 'forestgreen'}}>\r\n                        <p>{'Выберите статус оплаты:'}</p>\r\n                        <TextField\r\n                            select\r\n                            value={this.state.form.paymentStatus}\r\n                            onChange={(e) => this.onSelectOption(e, 'paymentStatus')}\r\n                            SelectProps={{ native: true }}\r\n                            style={{marginLeft: '30px'}}\r\n                        >\r\n                            {['Оплачен', 'Не оплачен'].map((el) => (\r\n                                <option key={el} value={el}>\r\n                                    {el}\r\n                                </option>\r\n                            ))}\r\n                        </TextField>\r\n                    </div>\r\n                    {/* Клиент */}\r\n                    <h4>{'Покупатель'}</h4>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Имя:'}</p>\r\n                        <input\r\n                        value={this.state.form.name}\r\n                        onChange={(e) => this.onChangeInput(e, 'name')}\r\n                        />\r\n                    </div>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Номер телефона:'}</p>\r\n                        <input\r\n                        value={this.state.form.phone}\r\n                        onChange={(e) => this.onChangeInput(e, 'phone')}\r\n                        />\r\n                    </div>\r\n                    {/* Адресс */}\r\n                    <h4>{'Адресс'}</h4>\r\n                    <div className=\"create-order_container\">\r\n                        <p>{'Адресс:'}</p>\r\n                        <input \r\n                        value={this.state.form.street}\r\n                        onChange={(e) => this.onChangeInput(e, 'street')}\r\n                        />\r\n                    </div>\r\n                    <div className=\"create-order_container__address-inputs\">\r\n                            <div className=\"create-order_container__address-inputs_item\">\r\n                                <p>{'Кв/офис:'}</p>\r\n                                <input \r\n                                value={this.state.form.flat}\r\n                                onChange={(e) => this.onChangeInput(e, 'flat')}\r\n                                />\r\n                            </div>\r\n                            <div className=\"create-order_container__address-inputs_item\">\r\n                                <p>{'Подьезд:'}</p>\r\n                                <input \r\n                                value={this.state.form.entrance}\r\n                                onChange={(e) => this.onChangeInput(e, 'entrance')}\r\n                                />\r\n                            </div>\r\n                            <div className=\"create-order_container__address-inputs_item\">\r\n                                <p>{'Этаж:'}</p>\r\n                                <input \r\n                                value={this.state.form.floor}\r\n                                onChange={(e) => this.onChangeInput(e, 'floor')}\r\n                                />\r\n                            </div>\r\n                            <div className=\"create-order_container__address-inputs_item\">\r\n                                <p>{'Домофон:'}</p>\r\n                                <input \r\n                                value={this.state.form.intercom}\r\n                                onChange={(e) => this.onChangeInput(e, 'intercom')}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        {/* Дополнительная информация про заказ */}\r\n                        <h4>{'Дополнительная информация про заказ'}</h4>\r\n                        {/* сдача с, приборы, комментарий к заказу */}\r\n                        <div className=\"create-order_container\">\r\n                            <p>{'Приборы:'}</p>\r\n                            <input \r\n                            value={this.state.form.cutlery}\r\n                            onChange={(e) => this.onChangeInput(e, 'cutlery')}\r\n                            type=\"number\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"create-order_container\">\r\n                            <p>{'Сдача с:'}</p>\r\n                            <input \r\n                            value={this.state.form.payBack}\r\n                            onChange={(e) => this.onChangeInput(e, 'payBack')}\r\n                            type=\"number\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"create-order_container\">\r\n                            <p>{'Комментарий покупателя:'}</p>\r\n                            <textarea\r\n                            value={this.state.form.comment}\r\n                            onChange={(e) => this.onChangeInput(e, 'comment')}\r\n                            />\r\n                        </div>\r\n                        <Button\r\n                        onClick={this.onCreateOrder}\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        disabled={!formIsValid}\r\n                        style={{marginTop: '20px'}}>\r\n                            {'создать заказ'}\r\n                        </Button>\r\n                </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n})\r\n\r\nexport default connect(mapStateToProps)(CreateOrder);","import React from 'react';\nimport { Switch, Route, NavLink, Redirect } from 'react-router-dom';\n\nimport OrderList from './components/OrderList/orderList';\nimport UpdateOrder from './components/UpdateOrder/updateOrder';\nimport CreateOrder from './components/CreateOrder/CreateOrder';\n\nimport './order.scss';\n\nclass Orders extends React.Component {\n    render() {\n        const routes = (\n            <Switch>\n                <Route path=\"/orders/all\" component={OrderList} />\n                <Route exact path=\"/orders/edit/:id\" component={UpdateOrder} />\n                <Route  path=\"/orders/create\" component={CreateOrder} />\n                <Redirect from=\"/orders\" to=\"/orders/all\" />\n            </Switch>\n        );\n\n        return (\n            <>\n                <div className=\"all-admins_header\">\n                        <NavLink \n                        to='/orders/all'\n                        activeClassName=\"all-admins_header__item-active\"\n                        className='all-admins_header__item'>\n                            {'Заказы'}\n                        </NavLink>\n                </div>\n                {routes}\n            </>\n        );\n    }\n}\n\nexport default Orders;","export const links = [\r\n    {\r\n        to: '/editor/shares/all',\r\n        label: 'Акции'\r\n    },\r\n    {\r\n        to: '/editor/shares/add-share',\r\n        label: 'Добавить акцию'\r\n    }\r\n]","import React from 'react';\nimport axios from 'axios';\nimport { backendUrl } from '../../../../../../config/config';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ErrorComponent from '../../../../../Errors/Error/Error';\nimport { checkValidaty } from '../../../../../../tools/checkValidaty';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport './addShare.scss';\n\nconst inputStyles = {\n    width: '1123px',\n    minHeight: '25px',\n    height: '25px',\n    border: '1px solid #d1d6da',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n};\n\nconst invalidInputStyles = {\n    width: '1123px',\n    minHeight: '25px',\n    height: '25px',\n    border: '2px solid salmon',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n}\n\nclass AddShare extends React.Component {\n\n    state = {\n        form: {\n            shareHeader: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                    maxLength: 100\n                }\n            },\n            alt: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                }\n            },\n            shareBody: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                    maxLength: 400\n                }\n            }\n        },\n        file: null,\n        imageUrl: null,\n        loading: false,\n        error: false\n    }\n\n    onChangeInputHandler = (event, id) => {\n        const updatedForm = {\n            ...this.state.form\n        };\n        updatedForm[id].value = event.target.value;\n        updatedForm[id].touched = true;\n        updatedForm[id].valid = checkValidaty(event.target.value, updatedForm[id].validation);\n        if (event.key === 'Enter') {\n            console.log('do validate');\n          }\n\n        this.setState({ form: updatedForm });\n    }\n\n    onSelectImageHandler = (event) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            this.setState({\n                file: file,\n                imageUrl: reader.result\n            })\n        };\n\n        const file = event.target.files[0];\n        if (file) { reader.readAsDataURL(file); }\n        else { this.setState({ file: null, imageUrl: null }) }\n    }\n\n    onCreateButtonPressed = () => {\n        this.setState({ loading: true });\n\n        let formData = new FormData();\n        formData.append('title', this.state.form.shareHeader.value);\n        formData.append('description', this.state.form.shareBody.value);\n        formData.append('alt', this.state.form.alt.value);\n        formData.append('image', this.state.file);\n\n        axios.post(backendUrl + '/admin/action/add', formData, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n        .then(res => {\n            console.log(res);\n            this.props.history.push({\n                pathname: '/editor/shares/all',\n                state: { successAdd: true  }\n            });\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            this.setState({ error: true, loading: false });\n        });\n    }\n\n    render() {\n\n        return (\n            <>\n            { this.state.error && <ErrorComponent/> }\n            {\n            this.state.loading && !this.state.error ? \n            <CircularProgress />\n            :\n            !this.state.loading && !this.state.error ?\n            <div\n            style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center'\n            }}>  \n                <h1>{'Cоздать новую акцию'}</h1>\n                <p>{'Введите заголовок акции( максимум 100 символов):'}</p>\n                <textarea\n                value={this.state.form.shareHeader.value}\n                onChange={(e) => this.onChangeInputHandler(e, 'shareHeader') }\n                style={\n                    !this.state.form.shareHeader.valid && this.state.form.shareHeader.touched ?  invalidInputStyles : \n                    inputStyles\n                } \n                />\n                <p>{'Введите текст акции( максимум 400 символов):'}</p>\n                <textarea\n                value={this.state.form.shareBody.value}\n                onChange={(e) => this.onChangeInputHandler(e, 'shareBody') }\n                style={\n                    !this.state.form.shareHeader.valid && this.state.form.shareHeader.touched ?  invalidInputStyles : \n                    inputStyles\n                } \n                />\n                <p>{'alt атрибут к картинке:'}</p>\n                <textarea\n                value={this.state.form.alt.value}\n                onChange={(e) => this.onChangeInputHandler(e, 'alt') }\n                style={\n                    !this.state.form.shareHeader.valid && this.state.form.shareHeader.touched ?  invalidInputStyles : \n                    inputStyles\n                } \n                />\n                <p>{'Загрузите картинку:'}</p>\n                <input \n                    onChange={(event) => this.onSelectImageHandler(event)}\n                    type=\"file\"\n                    accept=\"image/*\"\n                />\n                {this.state.file && this.state.form.shareBody.valid &&  this.state.form.shareHeader.valid && this.state.form.alt.valid && \n                <div>\n                    <h3>{'Как акция будет выглядеть на сайте:'}</h3>\n                    <div className=\"masonry-layout__panel\">\n                            <div className=\"masonry-layout__panel__header\">\n                                <img src={this.state.imageUrl} alt={this.state.form.alt.value}/>\n                            </div>\n                            <div className=\"masonry-layout__panel__content\">\n                                <h4>{this.state.form.shareHeader.value}</h4>\n                                <p>{this.state.form.shareBody.value}</p>\n                            </div>\n                    </div>\n                </div>}\n                <Button\n                style={{\n                    marginTop: '5px',\n                    marginBottom: '25px'\n                }}\n                color=\"primary\"\n                variant=\"contained\"\n                disabled={\n                    !this.state.file || !this.state.form.shareBody.valid || !this.state.form.shareHeader.valid \n                }\n                onClick={this.onCreateButtonPressed}>\n                    {'Создать'}\n                </Button>\n            </div> : null\n            }\n            </>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default withRouter(connect(mapStateToProps)(AddShare));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../../../config/config';\r\nimport { connect } from 'react-redux';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Button from '@material-ui/core/Button';\r\nimport ErrorComponent from '../../../../../Errors/Error/Error';\r\nimport Modal from '../../../../../UI/Modal/Modal';    \r\n\r\nimport './shares.scss';\r\n\r\nclass AddShare extends React.Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        error: false,\r\n        shares: [],\r\n        modalForSuccessAdd: false,\r\n        deleteMode: false,\r\n        deleteShare: []\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        axios.get(backendUrl + '/admin/action/get', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({ shares: res.data });\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n        .finally(() => {\r\n            this.setState({ loading: false });\r\n            if (this.props.location.state && this.props.location.state.successAdd) {\r\n                this.setState({ modalForSuccessAdd : true });\r\n                this.props.location.state = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    onDeleteShareHandler = (id) => {\r\n        this.setState({ loading: true, deleteMode: false });\r\n\r\n        axios.delete(backendUrl + `/admin/action/${id}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            window.location.reload();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n\r\n    render() {\r\n\r\n        const modalForSuccessAddedContent = (\r\n            <>\r\n                <p style={{textAlign: 'center'}}>\r\n                    {'Вы успешно добавили акцию'}\r\n                </p>\r\n            </>\r\n        );\r\n\r\n        const modalForDeleteMode = (\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center'}} >\r\n                <p style={{textAlign: 'center', margin: 0}}>\r\n                    {'Вы действительно хотите удалить акцию'}\r\n                </p>\r\n                <p style={{textAlign: 'center', fontWeight: 700, margin: 0 }}>\r\n                    {this.state.deleteShare[1]}\r\n                </p>\r\n                <Button \r\n                onClick={ () => this.onDeleteShareHandler(this.state.deleteShare[0]) }\r\n                style={{ marginTop: '20px' }}\r\n                color=\"primary\"\r\n                variant=\"outlined\">\r\n                    {'Да'}\r\n                </Button>\r\n            </div>\r\n        )\r\n\r\n        console.log(this.props);\r\n        console.log(this.state);\r\n\r\n        return (\r\n            <>  \r\n            <Modal\r\n            show={this.state.deleteMode}\r\n            modalClosed={() => this.setState({\r\n                deleteMode: false,\r\n                deleteShare: []\r\n            })}>\r\n                {modalForDeleteMode}\r\n            </Modal>\r\n            <Modal\r\n            show={this.state.modalForSuccessAdd}\r\n            modalClosed={() => {\r\n                this.setState({ modalForSuccessAdd: false });\r\n                this.props.history.push('/editor/shares/all');\r\n            }}\r\n            >\r\n                {modalForSuccessAddedContent}\r\n            </Modal>\r\n            {this.state.loading && !this.state.error && <CircularProgress />}\r\n            {this.state.error && !this.state.loading && <ErrorComponent />}\r\n            {!this.state.error && !this.state.loading &&\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                <h1>{'Акции'}</h1>\r\n                <div className=\"masonry-layout\">\r\n                    {\r\n                        this.state.shares[0] && this.state.shares.map(action =>\r\n                            <div key={action._id} style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end'}}>\r\n                            <IconButton\r\n                            onClick={\r\n                                () => this.setState({ deleteMode: true, deleteShare: [ action._id, action.title] })\r\n                            } \r\n                            style={{padding: '5px'}}>\r\n                                <DeleteIcon style={{ color: '#890000'}}/>\r\n                            </IconButton>\r\n                            <div className=\"masonry-layout__panel\" key={action._id}>\r\n                                <div className=\"masonry-layout__panel__header\">\r\n                                    <img src={backendUrl + `/${action.image}`} alt={action.alt}/>\r\n                                </div>\r\n                                <div className=\"masonry-layout__panel__content\">\r\n                                    <h4>{action.title}</h4>\r\n                                    <p>{action.description}</p>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    {!this.state.shares[0] && <p>{'Пока что акций нет, для начала добавьте одну'}</p>}\r\n                </div>\r\n            </div>\r\n            }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddShare);","import React from 'react';\r\nimport { NavLink, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { links } from './list';\r\n\r\nimport AddShare from './components/AddShare/AddShare';\r\nimport AllShares from './components/Shares/Shares';\r\n\r\nclass Shares extends React.Component {\r\n\r\n    render() {\r\n\r\n        const routes = (\r\n            <Switch>\r\n                <Route path=\"/editor/shares/all\" component={AllShares} />\r\n                <Route path=\"/editor/shares/add-share\" component={AddShare} />\r\n                <Redirect exact from=\"/editor/shares\" to=\"/editor/shares/all\" />\r\n            </Switch>\r\n        );\r\n\r\n        return (\r\n        <>\r\n            <div className=\"all-admins_header\">\r\n                {links.map((el, index) => (\r\n                    <NavLink \r\n                    key={index} \r\n                    to={el.to} \r\n                    activeClassName=\"all-admins_header__item-active\"\r\n                    className='all-admins_header__item'>\r\n                        {el.label}\r\n                    </NavLink>\r\n                ))}\r\n            </div>\r\n            {routes}\r\n          </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Shares;","export const links = [\r\n    {\r\n        to: '/editor/blog/all',\r\n        label: 'Посты'\r\n    },\r\n    {\r\n        to: '/editor/blog/add-blog',\r\n        label: 'Добавить пост'\r\n    },\r\n    {\r\n        to: '/editor/blog/comments',\r\n        label: 'Модерация комментариев'\r\n    }\r\n]","import { CircularProgress } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { backendUrl } from '../../../../../../config/config';\r\nimport ErrorComponent from '../../../../../Errors/Error/Error';\r\nimport Modal from '../../../../../UI/Modal/Modal';\r\n\r\nclass AllPosts extends React.Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        error: false,\r\n        posts: [],\r\n        modalForSuccessDelete: false,\r\n        modalForModeDelete: false,\r\n        modalForSuccessAdd: false,\r\n        deleteMode: []\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if (this.props.location.state && this.props.location.state.successAdd) {\r\n            this.setState({ modalForSuccessAdd: true });\r\n            this.props.location.state = null;\r\n        }\r\n\r\n        axios.get(backendUrl + '/posts/', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({\r\n                error: false,\r\n                loading: false,\r\n                posts: res.data\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ error: true, loading: false });\r\n        })\r\n    }\r\n\r\n    onDeletePost = (id) => {\r\n        this.setState({ loading: true });\r\n        axios.delete(backendUrl + `/admin/post/${id}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                let newPosts = [ ...this.state.posts ];\r\n                newPosts = newPosts.filter(el => el._id !== id);\r\n                this.setState({\r\n                    modalForSuccessDelete: true,\r\n                    loading: false,\r\n                    error: false,\r\n                    posts: newPosts\r\n                });\r\n            })\r\n            .catch(err => {\r\n                this.setState({\r\n                    loading: false,\r\n                    error: true,\r\n                });\r\n            })\r\n    }\r\n\r\n    render() {\r\n\r\n        const modalForSuccessDelete = (\r\n            <>\r\n                <p style={{ textAlign: 'center' }} >\r\n                    {'Вы успешно удалили пост!'}\r\n                </p>\r\n            </>\r\n        );\r\n\r\n        const modalForModeDelete = (\r\n            <div style={{textAlign: 'center'}}>\r\n                <p style={{ textAlign: 'center' }}>\r\n                    {'Вы точно хотите удалить пост '}\r\n                    <span style={{ fontWeight: 700 }}>\r\n                        {this.state.deleteMode[1]}\r\n                    </span>\r\n                </p>\r\n                <Button\r\n                onClick={() => {\r\n                    this.onDeletePost(this.state.deleteMode[0]);\r\n                    this.setState({\r\n                        modalForModeDelete: false,\r\n                        deleteMode: []\r\n                    })\r\n                }}\r\n                color=\"primary\"\r\n                variant=\"outlined\">\r\n                    {'Да'}\r\n                </Button>\r\n            </div>\r\n        );\r\n\r\n        const modalForSuccessAdd = (\r\n            <>\r\n                <p>{'Вы успешно добавили новый пост!'}</p>\r\n            </>\r\n        );\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                paddingBottom: '40px'\r\n            }}>\r\n                <Modal\r\n                show={this.state.modalForModeDelete}\r\n                modalClosed={() => this.setState({ modalForModeDelete: false })}>\r\n                    {modalForModeDelete}\r\n                </Modal>\r\n                <Modal\r\n                show={this.state.modalForSuccessAdd}\r\n                modalClosed={() => this.setState({ modalForSuccessAdd: false })}>\r\n                    {modalForSuccessAdd}\r\n                </Modal>\r\n                <Modal\r\n                show={this.state.modalForSuccessDelete}\r\n                modalClosed={\r\n                    () => this.setState({ modalForSuccessDelete: false })\r\n                }\r\n                >\r\n                    {modalForSuccessDelete}\r\n                </Modal>\r\n                { this.state.loading && !this.state.error && <CircularProgress /> }\r\n                { this.state.error && !this.state.loading && <ErrorComponent /> }\r\n                { \r\n                !this.state.posts[0] && !this.state.loading && !this.state.error && \r\n                <p>{'Пока что ни одного поста нет. Добавьте хотя-бы один чтобы увидеть его.'}</p>\r\n                }\r\n                {\r\n                   this.state.posts[0] && !this.state.loading && !this.state.error &&  \r\n                   <div style={{marginTop: '40px'}}>\r\n                    {this.state.posts.map(post => (\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'flex-end'\r\n                        }}>\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                flexDirection: 'row'\r\n                            }}>\r\n                                <EditIcon \r\n                                    onClick={ () => \r\n                                        this.props.history.push(`/editor/blog/edit/${post._id}`)\r\n                                    }\r\n                                   style={{ \r\n                                    color: 'forestgreen', \r\n                                    marginRight: '10px', \r\n                                    marginBottom: '5px', \r\n                                    cursor: 'pointer'\r\n                                    }} \r\n                                />\r\n                                <DeleteIcon \r\n                                    onClick={ () => this.setState({\r\n                                        deleteMode: [ post._id, post.title ],\r\n                                        modalForModeDelete: true\r\n                                    }) }\r\n                                    style={{ \r\n                                        color: 'brown', \r\n                                        marginRight: '10px', \r\n                                        marginBottom: '5px', \r\n                                        cursor: 'pointer'\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <Link\r\n                                to={`/editor/blog/edit/${post._id}`}\r\n                                itemProp={'list'}\r\n                                className={'list'}\r\n                                key={post._id}\r\n                            >\r\n                                <div\r\n                                className={'list_context'}\r\n                                >\r\n                                    <img\r\n                                        src={backendUrl + `/${post.image}`}\r\n                                        alt={post.alt}\r\n                                    >\r\n                                    </img>\r\n                                    <div\r\n                                        className={'footer'}\r\n                                    >\r\n                                        <h1\r\n                                        >\r\n                                            {post.title}\r\n                                        </h1>\r\n                                        <p\r\n                                        >\r\n                                            {'01.01.2021'}\r\n                                        </p>\r\n                                        <li\r\n                                        >\r\n                                            <span\r\n                                                style={{fontSize: '14px'}}\r\n                                            >\r\n                                                {'Посмотреть больше...'}\r\n                                            </span>\r\n                                        </li>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                    ))}\r\n                   </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(AllPosts);","import React from 'react';\nimport axios from 'axios';\nimport {backendUrl} from '../../../../../../config/config';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ErrorComponent from '../../../../../Errors/Error/Error';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport ReactStars from 'react-rating-stars-component';\nimport { checkValidaty } from '../../../../../../tools/checkValidaty';\nimport { connect } from 'react-redux';\n\nimport Seo from '../../../../../SEO/SEO';\n\nimport './addBlog.scss';\n\nconst inputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '1px solid #d1d6da',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n};\n\nconst invalidInputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '2px solid salmon',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n}\n\nclass AddBlog extends React.Component {\n\n    state = {\n        loading: false,\n        error: false,\n        file: null,\n        imageUrl: null,\n        form: {\n            content: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                    maxLength: 1000000\n                }\n            },\n            topic: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                }\n            },\n            alt: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                }\n            },\n            route: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                }\n            },\n            rate: {\n                value: 5,\n            }\n        },\n        seo: {\n            title: '',\n            description: '',\n            keywords: ''\n        }\n    }\n\n    onChangeTextArea = (e, id) => {\n        const updatedForm = {\n            ...this.state.form\n        };\n        updatedForm[id].touched = true;\n        updatedForm[id].value = e.target.value;\n        updatedForm[id].valid = checkValidaty(e.target.value, updatedForm[id].validation);\n\n        this.setState({\n            form: updatedForm\n        });\n    }\n\n    onChangeRate = (value) => {\n            this.setState((prevState) => ({\n            form: {\n                ...prevState.form,\n                rate: {\n                    value: value\n                }\n            }\n        }))\n    }\n\n    onSelectImageHandler = (event) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            this.setState({\n                file: file,\n                imageUrl: reader.result\n            })\n        };\n\n        const file = event.target.files[0];\n        if (file) { reader.readAsDataURL(file); }\n        else { this.setState({ file: null, imageUrl: null }) }\n    }\n\n    onButtonPressed = () => {\n        this.setState({ loading: true });\n\n        const formData = new FormData();\n        formData.append('title', this.state.form.topic.value);\n        formData.append('content', this.state.form.content.value);\n        formData.append('alt', this.state.form.alt.value);\n        formData.append('image', this.state.file);\n        formData.append('rate', this.state.form.rate.value);\n        formData.append('route', this.state.form.route.value);\n        formData.append('seo_title', this.state.seo.title);\n        formData.append('seo_description', this.state.seo.description);\n        formData.append('seo_keywords', this.state.seo.keywords);\n\n        axios.post(backendUrl + '/admin/post/add', formData, {\n            headers: {\n                'Authorization': `Bearer ${this.props.token}`\n            }\n        })\n        .then(res => {\n            console.log(res);\n            this.props.history.push({\n                pathname: '/editor/blog/all',\n                state: {\n                    successAdd: true\n                }\n            });\n        })\n        .catch(err => {\n            console.log(err, err.response);\n            this.setState({ error: true, loading: false });\n        });\n    }\n\n    onExportData = (obj) => {\n        this.setState({\n            seo: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    onLoadIFrame = (obj) => {\n        console.log(obj);\n        obj.target.style.height = obj.target.contentWindow.document.documentElement.scrollHeight + 'px';\n    }\n\n    render() {\n\n        return (\n            <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                paddingBottom: '40px'\n            }}>\n                { this.state.loading && !this.state.error && <CircularProgress /> }\n                { this.state.error && !this.state.loading && <ErrorComponent /> }\n                { !this.state.error && !this.state.loading && \n                    <>\n                        <h3>{'Добавить новый пост:'}</h3>\n                        <p>{'Введите тему поста:'}</p>\n                        <textarea \n                        value={this.state.form.topic.value}\n                        onChange={(e) => this.onChangeTextArea(e, 'topic')}\n                        style={\n                            !this.state.form.topic.valid && this.state.form.topic.touched ?  invalidInputStyles : \n                            inputStyles\n                        } \n                        />\n                        <p>{'Введите html поста:'}</p>\n                        <textarea \n                        value={this.state.form.content.value}\n                        onChange={(e) => this.onChangeTextArea(e, 'content')}\n                        style={{\n                            ...inputStyles,\n                            height: '600px'\n                        }} \n                        />\n                        <p>{'Рейтинг от 0 до 5:'}</p>\n                        <Slider\n                            style={{ width: '500px' }}\n                            value={this.state.form.rate.value}\n                            onChange={(e, value) => this.onChangeRate(value)}\n                            aria-labelledby=\"discrete-slider\"\n                            valueLabelDisplay=\"auto\"\n                            step={0.5}\n                            marks\n                            min={0}\n                            max={5}\n                        />\n                        <p>{'Атрибут alt к картинке:'}</p>\n                        <textarea \n                        value={this.state.form.alt.value}\n                        onChange={(e) => this.onChangeTextArea(e, 'alt')}\n                        style={\n                            !this.state.form.alt.valid && this.state.form.alt.touched ?  invalidInputStyles : \n                            inputStyles\n                        } \n                        />\n                        <p>{'Путь route на сайте:'}</p>\n                        <textarea \n                        value={this.state.form.route.value}\n                        onChange={(e) => this.onChangeTextArea(e, 'route')}\n                        style={\n                            !this.state.form.route.valid && this.state.form.route.touched ?  invalidInputStyles : \n                            inputStyles\n                        } \n                        />\n                        <p>{'Загрузить картинку(png, jpg):'}</p>\n                        <input\n                         onChange={(event) => this.onSelectImageHandler(event)}\n                         type=\"file\"\n                         accept=\"image/*\" \n                        />\n                        {\n                            this.state.file  &&\n                            this.state.form.topic.valid && this.state.form.content.valid &&\n                            <>\n                                <p>{'Как будет выглядеть на сайте(Вариант в списке и развернутый):'}</p>\n                                <>\n                                            <div\n                                                className={'list'}\n                                            >\n                                                <div\n                                                    className={'list_context'}\n                                                >\n                                                    <img\n                                                        src={this.state.imageUrl}\n                                                        alt={this.state.form.alt.value}\n                                                    >\n                                                    </img>\n                                                    <div\n                                                        className={'footer'}\n                                                    >\n                                                        <h1\n                                                        >\n                                                            {this.state.form.topic.value}\n                                                        </h1>\n                                                        <p\n                                                        >\n                                                            {'01.01.2021'}\n                                                        </p>\n                                                        <li\n                                                        >\n                                                            <span\n                                                                style={{fontSize: '14px'}}\n                                                            >\n                                                                {'Посмотреть больше...'}\n                                                            </span>\n                                                        </li>\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            <div className={'blog-article_section'} >\n                                                        <div\n                                                            className={'blog_container'}\n                                                        >\n                                                            <div className={'imageTitle'}>\n                                                                <img\n                                                                    itemProp={'image'}\n                                                                    itemType={'url'}\n                                                                    itemScope\n                                                                    src={this.state.imageUrl}\n                                                                    alt={this.state.form.alt.value}\n                                                                >\n                                                                </img>\n                                                            </div>\n                                                            <div\n                                                                className={'blog_container_filling'}\n                                                            >\n                                                                <div\n                                                                    itemProp={'filling_header'}\n                                                                    className={'blog_container_filling_header'}\n                                                                >\n                                                                    <h4 itemProp={'name'}>\n                                                                        {this.state.form.topic.value}\n                                                                    </h4>\n                                                                    <p itemProp={'date'}>\n                                                                        {'01.01.2021'}\n                                                                    </p>\n                                                                </div>\n                                                                <div className='blog_container_filling_center'\n                                                                >\n                                                                    <iframe \n                                                                        onLoad={this.onLoadIFrame}\n                                                                        style={{\n                                                                            width: '100%',\n                                                                            border: 'none',\n                                                                            height: '100%',\n                                                                            overflow: 'visible'\n                                                                        }} \n                                                                        srcDoc={this.state.form.content.value}\n                                                                    >\n                                                                            {'Ваш браузер не поддерживает Frame'}\n                                                                    </iframe>\n                                                                </div>\n                                                                <div className='blog_container_filling_bottom'\n                                                                >\n                                                                    <div style={{\n                                                                        display: 'flex',\n                                                                        flexDirection: 'row'\n                                                                    }}>\n                                                                        <ReactStars\n                                                                        count={5}\n                                                                        isHalf={true}\n                                                                        value={this.state.form.rate.value}\n                                                                        edit={false}\n                                                                        size={24} \n                                                                        />\n                                                                        <span style={{marginTop: '8px', marginLeft: '5px'}}>\n                                                                            ({this.state.form.rate.value.toFixed(1)})\n                                                                        </span>\n                                                                    </div>\n                                                                    <p itemProp={'text'}>\n                                                                        {'Комментарии '}{`(0)`}\n                                                                    </p>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                            </div>\n                                </>\n                            </>\n                        }\n                        <p>{'Для правильной работы сначала сохраните SEO разметку и потом создайте товар!'}</p>\n                        <Seo \n                            seo={this.state.seo}\n                            onExportData={this.onExportData}\n                        />\n                        <Button\n                        onClick={this.onButtonPressed}\n                        disabled={\n                            !(this.state.form.route.valid && this.state.form.topic.valid &&\n                            this.state.form.content.valid && this.state.form.alt.valid && this.state.file)\n                        }\n                        color=\"primary\"\n                        variant=\"contained\"\n                        style={{marginTop: '20px'}}>\n                            {'Создать'}\n                        </Button>\n                    </>\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(AddBlog);","import React from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { backendUrl } from '../../../../../../config/config';\nimport { checkValidaty } from '../../../../../../tools/checkValidaty';\nimport Slider from '@material-ui/core/Slider';\nimport Button from '@material-ui/core/Button';\n\nimport ReactStars from 'react-rating-stars-component';\nimport Spinner from \"@material-ui/core/CircularProgress\";\nimport ErrorIndicator from \"../../../../../Errors/Error/Error\";\nimport dayjs from 'dayjs';\n\nconst inputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '1px solid #d1d6da',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n};\n\nconst invalidInputStyles = {\n    width: '90%',\n    minHeight: '40px',\n    height: '25px',\n    border: '2px solid salmon',\n    borderRadius: '4px',\n    color: '#555555',\n    backgroundColor: '#fff',\n    lineHeight: 1.428571429,\n    fontSize: '16px',\n    overflow: 'auto',\n    boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.075)',\n    resize: 'vertical',\n    padding: '8px'\n}\n\nclass BlogArticle extends React.Component {\n\n    state = {\n        loading: false,\n        error: false,\n        file: null,\n        imageUrl: null,\n        postId: null,\n        form: {\n            content: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                    maxLength: 1000000\n                }\n            },\n            topic: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                    maxLength: 150\n                }\n            },\n            alt: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                }\n            },\n            route: {\n                value: '',\n                valid: false,\n                touched: false,\n                validation: {\n                    required: true,\n                }\n            },\n            rate: {\n                value: 5,\n            },\n            image: '',\n            date: '',\n            comments: []\n        },\n        seo: {\n            title: '',\n            description: '',\n            keywords: ''\n        }\n    }\n\n    componentDidMount() {\n       this.setState({\n           loading: true,\n           error: false\n       });\n\n        const postId = this.props.match.params.id;\n        this.setState({postId : postId});\n\n        axios.get(backendUrl + `/posts/${postId}`)\n            .then(res => {\n                console.log(res);\n                this.setState({\n                    loading: false,\n                    error: false,\n                    form: {\n                        content: {\n                            value: res.data.content,\n                            valid: true,\n                            touched: false,\n                            validation: {\n                                required: true,\n                                maxLength: 1000000\n                            }\n                        },\n                        topic: {\n                            value: res.data.title,\n                            valid: true,\n                            touched: false,\n                            validation: {\n                                required: true,\n                                maxLength: 150\n                            }\n                        },\n                        alt: {\n                            value: res.data.alt,\n                            valid: true,\n                            touched: false,\n                            validation: {\n                                required: true,\n                                maxLength: 50\n                            }\n                        },\n                        route: {\n                            value: res.data.route,\n                            valid: true,\n                            touched: false,\n                            validation: {\n                                required: true,\n                            }\n                        },\n                        rate: {\n                            value: res.data.rate,\n                        },\n                        image: res.data.image,\n                        date: res.data.date,\n                        comments: res.data.comments\n                    },\n                    seo: {\n                        title: res.data.seo_title,\n                        description: res.data.seo_description,\n                        keywords: res.data.seo_keywords\n                    }\n                });\n            })\n            .catch(err => {\n                console.log(err, err.repsponse);\n                this.setState({\n                    loading: false,\n                    error: true\n                });\n            })\n    }\n\n    onChangeTextArea = (e, id) => {\n        const updatedForm = {\n            ...this.state.form\n        };\n        updatedForm[id].touched = true;\n        updatedForm[id].value = e.target.value;\n        updatedForm[id].valid = checkValidaty(e.target.value, updatedForm[id].validation);\n\n        this.setState({\n            form: updatedForm\n        });\n    }\n\n    onChangeRate = (value) => {\n            this.setState((prevState) => ({\n            form: {\n                ...prevState.form,\n                rate: {\n                    value: value\n                }\n            }\n        }))\n    }\n\n    onSelectImageHandler = (event) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            this.setState({\n                file: file,\n                imageUrl: reader.result\n            })\n        };\n\n        const file = event.target.files[0];\n        if (file) { reader.readAsDataURL(file); }\n        else { this.setState({ file: null, imageUrl: null }) }\n    }\n\n    onExportData = (obj) => {\n        this.setState({\n            seo: {\n                title: obj.title,\n                description: obj.description,\n                keywords: obj.keywords\n            }\n        });\n    }\n\n    onLoadIFrame = (obj) => {\n        console.log(obj);\n        obj.target.style.height = obj.target.contentWindow.document.documentElement.scrollHeight + 'px';\n    }\n\n    onButtonPressed = () => {\n        this.setState({ loading: true, error: false });\n\n        if (this.state.file) {\n\n            const formData = new FormData();\n            formData.append('title', this.state.form.topic.value);\n            formData.append('content', this.state.form.content.value);\n            formData.append('alt', this.state.form.alt.value);\n            formData.append('image', this.state.file);\n            formData.append('rate', this.state.form.rate.value);\n            formData.append('route', this.state.form.route.value);\n            formData.append('seo_title', this.state.seo.title);\n            formData.append('seo_description', this.state.seo.description);\n            formData.append('seo_keywords', this.state.seo.keywords);\n            axios.put(backendUrl + `/admin/post/image/${this.state.postId}`, formData, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                }\n            })\n            .then(res => {\n                console.log(res);\n                this.props.history.push({\n                    pathname: '/editor/blog/all'\n                });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true, loading: false });\n            });\n\n        } else {\n\n            axios.put(backendUrl + `/admin/post/${this.state.postId}`, {\n                title: this.state.form.topic.value,\n                content: this.state.form.content.value,\n                alt: this.state.form.alt.value,\n                rate: this.state.form.rate.value,\n                route: this.state.form.route.value,\n                'seo_title': this.state.seo.title,\n                'seo_description': this.state.seo.description,\n                'seo_keywords': this.state.seo.keywords\n            }, {\n                headers: {\n                    'Authorization': `Bearer ${this.props.token}`\n                }\n            })\n            .then(res => {\n                console.log(res);\n                this.props.history.push({\n                    pathname: '/editor/blog/all'\n                });\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                this.setState({ error: true, loading: false });\n            });\n\n        }\n    }\n\n    render() {\n\n        const {\n            loading,\n            error,\n            form\n        } = this.state;\n\n        return (\n            <div\n                itemProp={'blogArticle'}\n                itemScope\n                className={'blog-article_section'}\n            >\n                {loading && <Spinner /> }\n                {error && <ErrorIndicator />}\n                {!loading && !error &&\n                    <>  \n                        <div className={'blog_container'}>\n                            <div className={'imageTitle'}>\n                                <img\n                                    src={this.state.file ? this.state.imageUrl : backendUrl + `/${form.image}`}\n                                    alt={form.alt.value}\n                                />\n                            </div>\n                            <div className={'blog_container_filling'}>\n                                <div className={'blog_container_filling_header'}>\n                                    <h4>\n                                        {form.topic.value}\n                                    </h4>\n                                    <p>\n                                        {dayjs(form.date).format('DD.MM.YYYY')}\n                                    </p>\n                                </div>\n                                <div className={'blog_container_filling_center'}>\n                                    <iframe \n                                        onLoad={this.onLoadIFrame}\n                                        style={{\n                                            width: '100%',\n                                            border: 'none',\n                                            height: '100%'\n                                        }} \n                                        srcDoc={form.content.value}\n                                    >\n                                        {'Ваш браузер не поддерживает Frame'}\n                                    </iframe>\n                                </div>\n                                <div className={'blog_container_filling_bottom'}>\n                                    <div style={{\n                                        display: 'flex',\n                                        flexDirection: 'row'\n                                    }}>\n                                        <ReactStars\n                                        count={5}\n                                        value={form.rate.value}\n                                        edit={false}\n                                        size={24} \n                                        isHalf={true}\n                                        />\n                                        <span style={{marginTop: '8px', marginLeft: '5px'}}>\n                                            ({form.rate.value.toFixed(1)})\n                                        </span>\n                                    </div>\n                                    <p>\n                                        {'Комментарии '}{`(${form.comments.length})`}\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                        <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            flexDirection: 'column',\n                            width: '100%'\n                        }}>\n                            <h3>{'Изменить пост:'}</h3>\n                            <p>{'Тема поста:'}</p>\n                            <textarea \n                            value={this.state.form.topic.value}\n                            onChange={(e) => this.onChangeTextArea(e, 'topic')}\n                            style={\n                                !this.state.form.topic.valid && this.state.form.topic.touched ?  invalidInputStyles : \n                                inputStyles\n                            } \n                            />\n                            <p>{'HTML поста:'}</p>\n                            <textarea \n                            value={this.state.form.content.value}\n                            onChange={(e) => this.onChangeTextArea(e, 'content')}\n                            style={{\n                                ...inputStyles,\n                                height: '600px'\n                            }} \n                            />\n                            <p>{'Рейтинг от 0 до 5:'}</p>\n                            <Slider\n                                style={{ width: '500px' }}\n                                value={this.state.form.rate.value}\n                                onChange={(e, value) => this.onChangeRate(value)}\n                                aria-labelledby=\"discrete-slider\"\n                                valueLabelDisplay=\"auto\"\n                                step={0.5}\n                                marks\n                                min={0}\n                                max={5}\n                            />\n                            <p>{'Атрибут alt к картинке:'}</p>\n                            <textarea \n                            value={this.state.form.alt.value}\n                            onChange={(e) => this.onChangeTextArea(e, 'alt')}\n                            style={\n                                !this.state.form.alt.valid && this.state.form.alt.touched ?  invalidInputStyles : \n                                inputStyles\n                            } \n                            />\n                            <p>{'Путь route на сайте:'}</p>\n                            <textarea \n                            value={this.state.form.route.value}\n                            onChange={(e) => this.onChangeTextArea(e, 'route')}\n                            style={\n                                !this.state.form.route.valid && this.state.form.route.touched ?  invalidInputStyles : \n                                inputStyles\n                            } \n                            />\n                            <p>{'Если хотите поменять картинку, загрузите ее(png, jpg):'}</p>\n                            <input\n                            onChange={(event) => this.onSelectImageHandler(event)}\n                            type=\"file\"\n                            accept=\"image/*\" \n                            />\n                            {this.state.file && \n                            <button\n                                onClick={() => this.setState({file: null, imageUrl: null})}\n                                style={{\n                                    marginTop: '10px'\n                                }}\n                            >\n                                {'Отмена'}\n                            </button>\n                            }\n                            <Button\n                                onClick={this.onButtonPressed}\n                                disabled={\n                                    !(this.state.form.route.valid && this.state.form.topic.valid &&\n                                    this.state.form.content.valid  )\n                                }\n                                color=\"primary\"\n                                variant=\"contained\"\n                                style={{marginTop: '20px'}}\n                            >\n                                {'Изменить'}\n                            </Button>\n                        </div>\n                    </>\n                }\n            </div>\n        );\n    }\n\n\n}\n\nconst mapStateToProps = (state) => ({\n    token: state.auth.token\n});\n\nexport default connect(mapStateToProps)(BlogArticle);","export default __webpack_public_path__ + \"static/media/default-avatar.41c95564.png\";","import React from 'react';\r\nimport dayjs from 'dayjs';\r\n\r\nimport defaultAvatar from '../../../../../../../assets/page/Blog/default-avatar.png';\r\n\r\nimport './singleComment.scss';\r\n\r\nconst SingleComment = React.memo((props) => {\r\n    return (\r\n        <div className=\"blog-single-comment-container\">\r\n            <div className=\"blog-single-comment-container__avatar\">\r\n                <img \r\n                    src={defaultAvatar} \r\n                    alt=\"default-avatar\" \r\n                />\r\n            </div>\r\n            <div className=\"blog-single-comment-container__content\">\r\n                    <div className=\"blog-single-comment-container__content__header\"> \r\n                        <p className=\"blog-single-comment-container__content__header__name\">\r\n                            {props.name}\r\n                        </p> \r\n                        <p className=\"blog-single-comment-container__content__header__date\">\r\n                            { dayjs(props.data).format('DD.MM.YYYY') }\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"blog-single-comment-container__content__content\">\r\n                        {props.content}\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default SingleComment;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { backendUrl } from '../../../../../../config/config';\r\nimport { connect } from 'react-redux';\r\nimport ErrorComponent from '../../../../../Errors/Error/Error';\r\nimport Modal from '../../../../../UI/Modal/Modal';\r\nimport SingleComment from '../Comments/SingleComment/SingleComment';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport Button from '@material-ui/core/Button';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nclass Comments extends React.Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        error: false,\r\n        comments: [],\r\n        deleteComm: null,\r\n        editedComm: null,\r\n        modalDelete: false,\r\n        modalPass: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(backendUrl + '/admin/comment/', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({ error: false, comments: res.data });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ error: true });\r\n        })\r\n        .finally(() => this.setState({loading: false}));\r\n    }\r\n\r\n    onPassComment = () => {\r\n        this.setState({ loading: true, modalPass: false });\r\n\r\n        axios.put(backendUrl + `/admin/comment/${this.state.editedComm}`, {}, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                console.log(res);\r\n                window.location.reload();\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                this.setState({ \r\n                    loading: false, \r\n                    error: true,\r\n                    editedComm: null\r\n                 });\r\n            })\r\n    }\r\n\r\n    onDeleteComment = () => {\r\n        this.setState({ loading: true, modalDelete: false });\r\n\r\n        axios.delete(backendUrl + `/admin/comment/${this.state.deleteComm}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            window.location.reload();\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            this.setState({ \r\n                loading: false,\r\n                error: true,\r\n                deleteComm: null\r\n            });\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        let newComments = [];\r\n        let moderatedComments = []\r\n        if (this.state.comments[0]) {\r\n            newComments = this.state.comments.filter(el => el.status === 'New');\r\n            moderatedComments = this.state.comments.filter(el => el.status !== 'New');\r\n        };\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                padding: '30px 0'\r\n            }}>\r\n                <Modal\r\n                    show={this.state.modalPass}\r\n                    modalClosed={() => this.setState({\r\n                        modalPass: false,\r\n                        editedComm: null\r\n                    })}\r\n                >\r\n                    <div style={{textAlign:'center'}}>\r\n                        <p>{'Вы точно хотите добавить этот комментарий?'}</p>\r\n                        <Button\r\n                            onClick={this.onPassComment}\r\n                            color=\"primary\"\r\n                            variant=\"outlined\"\r\n                        >\r\n                            {'Да'}\r\n                        </Button>\r\n                    </div>\r\n                </Modal>\r\n                <Modal\r\n                    show={this.state.modalDelete}\r\n                    modalClosed={()=>this.setState({\r\n                        modalDelete: false,\r\n                        deleteComm: null\r\n                    })}\r\n                >\r\n                    <div style={{textAlign:'center'}}>\r\n                        <p>{'Вы точно хотите удалить этот комментарий?'}</p>\r\n                        <Button\r\n                            onClick={this.onDeleteComment}\r\n                            color=\"primary\"\r\n                            variant=\"outlined\"\r\n                        >\r\n                            {'Да'}\r\n                        </Button>\r\n                    </div>\r\n                </Modal>\r\n                { this.state.loading && !this.state.error && <CircularProgress /> }\r\n                { this.state.error && <ErrorComponent /> }\r\n                { this.state.comments &&\r\n                    <>\r\n                        <h3>{'Новые комментарии'}</h3>\r\n                        <TableContainer component={Paper} style={{width: '90%'}}>\r\n                            <Table size=\"small\" aria-label=\"a dense table\">\r\n                                <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell align=\"left\">\r\n                                        {'Ссылка на пост'}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"left\">\r\n                                        {'Комментарий'}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        {'Принять'}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        {'Отклонить'}   \r\n                                    </TableCell>\r\n                                </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                {newComments.map((row) => (\r\n                                    <TableRow key={row._id}>\r\n                                    <TableCell align=\"left\">\r\n                                        <Link\r\n                                            style={{textDecoration:'underline'}} \r\n                                            to={`/editor/blog/edit/${row.postId._id}`}\r\n                                        > \r\n                                            {'Пост'} \r\n                                        </Link>\r\n                                    </TableCell>\r\n                                    <TableCell style={{width: '400px'}}>\r\n                                        <SingleComment\r\n                                            data={row.date} \r\n                                            content={row.content}\r\n                                            name={row.userId.name} \r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        <DoneIcon \r\n                                            onClick={() => this.setState({\r\n                                                modalPass: true,\r\n                                                editedComm: row._id\r\n                                            })}\r\n                                            style={{cursor:'pointer',color:'forestgreen'}}\r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        <DeleteIcon \r\n                                            onClick={()=>this.setState({\r\n                                                modalDelete: true,\r\n                                                deleteComm: row._id\r\n                                            })}\r\n                                            style={{cursor:'pointer',color:'brown'}}\r\n                                        />\r\n                                    </TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n\r\n\r\n                        <h3 style={{marginTop:'40px'}}>{'Комментарии прошедшие модерацию'}</h3>\r\n                        <TableContainer component={Paper} style={{width: '90%'}}>\r\n                            <Table size=\"small\" aria-label=\"a dense table\">\r\n                                <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell align=\"left\">\r\n                                        {'Ссылка на пост'}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"left\">\r\n                                        {'Комментарий'}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        {'Удалить'}   \r\n                                    </TableCell>\r\n                                </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                {moderatedComments.map((row) => (\r\n                                    <TableRow key={row._id}>\r\n                                    <TableCell align=\"left\">\r\n                                        <Link\r\n                                            style={{textDecoration:'underline'}} \r\n                                            to={row.postId ? `/editor/blog/edit/${row.postId._id}` : '/'}\r\n                                        > \r\n                                            {'Пост'} \r\n                                        </Link>\r\n                                    </TableCell>\r\n                                    <TableCell style={{width: '400px'}}>\r\n                                        <SingleComment\r\n                                            data={row.date} \r\n                                            content={row.content}\r\n                                            name={row.userId.name} \r\n                                        />\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        <DeleteIcon \r\n                                            onClick={()=>this.setState({\r\n                                                modalDelete: true,\r\n                                                deleteComm: row._id\r\n                                            })}\r\n                                            style={{cursor:'pointer',color:'brown'}}\r\n                                        />\r\n                                    </TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(Comments);","import React from 'react';\r\nimport { NavLink, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { links } from './list';\r\n\r\nimport AllSPosts from './components/AllPosts/AllPosts';\r\nimport AddBlog from './components/AddBlog/AddBlog';\r\nimport BlogArticle from './components/BlogArticle/BlogArticle';\r\nimport Comments from './components/Comments/Comments';\r\n\r\nclass Blog extends React.Component {\r\n\r\n    render() {\r\n\r\n        const routes = (\r\n            <Switch>\r\n                <Route path=\"/editor/blog/all\" component={AllSPosts} />\r\n                <Route path=\"/editor/blog/edit/:id\" component={BlogArticle} />\r\n                <Route path=\"/editor/blog/add-blog\" component={AddBlog} />\r\n                <Route path=\"/editor/blog/comments\" component={Comments} />\r\n                <Redirect exact from=\"/editor/blog\" to=\"/editor/blog/all\" />\r\n            </Switch>\r\n        );\r\n\r\n        return (\r\n        <>\r\n            <div className=\"all-admins_header\">\r\n                {links.map((el, index) => (\r\n                    <NavLink \r\n                    key={index} \r\n                    to={el.to} \r\n                    activeClassName=\"all-admins_header__item-active\"\r\n                    className='all-admins_header__item'>\r\n                        {el.label}\r\n                    </NavLink>\r\n                ))}\r\n            </div>\r\n            {routes}\r\n          </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Blog;","import React from 'react';\r\nimport { NavLink, Switch, Route } from 'react-router-dom';\r\n\r\nimport Shares from './components/Shares/Shares';\r\nimport Blog from './components/Blog/Blog';\r\n\r\nimport './editor.scss';\r\n\r\nconst Editor = ( props ) => {\r\n\r\n    const routes = (\r\n        <Switch>\r\n            <Route path=\"/editor/shares\" render={(props) => <Shares {...props} />} />\r\n            <Route path=\"/editor/blog\" render={(props) => <Blog {...props} />} />\r\n        </Switch>\r\n    );\r\n\r\n    const path = props.location.pathname;\r\n\r\n    return (\r\n        <>\r\n            {path === '/editor' ?\r\n            (\r\n                <div className=\"editor-content\">\r\n                    <ul>\r\n                        <NavLink to=\"/editor/shares\" >\r\n                            <li>{'АКЦИИ'}</li>\r\n                        </NavLink>\r\n                        <NavLink to=\"/editor/blog\" >\r\n                            <li>{'БЛОГ'}</li>\r\n                        </NavLink>\r\n                    </ul>\r\n                </div>\r\n            ) :\r\n            (\r\n              routes\r\n            )}\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Editor;","export const links = [\r\n    {\r\n        to: '/sending/users-email',\r\n        label: 'Пользователи(E-mail)'\r\n    },\r\n    {\r\n        to: '/sending/users-sms',\r\n        label: 'Пользователи(sms)'\r\n    },\r\n    {\r\n        to: '/sending/add-letter',\r\n        label: 'Добавить письмо для рассылки'\r\n    }\r\n]","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport { connect } from 'react-redux';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { withStyles } from '@material-ui/styles'\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst style = theme => ({\r\n    table: {\r\n        width: '600px'\r\n      },\r\n    container: {\r\n        maxWidth: '500px',\r\n        wordWrap: 'break-word'\r\n    }\r\n}) ;\r\n\r\nclass EmailUsers extends React.Component {\r\n\r\n    state = {\r\n        error: false,\r\n        loading: true,\r\n        users: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(backendUrl + '/admin/mail/mail', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                this.setState({\r\n                    error: false,\r\n                    users: res.data\r\n                })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: true });\r\n            })\r\n            .finally(() => this.setState({ loading: false }));\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n        console.log(this.state.users);\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex', \r\n                flexDirection: 'column', \r\n                alignItems: 'center'\r\n            }}>\r\n            {this.state.loading && !this.state.error && <CircularProgress />}\r\n            {this.state.error && !this.state.loading && <ErrorComponent />}\r\n            {!this.state.error && !this.state.loading &&\r\n            (\r\n                <>\r\n                <h1>{'Список пользователей для E-mail рассылки'}</h1>\r\n                {!this.state.users[0] ? \r\n                <p>{'В базе данных нет ни одного польователя для рассылки'}</p>\r\n                :\r\n                <TableContainer component={Paper} className={classes.table}>\r\n                <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                    <TableRow>\r\n                        <TableCell align=\"left\">{'E-mail'}</TableCell>\r\n                    </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {this.state.users.map((row) => (\r\n                        <TableRow key={row._id}>\r\n                        <TableCell component=\"th\" scope=\"row\" align=\"left\" className={classes.container}>\r\n                            {row.email}\r\n                        </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                    </TableBody>\r\n                </Table>\r\n                </TableContainer>\r\n                }\r\n                </>\r\n            )\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(style)(EmailUsers));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport { connect } from 'react-redux';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { withStyles } from '@material-ui/styles'\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst style = theme => ({\r\n    table: {\r\n        width: '600px'\r\n      },\r\n    container: {\r\n        maxWidth: '500px',\r\n        wordWrap: 'break-word'\r\n    }\r\n}) ;\r\n\r\nclass EmailUsers extends React.Component {\r\n\r\n    state = {\r\n        error: false,\r\n        loading: true,\r\n        users: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(backendUrl + '/admin/mail/mail/sms', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                console.log(res);\r\n                this.setState({\r\n                    error: false,\r\n                    users: res.data\r\n                });\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: true });\r\n            })\r\n            .finally(() => this.setState({ loading: false }));\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n        console.log(this.state.users);\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex', \r\n                flexDirection: 'column', \r\n                alignItems: 'center'\r\n            }}>\r\n            {this.state.loading && !this.state.error && <CircularProgress />}\r\n            {this.state.error && !this.state.loading && <ErrorComponent />}\r\n            {!this.state.error && !this.state.loading &&\r\n            (\r\n                <>\r\n                <h1>{'Список пользователей для SMS рассылки'}</h1>\r\n                {!this.state.users[0] ? \r\n                <p>{'В базе данных нет ни одного польователя для рассылки'}</p>\r\n                :\r\n                <TableContainer component={Paper} className={classes.table}>\r\n                <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                    <TableRow>\r\n                        <TableCell align=\"left\">{'Номер телефона'}</TableCell>\r\n                    </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                    {this.state.users.map((row) => (\r\n                        <TableRow key={row._id}>\r\n                        <TableCell component=\"th\" scope=\"row\" align=\"left\" className={classes.container}>\r\n                            {row.sms}\r\n                        </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                    </TableBody>\r\n                </Table>\r\n                </TableContainer>\r\n                }\r\n                </>\r\n            )\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(style)(EmailUsers));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport Button from '@material-ui/core/Button';\r\nimport Modal from '../../../UI/Modal/Modal'\r\nimport { connect } from 'react-redux';\r\n\r\nimport './addLetter.scss';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nclass AddLetter extends React.Component {\r\n\r\n\r\n    state = {\r\n        letterHeader: '',\r\n        letterHTML: '',\r\n        loading: false,\r\n        error: null,\r\n        successModal: false,\r\n        lookingHTML: false\r\n    }\r\n\r\n    onButtonPressedHandler = () => {\r\n        this.setState({ loading: true });\r\n        axios.post(backendUrl + '/admin/mail/mail/', {\r\n            subject: this.state.letterHeader,\r\n            content: this.state.letterHTML\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then(res => {\r\n            this.setState({ successModal: true })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n        .finally(() => this.setState({ loading: false }));\r\n    }\r\n\r\n    onLookingEmailLetter = () => {\r\n        if (this.state.lookingHTML) {\r\n            this.setState({\r\n                lookingHTML: false\r\n            });\r\n        } else {\r\n                this.setState({\r\n                    lookingHTML: true\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const successModalContent = (\r\n            <p style={{ textAlign: 'center' }}>\r\n                {'Письмо было успешно отправлено!'}\r\n            </p>\r\n        );\r\n\r\n        return (\r\n            <div style={{\r\n                display: 'flex', \r\n                flexDirection: 'column', \r\n                alignItems: 'center'\r\n            }}>\r\n                {this.state.error && \r\n                    <p style={{ fontSize: '24px', color: 'salmon'}}>\r\n                        {this.state.error}\r\n                    </p>\r\n                }\r\n                <Modal\r\n                show={this.state.successModal}\r\n                modalClosed={() => {\r\n                    this.setState({ successModal: false });\r\n                }}>\r\n                    {successModalContent}\r\n                </Modal>\r\n                <h1>{'Создать письмо для рассылки по почте'}</h1>\r\n                <p>\r\n                    {'Тема письма:'}\r\n                </p>\r\n                <textarea \r\n                    value={this.state.letterHeader}\r\n                    onChange={(e) => this.setState({ letterHeader: e.target.value })}\r\n                    className=\"add-letter__textarea\"\r\n                    style={{\r\n                        height: '30px'\r\n                    }}\r\n                />\r\n                <p>{`Для создания тела письма вставьте полностью html код в поле ниже\r\n                    (если вы не видите письма, скорее всего вы допустили ошибку в html коде):`}</p>\r\n                <textarea\r\n                    value={this.state.letterHTML}\r\n                    onChange={(e) => this.setState({ \r\n                        letterHTML: e.target.value,\r\n                        lookingHTML: false,\r\n                        src: ''\r\n                     })}\r\n                    className=\"add-letter__textarea\"\r\n                />\r\n                {\r\n                    this.state.letterHTML !== '' && !this.state.lookingHTML && \r\n                    <p className=\"add-letter__link-to-letter\" onClick={this.onLookingEmailLetter}> \r\n                        {'Посмотреть как письмо будет выглядеть в почте:'}\r\n                    </p>\r\n                }\r\n                {this.state.lookingHTML && this.state.letterHTML !== '' &&\r\n                    <p className=\"add-letter__link-to-letter\" onClick={this.onLookingEmailLetter}>\r\n                        {'Закрыть'}\r\n                    </p>\r\n                }\r\n                {this.state.lookingHTML && \r\n                <div style={{ display: 'flex', flexDirection: 'row',}}>\r\n                    <iframe \r\n                    width=\"900\" \r\n                    height=\"600\" \r\n                    srcDoc={this.state.letterHTML}>\r\n                        {'Ваш браузер не поддерживает Frame'}\r\n                    </iframe>\r\n                    <iframe \r\n                    style={{ marginLeft: '40px'}}\r\n                    width=\"360\" \r\n                    height=\"600\" \r\n                    srcDoc={this.state.letterHTML}>\r\n                        {'Ваш браузер не поддерживает Frame'}\r\n                    </iframe>\r\n                </div>\r\n                }\r\n                {this.state.loading ?\r\n                <CircularProgress/> :\r\n                <Button \r\n                onClick={this.onButtonPressedHandler}\r\n                size=\"large\"\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                disabled={ \r\n                    this.state.letterHTML.trim() === '' || this.state.letterHeader.trim() === '' \r\n                }\r\n                style={{\r\n                    marginTop: '30px',\r\n                    marginBottom: '30px'\r\n                }}\r\n                >\r\n                    {'Отправить письмо'}\r\n                </Button>}\r\n            </div>\r\n        );\r\n    }\r\n}   \r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(AddLetter);","import React from 'react';\r\nimport { Switch, Route, NavLink, Redirect } from 'react-router-dom';\r\nimport { links } from './list';\r\n\r\nimport EmailUsers from './components/EmailUsers/EmailUsers';\r\nimport SmsUsers from './components/SmsUsers/SmsUsers';\r\nimport AddLetter from './components/AddLetter/AddLetter';\r\n\r\nclass Sending extends React.Component {\r\n    render() {\r\n\r\n        const routes = (\r\n            <Switch>\r\n                <Route path=\"/sending/users-email\" component={EmailUsers} />\r\n                <Route path=\"/sending/users-sms\" component={SmsUsers} />\r\n                <Route path=\"/sending/add-letter\" component={AddLetter} />\r\n                <Redirect from=\"/sending\" to=\"/sending/users-email\" />\r\n            </Switch>\r\n        );\r\n\r\n        return (\r\n            <>  \r\n                <div className=\"all-admins_header\">\r\n                    {links.map((el, index) => (\r\n                        <NavLink \r\n                        key={index} \r\n                        to={el.to} \r\n                        activeClassName=\"all-admins_header__item-active\"\r\n                        className='all-admins_header__item'>\r\n                            {el.label}\r\n                        </NavLink>\r\n                    ))}\r\n                </div>\r\n                {routes}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Sending;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../../store/actions/index';\r\n\r\nconst Logout = ( props ) => {\r\n    useEffect(() => {\r\n        props.onLogOut();\r\n        props.history.push('/log-in');\r\n    });\r\n    return (\r\n        <>\r\n        </>\r\n    )\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    onLogOut: () => dispatch(actions.logout())\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(Logout);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Table from '@material-ui/core/Table';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\nimport Modal from '../../../UI/Modal/Modal';\r\n\r\nimport { sortStrings } from '../../../../tools/sort';\r\n\r\nimport './usersList.scss';\r\n\r\nconst styles = theme =>({\r\n    button: {\r\n        backgroundColor: '#4caf50',\r\n        marginLeft: '20px',\r\n        color: 'white',\r\n        '&:hover': {\r\n            backgroundColor: '#357a38'\r\n        }\r\n    },\r\n    table: {\r\n        width: '100%'\r\n    },\r\n    edit: {\r\n        color: '#4caf50',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            color: '#357a38'\r\n        }\r\n    },\r\n    delete: {\r\n        color: '#b71c1c',\r\n        cursor: 'pointer',\r\n        '&:hover': {\r\n            color: '#801313'\r\n        }\r\n    },\r\n    paginator: {\r\n        width: '100%'\r\n    },\r\n    paper: {\r\n        width: '90%',\r\n        marginTop: '20px',\r\n        marginBottom: '60px'\r\n    },\r\n    visuallyHidden: {\r\n        border: 0,\r\n        clip: 'rect(0 0 0 0)',\r\n        height: 1,\r\n        margin: -1,\r\n        overflow: 'hidden',\r\n        padding: 0,\r\n        position: 'absolute',\r\n        top: 20,\r\n        width: 1,\r\n      },\r\n    cancelButton: {\r\n        textTransform: 'capitalize',\r\n        marginLeft: '15px',\r\n        backgroundColor: '#b71c1c',\r\n        '&:hover': {\r\n            backgroundColor: '#801313'\r\n        }\r\n    }\r\n});\r\n\r\nconst headCells = [\r\n    { id: 'email', numeric: false, disablePadding: true, label: 'E-mail' },\r\n    { id: 'name', numeric: false, disablePadding: false, label: 'ФИО' },\r\n    { id: 'status', numeric: false, disablePadding: false, label: 'Статус' },\r\n    { id: 'edit', numeric: false, disablePadding: false, label: '' },\r\n    { id: 'delete', numeric: false, disablePadding: false, label: '' }\r\n];\r\n\r\nclass UsersList extends React.Component {\r\n\r\n    state = {\r\n        loading: true,\r\n        error: false,\r\n        users: null,\r\n        rowsPerPage: 5,\r\n        page: 0,\r\n        orderBy: 'email',\r\n        order: 'asc',\r\n        modalForSuccessAdd: false,\r\n        modalForSuccessChange: false,\r\n        searchArea: {\r\n            email: '',\r\n            fio: ''\r\n        },\r\n        searchMode: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(backendUrl + '/admin/user', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n              }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            const users = res.data.admins;\r\n            this.setState({ users: users });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ error: true });\r\n        })\r\n        .finally(() => {\r\n            this.setState({ loading: false });\r\n        });\r\n        if (this.props.location.search === '?successed-add=true') {\r\n            this.setState({ modalForSuccessAdd: true });\r\n        } else if (this.props.location.search === '?successed-changed=true') {\r\n            this.setState({ modalForSuccessChange: true });\r\n        }\r\n    }\r\n\r\n\r\n      handleChangeRowsPerPage = (event) => {\r\n        this.setState({\r\n            rowsPerPage: parseInt(event.target.value, 10),\r\n            page: 0\r\n        })\r\n      };\r\n\r\n      handleChangePage = (event, newPage) => {\r\n        this.setState({\r\n            page: newPage\r\n        })\r\n      };\r\n\r\n      handleRequestSort = (event, property) => {\r\n        const isAsc = this.state.orderBy === property && this.state.order === 'asc'\r\n        this.setState({\r\n            order: isAsc ? 'desc' : 'asc',\r\n            orderBy: property,\r\n        });\r\n        const users = this.state.users;\r\n        this.setState({\r\n            users: sortStrings(property, users, this.state.order !== 'desc' ? 'asc' : 'desc')\r\n        })\r\n      };\r\n\r\n    onModalForSuccessAddClosed = ( ) => {\r\n        this.setState({ modalForSuccessAdd: false });\r\n        this.props.history.push('/super-admin-profile/users');\r\n    }\r\n\r\n    onModalForSuccessChange = () => {\r\n        this.setState({ modalForSuccessChange: false });\r\n        this.props.history.push('/super-admin-profile/users');\r\n    }\r\n\r\n    onDeleteUser = (id) => {\r\n\r\n        axios.delete(backendUrl + `/admin/user/${id}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n             }\r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            window.location.reload();\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n        });\r\n    }\r\n\r\n    onEditUser = (id) => {\r\n        this.props.history.push(`/super-admin-profile/edit-admin/${id}`);\r\n    }\r\n\r\n    onSearch = () => {\r\n        this.setState({ loading: true });\r\n\r\n        axios.post(backendUrl + '/admin/user/search', {\r\n            email: this.state.searchArea.email,\r\n            name: this.state.searchArea.fio\r\n        }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n              } \r\n        })\r\n        .then(res => {\r\n            console.log(res);\r\n            this.setState({\r\n                searchMode: true,\r\n                users: res.data.admin\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ error: true });\r\n        })\r\n        .finally(() => {\r\n            this.setState({ loading: false });\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n\r\n        const modalForSuccessAddContent = (\r\n            <>\r\n              <p style={{ textAlign: 'center' }}>{'Вы успешно добавили нового админа'}</p>\r\n            </>\r\n          );\r\n\r\n        const modalForSuccessChanged = (\r\n            <>\r\n                <p style={{ textAlign: 'center'}}>{'Вы успешно изменили админа'}</p>\r\n            </>\r\n        )\r\n\r\n        return (\r\n            <>\r\n            <div className=\"users-list__content-area\">\r\n                {this.state.loading && <CircularProgress />}\r\n\r\n                {this.state.error && !this.state.loading && <ErrorComponent />}\r\n\r\n                {!this.state.error && !this.state.loading &&\r\n                (\r\n                    <>\r\n                        <Modal\r\n                        show={this.state.modalForSuccessAdd}\r\n                        modalClosed={this.onModalForSuccessAddClosed}>\r\n                            {modalForSuccessAddContent}\r\n                        </Modal>\r\n                        <Modal\r\n                        show={this.state.modalForSuccessChange}\r\n                        modalClosed={this.onModalForSuccessChange}>\r\n                            {modalForSuccessChanged}\r\n                        </Modal>\r\n                        <div className=\"users-list__content-area__controls\">\r\n                            <div className=\"users-list__content-area__controls__top\">\r\n                                <h1>Администраторы</h1>\r\n                                <NavLink to=\"/super-admin-profile/add-admin\">\r\n                                    <Button\r\n                                    variant=\"contained\" \r\n                                    color=\"primary\"\r\n                                    startIcon={<AddIcon />}>\r\n                                        {'Добавить'}\r\n                                    </Button>\r\n                                </NavLink>\r\n                            </div>\r\n                            <div className=\"users-list__content-area__controls__search\">\r\n                                <div className=\"users-list__content-area__controls__search__inputs\">\r\n                                    <span className=\"users-list__content-area__controls__search__inputs__item\">\r\n                                        <TextField \r\n                                        onChange={(e) => this.setState((prevState) => ({\r\n                                             searchArea: { \r\n                                                 ...prevState.searchArea,\r\n                                                 email: e.target.value\r\n                                            }\r\n                                            }))}\r\n                                        className={classes.input}\r\n                                        label=\"E-mail\" \r\n                                        variant=\"outlined\" \r\n                                        />\r\n                                    </span>\r\n                                    <span className=\"users-list__content-area__controls__search__inputs__item\">\r\n                                        <TextField  \r\n                                        onChange={(e) => this.setState((prevState) => ({\r\n                                            searchArea: { \r\n                                                ...prevState.searchArea,\r\n                                                fio: e.target.value\r\n                                           }\r\n                                           }))}\r\n                                        className={classes.input}\r\n                                        label=\"ФИО\" \r\n                                        variant=\"outlined\" \r\n                                        />\r\n                                    </span>\r\n                                    <Button \r\n                                    onClick={this.onSearch}\r\n                                    variant=\"contained\" \r\n                                    className={classes.button}>\r\n                                        {'Поиск'}\r\n                                    </Button>\r\n                                    {this.state.searchMode &&\r\n                                    <Button\r\n                                        onClick={() => window.location.reload() }\r\n                                        className={classes.cancelButton}\r\n                                        variant=\"contained\" \r\n                                        color=\"secondary\">\r\n                                        {'Отменить'}\r\n                                    </Button>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <Paper elevation={2} className={classes.paper}>\r\n                            <Table className={classes.table} size=\"medium\" aria-label=\"a dense table\">\r\n                                <TableHead>\r\n                                <TableRow>\r\n                                    {headCells.map(headCell => (\r\n                                        <TableCell\r\n                                        align=\"center\"\r\n                                        key={headCell.id}\r\n                                        sortDirection={\r\n                                            headCell.id !== this.state.orderBy\r\n                                            ? false : this.state.order\r\n                                        }>\r\n                                            <TableSortLabel\r\n                                                active={\r\n                                                    headCell.id !== 'edit' &&\r\n                                                    headCell.id !== 'delete'\r\n                                                }\r\n                                                direction={\r\n                                                    headCell.id === this.state.orderBy\r\n                                                     ? this.state.order : 'asc'\r\n                                                }\r\n                                                onClick={(e) => this.handleRequestSort(e, headCell.id)}\r\n                                                >\r\n                                                {headCell.label}\r\n                                                {\r\n                                                 headCell.id !== 'edit' &&\r\n                                                 headCell.id !== 'delete' ? (\r\n                                                    <span className={classes.visuallyHidden}>\r\n                                                    {this.state.order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                                                    </span>\r\n                                                ) : null}\r\n                                            </TableSortLabel>\r\n                                        </TableCell>\r\n                                    ))}\r\n                                </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                {this.state.users\r\n                                .slice(\r\n                                    this.state.page * this.state.rowsPerPage, \r\n                                    this.state.page * this.state.rowsPerPage \r\n                                    + this.state.rowsPerPage).map((user) => (\r\n                                    <TableRow key={user._id}>\r\n                                        <TableCell component=\"th\" scope=\"row\" align=\"center\">\r\n                                            {user.email}\r\n                                        </TableCell>\r\n                                        <TableCell align=\"center\">{user.name}</TableCell>\r\n                                        <TableCell align=\"center\">{user.status}</TableCell>\r\n                                        <TableCell align=\"center\">\r\n                                            <EditIcon\r\n                                            onClick={() => this.onEditUser(user._id)} \r\n                                            className={classes.edit}/>\r\n                                        </TableCell>\r\n                                        <TableCell align=\"center\">\r\n                                            <DeleteIcon \r\n                                            onClick={() => this.onDeleteUser(user._id)}\r\n                                            className={classes.delete}/>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                            <TablePagination\r\n                                className={classes.paginator}\r\n                                rowsPerPageOptions={[5, 10, 25]}\r\n                                component=\"div\"\r\n                                count={this.state.users.length}\r\n                                rowsPerPage={this.state.rowsPerPage}\r\n                                page={this.state.page}\r\n                                onChangePage={this.handleChangePage}\r\n                                onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                                labelRowsPerPage={'Количество полей на странице:'}\r\n                            />\r\n                        </Paper>\r\n                    </>\r\n                )}\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(UsersList));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { backendUrl } from '../../../../config/config';\r\nimport ErrorComponent from '../../../Errors/Error/Error';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { checkValidaty } from '../../../../tools/checkValidaty';\r\n\r\nimport './newAdmin.scss';\r\n\r\nconst styles = theme => ({\r\n    element: {\r\n        margin: '20px 0'\r\n    },\r\n    button: {\r\n        marginTop: '25px'\r\n    }\r\n});\r\n\r\nclass NewAdmin extends React.Component {\r\n\r\n\r\n    state = {\r\n        form: {\r\n            fio: '',\r\n            status: 'admin',\r\n            email: {\r\n                value: '',\r\n                validation: {\r\n                  required: true,\r\n                  isEmail: true\r\n                },\r\n                valid: false,\r\n                touched: false\r\n              },\r\n              password: {\r\n                value: '',\r\n                validation: {\r\n                  required: true,\r\n                  minLength: 6\r\n                },\r\n                valid: false,\r\n                touched: false\r\n              }\r\n        },\r\n        formIsValid: false,\r\n        error: null,\r\n        loading: false,\r\n        serverError: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loading: true });\r\n\r\n        axios.get(backendUrl + '/admin/status', {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n        .then((res )=>{\r\n            console.log(res, res.data);\r\n            if (res.data.status === 'admin') {\r\n                this.setState({ serverError: true });\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err, err.response);\r\n            this.setState({ serverError: true });\r\n        })\r\n        .finally(() => {\r\n            this.setState({ loading: false });\r\n        })\r\n    }\r\n\r\n    onInputChangedHandler = (event, controlName) => {\r\n        const updatedControls = {\r\n          ...this.state.form,\r\n          [controlName]: {\r\n            ...this.state.form[controlName],\r\n            value: event.target.value,\r\n            touched: true,\r\n            valid: checkValidaty(event.target.value, this.state.form[controlName].validation)\r\n          }\r\n        }\r\n        let formIsValid = true;\r\n        for (let elem in updatedControls) {\r\n          if (!updatedControls[elem].valid && updatedControls[elem].valid !== undefined) {\r\n            formIsValid = false;\r\n          }\r\n        }\r\n        this.setState({ form: updatedControls, formIsValid: formIsValid });\r\n      }\r\n\r\n    onStatusChangedHandler = (event) => {\r\n        this.setState((prevState) => ({\r\n            form: {\r\n                ...prevState.form,\r\n                status: event.target.value\r\n            }\r\n        }))\r\n      }\r\n\r\n      onSubmitForm = () => {\r\n          this.setState({ loading: true, error: null });\r\n\r\n          axios.post(backendUrl + '/admin/signup', {\r\n            email: this.state.form.email.value,\r\n            name: this.state.form.fio,\r\n            status: this.state.form.status,\r\n            password: this.state.form.password.value\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                console.log(res, res.data);\r\n                this.props.history.push('/super-admin-profile/users?successed-add=true')\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\r\n                this.setState({ error: message });\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            })\r\n      }\r\n\r\n    render() {\r\n\r\n        console.log(this.state);\r\n\r\n        const { classes } = this.props;\r\n\r\n        const statuses = [\r\n            'admin',\r\n            'SuperAdmin'\r\n        ]\r\n\r\n        return (\r\n            <>\r\n            {this.state.serverError ?\r\n            <ErrorComponent />\r\n            : \r\n            <div className=\"create-new-admin__content\">\r\n                <h1>\r\n                    {'Создать нового админа'}\r\n                </h1>\r\n                    { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'email')}\r\n                    value={this.state.form.email.value}\r\n                    error={!this.state.form.email.valid && this.state.form.email.touched}\r\n                    helperText={!this.state.form.email.valid && this.state.form.email.touched ? 'enter correct email' : null}\r\n                    className={classes.element}\r\n                    label=\"E-mail\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                    <TextField \r\n                    value={this.state.form.fio}\r\n                    onChange={(e) => this.setState({ form: { ...this.state.form, fio: e.target.value }})}\r\n                    className={classes.element}\r\n                    label=\"ФИО\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'password')}\r\n                    value={this.state.form.password.value}\r\n                    error={!this.state.form.password.valid && this.state.form.password.touched}\r\n                    className={classes.element}\r\n                    label=\"Пароль\" \r\n                    type=\"password\" \r\n                    variant=\"outlined\" \r\n                    />\r\n                    <TextField\r\n                    select\r\n                    label=\"Статус\"\r\n                    value={this.state.form.status}\r\n                    onChange={this.onStatusChangedHandler}\r\n                    SelectProps={{\r\n                        native: true,\r\n                    }}\r\n                    helperText=\"Выберите статус\"\r\n                    variant=\"outlined\"\r\n                    >\r\n                    {statuses.map((option) => (\r\n                        <option key={option} value={option}>\r\n                        {option}\r\n                      </option>\r\n                    ))}\r\n                    </TextField>\r\n                    {this.state.loading ?\r\n                    <CircularProgress />\r\n                    :<Button\r\n                    onClick={this.onSubmitForm}\r\n                    disabled={!this.state.formIsValid}\r\n                    variant=\"contained\" \r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    >\r\n                        {'Создать'}\r\n                    </Button>}\r\n            </div>\r\n            }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(NewAdmin));","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { backendUrl } from '../../../../config/config';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { checkValidaty } from '../../../../tools/checkValidaty';\r\n\r\nimport '../NewAdmin/newAdmin.scss';\r\n\r\nconst styles = theme => ({\r\n    element: {\r\n        margin: '20px 0'\r\n    },\r\n    button: {\r\n        marginTop: '25px'\r\n    }\r\n});\r\n\r\nclass UpdateAdmin extends React.Component {\r\n\r\n\r\n    state = {\r\n        form: {\r\n            fio: '',\r\n            status: '',\r\n            email: {\r\n                value: '',\r\n                validation: {\r\n                  required: true,\r\n                  isEmail: true\r\n                },\r\n                valid: true,\r\n                touched: false\r\n              },\r\n              password: {\r\n                value: '',\r\n                validation: {\r\n                  required: true,\r\n                  minLength: 6\r\n                },\r\n                touched: false\r\n              }\r\n        },\r\n        formIsValid: true,\r\n        error: null,\r\n        loading: false,\r\n        idIsValid: false,\r\n        userId: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const userId = this.props.match.params.id;\r\n        this.setState({ loading: true, userId: userId });\r\n\r\n        axios.get(backendUrl + `/admin/user/${userId}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${this.props.token}`\r\n            }\r\n        })\r\n            .then(res => {\r\n                console.log(res, res.data);\r\n                this.setState({ \r\n                    form: {\r\n                        ...this.state.form,\r\n                        fio: res.data.admin.name || '',\r\n                        status: res.data.admin.status,\r\n                        email: {\r\n                            ...this.state.form.email,\r\n                            value: res.data.admin.email\r\n                        }\r\n                    },\r\n                    error: null, \r\n                    idIsValid: true \r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\r\n                this.setState({ error: message, idIsValid: false });\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            })\r\n    }\r\n\r\n    onInputChangedHandler = (event, controlName) => {\r\n        const updatedControls = {\r\n          ...this.state.form,\r\n          [controlName]: {\r\n            ...this.state.form[controlName],\r\n            value: event.target.value,\r\n            touched: true,\r\n            valid: checkValidaty(event.target.value, this.state.form[controlName].validation)\r\n          }\r\n        }\r\n        let formIsValid = true;\r\n        for (let elem in updatedControls) {\r\n        if (elem === 'password' && updatedControls[elem].value !== '' && updatedControls[elem].value.length < 6) {\r\n            formIsValid = false;\r\n            } else if (elem === 'password') {\r\n                formIsValid = formIsValid && true;\r\n            } else if (!updatedControls[elem].valid && updatedControls[elem].valid !== undefined ) {\r\n            formIsValid = false;\r\n          }\r\n        }\r\n        this.setState({ form: updatedControls, formIsValid: formIsValid });\r\n      }\r\n\r\n    onStatusChangedHandler = (event) => {\r\n        this.setState((prevState) => ({\r\n            form: {\r\n                ...prevState.form,\r\n                status: event.target.value\r\n            }\r\n        }))\r\n      }\r\n\r\n      onSubmitForm = () => {\r\n          this.setState({ loading: true, error: null });\r\n\r\n          axios.put(backendUrl + `/admin/user/${this.state.userId}`, {\r\n                email: this.state.form.email.value,\r\n                name: this.state.form.fio,\r\n                status: this.state.form.status,\r\n                pasword: this.state.form.password.value !== '' ? this.state.form.password.value : null\r\n            }, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${this.props.token}`\r\n                }\r\n            })\r\n            .then(res => {\r\n                console.log(res, res.data);\r\n                this.props.history.push('/super-admin-profile/users?successed-changed=true');\r\n            })\r\n            .catch(err => {\r\n                console.log(err, err.response);\r\n                const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\r\n                this.setState({ error: message });\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            })\r\n      }\r\n\r\n    render() {\r\n\r\n        console.log(this.state);\r\n\r\n        const { classes } = this.props;\r\n\r\n        const statuses = [\r\n            'admin',\r\n            'SuperAdmin'\r\n        ]\r\n\r\n        return (\r\n            <div className=\"create-new-admin__content\">\r\n                <h1>\r\n                    {'Изменить админа'}\r\n                </h1>\r\n                    { this.state.error && <p className=\"log-in_error-field\" >{this.state.error}</p> }\r\n                    <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'email')}\r\n                    value={this.state.form.email.value}\r\n                    error={!this.state.form.email.valid && this.state.form.email.touched}\r\n                    helperText={!this.state.form.email.valid && this.state.form.email.touched ? 'enter correct email' : null}\r\n                    className={classes.element}\r\n                    label=\"E-mail\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                    <TextField \r\n                    value={this.state.form.fio}\r\n                    onChange={(e) => this.setState({ form: { ...this.state.form, fio: e.target.value }})}\r\n                    className={classes.element}\r\n                    label=\"ФИО\" \r\n                    variant=\"outlined\"\r\n                     />\r\n                     <TextField \r\n                    onChange={(event) => this.onInputChangedHandler(event, 'password')}\r\n                    value={this.state.form.password.value}\r\n                    error={!this.state.form.password.valid && this.state.form.password.touched && this.state.form.password.value !== \"\"}\r\n                    className={classes.element}\r\n                    label=\"Новый пароль\"\r\n                    variant=\"outlined\" \r\n                    />\r\n                    <TextField\r\n                    select\r\n                    label=\"Статус\"\r\n                    value={this.state.form.status}\r\n                    onChange={this.onStatusChangedHandler}\r\n                    SelectProps={{\r\n                        native: true,\r\n                    }}\r\n                    helperText=\"Выберите статус\"\r\n                    variant=\"outlined\"\r\n                    >\r\n                    {statuses.map((option) => (\r\n                        <option key={option} value={option}>\r\n                        {option}\r\n                      </option>\r\n                    ))}\r\n                    </TextField>\r\n                    {this.state.loading ?\r\n                    <CircularProgress />\r\n                    :<Button\r\n                    onClick={this.onSubmitForm}\r\n                    disabled={!this.state.formIsValid || !this.state.idIsValid}\r\n                    variant=\"contained\" \r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    >\r\n                        {'Изменить'}\r\n                    </Button>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(UpdateAdmin));","export const links = [\r\n    {\r\n        to: \"/super-admin-profile/users\",\r\n        label: \"Пользователи\"\r\n    },\r\n    {\r\n        to: \"/super-admin-profile/add-admin\",\r\n        label: \"Создать\"\r\n    }\r\n];","import React from 'react';\r\nimport { Switch, Route, NavLink, Redirect } from 'react-router-dom';\r\n\r\nimport UsersList from './components/UsersList/UsersList';\r\nimport NewAdmin from './components/NewAdmin/NewAdmin';\r\nimport UpdateAdmin from './components/UpdateAdmin/UpdateAdmin';\r\nimport { links } from './list';\r\n\r\nimport './superAdminProfile.scss';\r\n\r\nclass SuperAdminProfile extends React.Component {\r\n    render() {\r\n        const routes = (\r\n            <Switch>\r\n                <Route path=\"/super-admin-profile/users\" component={UsersList} />\r\n                <Route exact path=\"/super-admin-profile/add-admin\" component={NewAdmin} />\r\n                <Route exact path=\"/super-admin-profile/edit-admin/:id\" component={UpdateAdmin} />\r\n                <Redirect from=\"/super-admin-profile\" to=\"/super-admin-profile/users\" />\r\n            </Switch>\r\n        );\r\n\r\n        return (\r\n            <>\r\n                <div className=\"all-admins_header\">\r\n                    {links.map((el, index) => (\r\n                        <NavLink \r\n                        key={index} \r\n                        to={el.to} \r\n                        activeClassName=\"all-admins_header__item-active\"\r\n                        className='all-admins_header__item'>\r\n                            {el.label}\r\n                        </NavLink>\r\n                    ))}\r\n                </div>\r\n                {routes}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SuperAdminProfile;","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../config/config';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { checkValidaty } from '../../../tools/checkValidaty';\r\nimport Modal from '../../UI/Modal/Modal';\r\n\r\nimport '../auth.scss';\r\n\r\nconst styles = theme => ({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n    link: {\r\n      color: '#3f51b5',\r\n      '&:hover': {\r\n        textDecoration: 'underline'\r\n      }\r\n    },\r\n    circular: {\r\n      marginLeft: '175px'\r\n    }\r\n  });\r\n\r\nclass ForgotPassword extends React.Component {\r\n\r\n    state = {\r\n        controls: {\r\n            email: {\r\n              value: '',\r\n              validation: {\r\n                required: true,\r\n                isEmail: true\r\n              },\r\n              valid: false,\r\n              touched: false\r\n            }\r\n          },\r\n          formIsValid: false,\r\n          modalOpened: false,\r\n          error: null,\r\n          loading: false\r\n    }\r\n\r\n    onInputChangedHandler = (event, controlName) => {\r\n        const updatedControls = {\r\n          ...this.state.controls,\r\n          [controlName]: {\r\n            ...this.state.controls[controlName],\r\n            value: event.target.value,\r\n            touched: true,\r\n            valid: checkValidaty(event.target.value, this.state.controls[controlName].validation)\r\n          }\r\n        }\r\n        let formIsValid = true;\r\n        for (let elem in updatedControls) {\r\n          if (!updatedControls[elem].valid) {\r\n            formIsValid = false;\r\n          }\r\n        }\r\n        this.setState({ controls: updatedControls, formIsValid: formIsValid });\r\n      }\r\n\r\n      onCloseModal = () => {\r\n          this.setState({ modalOpened: false });\r\n      }\r\n\r\n      onSubmitHandler = (event) => {\r\n        event.preventDefault();\r\n        const defaultState = {\r\n          controls: {\r\n              email: {\r\n                value: '',\r\n                validation: {\r\n                  required: true,\r\n                  isEmail: true\r\n                },\r\n                valid: false,\r\n                touched: false\r\n              }\r\n            },\r\n            formIsValid: false,\r\n            modalOpened: false,\r\n            loading: false,\r\n            error: null\r\n          };\r\n        this.setState({\r\n          ...defaultState,\r\n          loading: true\r\n        })\r\n        \r\n        axios.post(backendUrl + '/admin/recover', {\r\n          email: this.state.controls.email.value\r\n        })\r\n        .then(res => {\r\n          console.log(res, res.data);\r\n          this.setState(defaultState);\r\n          this.setState({ modalOpened: true, loading: false });\r\n        })\r\n        .catch(err => {\r\n          console.log(err, err.response);\r\n          const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\r\n          this.setState({ error: message, loading: false });\r\n        });\r\n      }\r\n\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n\r\n        const modalContent = (\r\n            <p style={{ textAlign: 'center' }}> {'Проверьте свою почту для восстановления пароля'} </p>\r\n        )\r\n\r\n        return (\r\n        <>\r\n            <Modal\r\n            show={this.state.modalOpened}\r\n            modalClosed={this.onCloseModal}>\r\n                {modalContent}\r\n            </Modal>\r\n            <Container component=\"main\" maxWidth=\"xs\">\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    {'Восстановление пароля'}\r\n                </Typography>\r\n\r\n                {this.state.error && \r\n                <p className=\"log-in_error-field\" >\r\n                    {this.state.error}\r\n                </p>}\r\n\r\n                <form className={classes.form} noValidate>\r\n                    <TextField\r\n                    onChange={(event) => this.onInputChangedHandler(event, 'email')}\r\n                    value={this.state.controls.email.value}\r\n                    error={!this.state.controls.email.valid && this.state.controls.email.touched}\r\n                    helperText={!this.state.controls.email.valid && this.state.controls.email.touched ? 'enter correct email' : null}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"Введите свою почту\"\r\n                    autoComplete=\"email\"\r\n                    autoFocus\r\n                    />\r\n                    {this.state.loading ?\r\n                    <CircularProgress className={classes.circular} />\r\n                    :\r\n                    <Button\r\n                    disabled={!this.state.formIsValid}\r\n                    onClick={(e) => this.onSubmitHandler(e)}\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    >\r\n                    {'Восстановить'}\r\n                    </Button>}\r\n                    <Grid container>\r\n                    <Grid item xs>\r\n                    <NavLink to=\"/log-in\" variant=\"body2\" className={classes.link}>\r\n                        {'Назад к входу'}\r\n                    </NavLink>\r\n                    </Grid>\r\n                </Grid>\r\n                </form>\r\n                </div>\r\n            </Container>\r\n          </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(ForgotPassword);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { backendUrl } from '../../../config/config';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { checkValidaty } from '../../../tools/checkValidaty';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst styles = theme => ({\r\n    paper: {\r\n      marginTop: theme.spacing(8),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%',\r\n      marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n    link: {\r\n      color: '#3f51b5',\r\n      '&:hover': {\r\n        textDecoration: 'underline'\r\n      }\r\n    },\r\n    circular: {\r\n      marginLeft: '175px'\r\n    }\r\n  });\r\n\r\nclass RestorePassword extends React.Component {\r\n\r\n    state = {\r\n        controls: {\r\n            password: {\r\n                value: '',\r\n                validation: {\r\n                  required: true,\r\n                  minLength: 6\r\n                },\r\n                valid: false,\r\n                touched: false\r\n              },\r\n              confirmedPassword: {\r\n                value: '',\r\n                validation: {\r\n                  required: true,\r\n                  minLength: 6\r\n                },\r\n                valid: false,\r\n                touched: false\r\n              }\r\n          },\r\n          formIsValid: false,\r\n          modalOpened: false,\r\n          token: null,\r\n          tokenIsValid: false,\r\n          loading: false,\r\n          error: null\r\n    }\r\n\r\n    componentDidMount() {\r\n      const token = this.props.match.params.token;\r\n      this.setState({ token: token });\r\n      axios.get(backendUrl + `/admin/reset/toUser/${token}`)\r\n        .then(res => {\r\n          console.log(res, res.data);\r\n          this.setState({ tokenIsValid: true, error: null });\r\n        })\r\n        .catch(err => {\r\n          console.log(err, err.response);\r\n          const message = err.response ? err.response.data.error || err.response.data.message : err.toString();\r\n          this.setState({ tokenIsValid: false, error: message });\r\n        });\r\n    }\r\n\r\n    onInputChangedHandler = (event, controlName) => {\r\n        const updatedControls = {\r\n          ...this.state.controls,\r\n          [controlName]: {\r\n            ...this.state.controls[controlName],\r\n            value: event.target.value,\r\n            touched: true,\r\n            valid: checkValidaty(event.target.value, this.state.controls[controlName].validation)\r\n          }\r\n        };\r\n        if ( controlName === 'confirmedPassword' ) {\r\n            const valid = updatedControls.confirmedPassword.value === updatedControls.password.value;\r\n            updatedControls.confirmedPassword.valid = updatedControls.confirmedPassword.valid && valid;\r\n        }\r\n        let formIsValid = true;\r\n        for (let elem in updatedControls) {\r\n          if (!updatedControls[elem].valid) {\r\n            formIsValid = false;\r\n          }\r\n        }\r\n        this.setState({ controls: updatedControls, formIsValid: formIsValid });\r\n      }\r\n\r\n      onSubmitHandler = (event) => {\r\n        event.preventDefault();\r\n\r\n        this.setState({ loading: true });\r\n        if (!this.state.tokenIsValid) {\r\n          this.setState({ error: 'Что-то пошло не так!' });\r\n        } else {\r\n            axios.post(backendUrl + '/admin/save/reseted', {\r\n              password: this.state.controls.password.value,\r\n              resetLink: this.state.token\r\n            })\r\n              .then(res => {\r\n                console.log(res, res.data);\r\n                this.setState({ loading: false });\r\n                this.props.history.push('/log-in/?password_reseted_success?true');\r\n              })\r\n              .catch(err => {\r\n                console.log(err, err.response);\r\n                const message = err.response ? err.response.data.message|| err.message : err.toString();\r\n                this.setState({ error: message, loading: false });\r\n              })\r\n        }\r\n      }\r\n\r\n    render() {\r\n\r\n      console.log(this.state.error);\r\n\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <Container component=\"main\" maxWidth=\"xs\">\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n\r\n                {this.state.error && \r\n                <p className=\"log-in_error-field\" >\r\n                    {this.state.error}\r\n                </p>}\r\n\r\n                <form className={classes.form} noValidate>\r\n                    <TextField\r\n                    onChange={(event) => this.onInputChangedHandler(event, 'password')}\r\n                    value={this.state.controls.password.value}\r\n                    error={!this.state.controls.password.valid && this.state.controls.password.touched}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    label=\"Новый пароль\"\r\n                    type=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    />\r\n                    <TextField\r\n                    onChange={(event) => this.onInputChangedHandler(event, 'confirmedPassword')}\r\n                    value={this.state.controls.confirmedPassword.value}\r\n                    error={!this.state.controls.confirmedPassword.valid && this.state.controls.confirmedPassword.touched}\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    fullWidth\r\n                    label=\"Подтвердите пароль\"\r\n                    type=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    />\r\n                    {this.state.loading ?\r\n                    <CircularProgress className={classes.circular} /> :\r\n                    <Button\r\n                    disabled={!this.state.formIsValid}\r\n                    onClick={(e) => this.onSubmitHandler(e)}\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.submit}\r\n                    >\r\n                      {'Сменить пароль'}\r\n                    </Button>}\r\n                </form>\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(RestorePassword);","import React from 'react';\nimport axios from 'axios';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { backendUrl } from './config/config';\nimport * as actions from './store/actions/index';\n\nimport Header from './components/Header/Header';\nimport ErrorComponent from './components/Errors/Error/Error'; \nimport NotMatchPage from './components/Errors/NotMatchPage/NotMatchPage';\n\nimport LogIn from './components/Auth/LogIn/LogIn';\nimport Pages from './components/Pages/Pages';\nimport Storage from './components/Storage/Storage';\nimport Clients from './components/Clients/Clients';\nimport Orders from './components/Orders/Orders';\nimport Editor from './components/Editor/Editor';\nimport Sending from './components/Sending/Sending';\nimport LogOut from './components/Auth/LogOut/LogOut';\nimport SuperAdminProfile from './components/SuperAdminProfile/SuperAdminProfile';\nimport ForgotPassword from './components/Auth/ForgotPassword/ForgotPassword';\nimport RestorePassword from './components/Auth/RestorePassword/RestorePassword';\n\nclass App extends React.Component {\n\n  state = {\n    loading: false,\n    error: false\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token-admin-panel-24rolls');\n    if ( token ) {\n      this.props.onResetToken(token);\n      if (!this.props.status) {\n        axios.get(backendUrl + '/admin/status', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        })\n        .then(res => {\n          console.log(res);\n          const status = res.data.status;\n          this.props.onSetAdminStatus(status);\n          this.setState({ error: false });\n        })\n        .catch(err => {\n          console.log(err, err.response);\n          this.setState({ error: true });\n        })\n        .finally(() => {\n          this.setState({ loading: false });\n        })\n      }\n    };\n  }\n\n  render() {\n\n    let routes;\n    if (!this.props.isAuth) {\n      routes = (\n        <Switch>\n              <Route \n              exact\n              key='route-1'\n              path=\"/log-in\" \n              component={LogIn} />\n              <Route \n              exact\n              key='route-2'\n              path=\"/forgot-password\" \n              component={ForgotPassword} />\n              <Route \n              key='route-3'\n              path=\"/restore-password/:token\" \n              component={RestorePassword} />\n              <Redirect exact from='/' to='/log-in' />\n              <Route key='route-4' component={NotMatchPage} />\n        </Switch>\n      );\n    } else {\n      routes = (\n        <Switch>\n          <Route path=\"/restore-password/:token\" component={RestorePassword} />\n          <Route path=\"/pages\" component={Pages} />\n          <Route path=\"/storage\" component={Storage} />\n          <Route path=\"/clients\" component={Clients} />\n          <Route path=\"/orders\" component={Orders} />\n          <Route path=\"/editor\" component={Editor} />\n          <Route path=\"/sending\" component={Sending} />\n          <Route path=\"/logout\" component={LogOut} />\n          { this.props.status && <Route path=\"/super-admin-profile\" component={SuperAdminProfile} /> }\n          <Redirect exact from='/' to='/storage' />\n          <Redirect exact from='/log-in' to='/storage' />\n          <Route key='route-4' component={NotMatchPage} />\n        </Switch>\n      );\n    }\n  \n    return (\n     <Header status={this.props.status}>\n       <>\n       {this.state.error \n       ?\n       <ErrorComponent />\n       :\n       routes}\n       </>\n     </Header>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  isAuth: state.auth.token !== null,\n  status: state.auth.status\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onResetToken: (token) => dispatch(actions.resetToken(token)),\n  onSetAdminStatus: (status) => dispatch(actions.setAdminStatus(status))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    token: null,\r\n    status: null,\r\n    loading: false,\r\n    error: null\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch ( action.type ) {\r\n        case actionTypes.AUTH_START:\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                loading: true,\r\n                error: null\r\n            };\r\n        case actionTypes.AUTH_FAILED:\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                loading: false,\r\n                error: action.error\r\n            };\r\n        case actionTypes.AUTH_LOGOUT:\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                status: null\r\n            }\r\n        case actionTypes.RESET_TOKEN:\r\n            return {\r\n                ...state,\r\n                token: action.token\r\n            };\r\n        case actionTypes.LOG_IN_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: null,\r\n                token: action.token,\r\n                status: action.status\r\n            }\r\n        case actionTypes.SET_ADMIN_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n// redux stuff\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport { Provider } from 'react-redux'; \nimport thunk from 'redux-thunk';\nimport authReducer from './store/reducers/auth';\n\n\nconst composeEnhancers = process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null || compose;\n\nconst rootReducer = combineReducers({\n  auth: authReducer\n});\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nconst app = (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(\n  app,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}