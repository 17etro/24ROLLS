{"version":3,"sources":["components/HeadingBlock/index.jsx","components/MobileFilters/MobileFilters.js","page/PageWrapper/index.jsx"],"names":["HeadingBlock","title","h","svg","className","MobileFilters","props","useCustomStore","state","dispatch","filters","map","el","blockedFilters","includes","_id","style","filterMode","border","onClick","type","ACTIONS","DROP_FILTER","SET_FILTER","filterId","alt","src","backendUrl","image","PageWrapper","React","memo","t","useTranslation","useState","filteredGoods","setFilteredGoods","article","setArticle","response","setResponse","loading","setLoading","err","setErr","useEffect","axios","get","url","then","res","data","products","setBreadProd","catch","finally","createJSONLD","length","name_ru","description_ru","percent","price","JSON","stringify","cityShop","store","customOptions","city","goodsWithCity","filter","valid","shop","name","forEach","categoryId","console","log","Helmet","async","seo_title","content","seo_description","Spinner","ErrorIndicator","CustomFoodBlock","key","food","width","window","innerWidth","smallMode","onLoad","obj","target","height","contentWindow","document","documentElement","scrollHeight","verflow","fontFamily","srcDoc"],"mappings":"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","file":"static/js/4.f63c10c4.chunk.js","sourcesContent":["import { props } from 'ramda';\nimport React from 'react';\nimport './index.scss';\n\nconst HeadingBlock = ({title, svg, h}) => {\n    return (\n        <div className=\"heading-blog\">\n            {h === 'h1' ? \n            <h1>\n                {title}\n            </h1> :\n            <h2>\n                {title}\n            </h2>}\n        </div>\n    )\n}\n\nexport default HeadingBlock;","import React from 'react';\r\nimport { backendUrl, blockedFilters } from '../../config/config';\r\nimport { useCustomStore } from '../../context/useStore';\r\nimport { ACTIONS } from '../../context/providerContext';\r\n\r\nimport './mobileFilters.scss';\r\n\r\nconst MobileFilters = (props) => {\r\n\r\n    const { state, dispatch } = useCustomStore();\r\n\r\n    return (\r\n        <div className=\"mobile-filters-block-content\">\r\n            {props.filters && props.filters.map((el) => {\r\n                if (blockedFilters.includes(el._id)) {\r\n                    return null;\r\n                } else {\r\n                    return (\r\n                        <div \r\n                        key={el._id}\r\n                        className=\"mobile-filters-block-content__container\"\r\n                        style={state.filterMode === el._id ? { border: '2px solid #F89F46'} : null}>\r\n                        <img\r\n                            onClick={\r\n                                state.filterMode === el._id ?\r\n                                () => dispatch({ type: ACTIONS.DROP_FILTER }) \r\n                                :\r\n                                () => dispatch({ type: ACTIONS.SET_FILTER, filterId: el._id })\r\n                            }\r\n                            className=\"mobile-filters-block-content__container__item\"\r\n                            alt={el.alt}\r\n                            src={backendUrl + '/' + el.image} \r\n                        />\r\n                        </div>\r\n                    );\r\n                }\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileFilters;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport store from 'store';\nimport { backendUrl } from '../../config/config';\nimport { useTranslation } from 'react-i18next';\nimport { useCustomStore } from '../../context/useStore';\nimport { Helmet } from 'react-helmet';\nimport {string} from \"prop-types\";\n\nimport './index.scss';\nimport CustomFoodBlock from \"../../components/CustomFoodBlock\";\nimport HeadingBlock from '../../components/HeadingBlock';\nimport MobileFilters from '../../components/MobileFilters/MobileFilters';\nimport Spinner from \"../../components/Spinner\";\nimport ErrorIndicator from \"../../components/Errors/ErrorIndicator\";\n\nconst PageWrapper = React.memo((props) => {\n    const {t} = useTranslation();\n    const [ filteredGoods, setFilteredGoods ] = useState([]);\n    const [ article, setArticle ] = useState(false);\n    const [ response, setResponse ] = useState([]);\n    const [ loading, setLoading ] = useState(false);\n    const [ err, setErr ] = useState(false);\n\n    const { state } = useCustomStore();\n\n    useEffect(() => {\n        setLoading(true);\n\n        axios.get(backendUrl + props.url)\n            .then(res => {\n                setResponse(res.data.products);\n                setArticle(res.data.article)\n                props.setBreadProd(res.data.products);\n                setErr(false);\n            })\n            .catch(err => {\n                setErr(true);\n            })\n            .finally(() => setLoading(false));\n    }, []);\n    const onLoadIFrame = (obj) => {\n        console.log(obj);\n        obj.target.style.height = obj.target.contentWindow.document.documentElement.scrollHeight + 'px';\n    }\n\n    const createJSONLD = () => {\n        const data = {\n            '@context': 'https://schema.org/',\n            \"@type\": \"ItemList\",\n            'description': `${props.title} Доставка. Заказывай ${props.title} с бесплатной доставкой в Днепре, Запорожье и Харькове✔️${props.title} от 15грн ☎ 050 719-24-24 ✔️ Онлайн заказ еды на дом,офис.`,\n            'name': props.title,\n            \"numberOfItems\": filteredGoods.length,\n            'itemListElement': filteredGoods.map(el => ({\n                '@type': 'Product',\n                'category': props.title,\n                'material': props.title,\n                'productID': el._id,\n                'slogan': el.name_ru,\n                'name': el.name_ru,\n                'brand': {\n                    '@type': 'Organization',\n                    'name': '24ROLLS',\n                    'address': 'Днепр, Запорожье',\n                    'location': 'Днепр, Запорожье'\n                },\n                'description': el.description_ru,\n                'image': el.image,\n                'offers': {\n                    '@type': 'Offer',\n                    'offeredBy': {\n                        '@type': 'Organization',\n                        'name': '24ROLLS',\n                        'address': 'Днепр, Запорожье',\n                        'location': 'Днепр, Запорожье'\n                    },\n                    'seller': {\n                        '@type': 'Organization',\n                        'name': '24ROLLS',\n                        'address': 'Днепр, Запорожье',\n                        'location': 'Днепр, Запорожье'\n                    },\n                    'category': props.title,\n                    'priceCurrency': 'UAH',\n                    'price': el.percent !== 0 ? (el.price * ( (100 - el.percent) / 100)) : el.price\n                }\n            }))\n        };\n\n        return JSON.stringify(data);\n    }\n\n    useEffect(() => {\n\n        const cityShop = store.get('24rolls').customOptions.city;\n\n        if (response) {\n            const goodsWithCity = response.filter(el => {\n                let valid = false;\n                if (cityShop === 'Dnipro') {\n                    el.shop.map(el => {\n                        if (el.name === 'Dp') valid = true;\n                    });\n                }\n                else if (cityShop === 'Zaporijja') {\n                    el.shop.forEach(el => {\n                        if (el.name === 'Zp' ) valid = true;\n                    });\n                }\n                else if (cityShop === 'Kharkov') {\n                    el.shop.forEach(el => {\n                        if (el.name === 'Kh' ) valid = true;\n                    });\n                }\n                \n                return valid;\n            });\n            setFilteredGoods(goodsWithCity);\n            props.setBreadProd(goodsWithCity);\n        }\n\n        if (state.filterMode) {\n            setLoading(true);\n            axios.get(backendUrl + `/products/filter/category/${props.categoryId}/${state.filterMode}`)\n                .then(res => {\n                    console.log(res);\n                    setFilteredGoods(res.data.products);\n                    setArticle(res.data.article);\n                    props.setBreadProd(res.data.products);\n                    setErr(false);\n                })\n                .catch(err => {})\n                .finally(() => setLoading(false));\n        }\n    }, [ state.filterMode, response ]);\n    \n    return (\n        <>\n        <div className={'rolls_container'}>\n            <Helmet>\n                <script async type=\"application/ld+json\">\n                    {createJSONLD()}\n                </script>\n                <title>{props.el.seo_title}</title>\n                        <meta\n                            name=\"description\"\n                            content={props.el.seo_description}\n                        />\n                        <meta\n                            name=\"keywords\"\n                            content={props.el.seo_description}\n                        />\n                        <script async type=\"application/ld+json\">\n                            {createJSONLD()}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"WebSite\", \"@id\": \"#website\", \"url\": \"https://24rolls.zp.ua/\", \"name\": \"\\u0421\\u0443\\u0448\\u0438 24Rolls Dnepr\", \"potentialAction\": { \"@type\": \"SearchAction\", \"target\": \"https://24rolls.zp.ua/?s={search_term_string}\", \"query-input\": \"required name=search_term_string\" } })}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"Organization\", \"url\": \"https://24rolls.zp.ua/\", \"contactPoint\": [{ \"@type\": \"ContactPoint\", \"telephone\": \"068 719 24 24\", \"contactType\": [\"customer service\", \"sales\"], \"areaServed\": [\"UA\"], \"contactOption\": [\"TollFree\"], \"availableLanguage\": [\"Russian\", \"Ukrainian\"] }], \"sameAs\": [\"https://www.youtube.com/channel/UCmJwKEidDraJtVdYtpnsJSA\", \"https://www.instagram.com/24rolls.com.ua/\"] })}\n                        </script>\n            </Helmet>\n            {!err &&\n                <>\n                    <HeadingBlock title={t(props.title)} svg={true} h={'h1'} />\n                    {<MobileFilters filters={props.filters} />}\n                </>\n            }\n            {loading && <Spinner /> }\n            {err && !loading && <ErrorIndicator />}\n            {\n                filteredGoods \n                && !loading \n                &&  !err &&\n                    <div className={'rolls_container_block'}>\n                        {\n                            filteredGoods.map(el =>\n                                <CustomFoodBlock \n                                {...props} \n                                style={'open-modal'} \n                                key={el._id} \n                                food={el} \n                                width={window.innerWidth < 610 ? true : false}\n                                smallMode={window.innerWidth < 450 ? true : false}\n                                />\n                            )\n                        }\n                    </div>\n            }\n            {\n                !filteredGoods[0] \n                && !loading \n                &&  !err &&\n                <p> {'Нет данных товаров...'} </p>\n            }\n            </div>\n            <div>\n            <iframe \n                 onLoad={onLoadIFrame}\n                 style={{\n                   width: '100%',\n                    border: 'none',\n                    height: '100%',\n                    verflow: 'visible',\n                    fontFamily: \"'Roboto', sans-serif\"\n                    }} \n                    srcDoc={article}\n                  >\n                {'Ваш браузер не поддерживает Frame'}\n             </iframe>\n            </div>\n        </>\n    )\n});\n\nPageWrapper.propTypes = {\n    title: string.isRequired,\n    url: string\n}\n\nexport default PageWrapper;"],"sourceRoot":""}