{"version":3,"sources":["page/CardProduct/HeaderBlock/index.jsx","page/CardProduct/index.jsx"],"names":["HeaderBlock","props","state","useCustomStore","useState","phone","setPhone","countBasket","setCountBasket","modalSuccess","setModalSuccess","loading","setLoading","error","setError","useEffect","undefined","cart","basket","find","el","id","food","_id","filter","el1","modalContent","style","display","alignItems","justifyContent","textAlign","color","fontWeight","fontSize","className","Modal","show","modalClosed","Spinner","ErrorIndicator","name_ru","weight","description_ru","onClick","percent","price","toFixed","Basket","count","title","format","mask","allowEmptyFormatting","value","onChange","event","target","items","product","quantity","axios","post","backendUrl","oplata","type","status","delivery","city","store","get","customOptions","address","text","name","comment","sdachaS","cutlery","email","bonus","then","res","catch","err","src","image","alt","onLoadIFrame","obj","height","contentWindow","document","documentElement","scrollHeight","CardProduct","setProduct","categoryProducts","setCategoryProducts","productRoute","match","params","route","categoryRoute","catRoute","data","products","routes","Helmet","seo_title_dp","seo_title_zp","seo_title","content","seo_description_dp","seo_description_zp","seo_description","seo_keywords_dp","seo_keywords_zp","seo_keywords","async","JSON","stringify","createJSONLD","SetsSlider","list","links","onLoad","width","border","verflow","fontFamily","srcDoc","article"],"mappings":"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","file":"static/js/10.b07522de.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport store from 'store';\nimport { backendUrl } from '../../../config/config';\n\nimport Spinner from '../../../components/Spinner/index';\nimport ErrorIndicator from '../../../components/Errors/ErrorIndicator/index';\nimport Modal from '../../../components/UI/Modal/Modal';\n\nimport './index.scss';\nimport {useCustomStore} from \"../../../context/useStore\";\nimport Basket from \"../../../components/Basket\";\nimport NumberFormat from 'react-number-format';\n\nconst HeaderBlock = (props) => {\n    const { state } = useCustomStore();\n\n    const [ phone, setPhone ] = useState('');\n    const [ countBasket, setCountBasket ] = useState(0);\n    const [ modalSuccess, setModalSuccess ] = useState(false);\n    const [ loading, setLoading ] = useState(false);\n    const [ error, setError ] = useState(false);\n\n\n    useEffect(() => {\n        setCountBasket(\n            state.cart.basket!== undefined &&\n            state.cart.basket.find(el => el.id === props.food._id) ?\n            state.cart.basket.filter(el1 => el1.id === props.food._id)[0].countBasket : 1\n        );\n    }, []);\n\n    const orderGood = () => {\n        setLoading(true);\n\n        const items = [{\n            product: props.food._id,\n            quantity: countBasket\n        }];\n\n            axios.post(backendUrl + \"/order/notAuth\", {\n                oplata: {\n                    type: \"cash\",\n                    status: \"not-paid\",\n                  },\n                delivery: {\n                status: \"courier\",\n                },\n                city: store.get(\"24rolls\").customOptions.city,\n                address: {\n                    text: '_',\n                    city: store.get(\"24rolls\").customOptions.city,\n                },\n                name: '-',\n                phone: phone,\n                comment: '',\n                sdachaS: '',\n                cutlery: 0,\n                items: items,\n                email: '',\n                bonus: 0,\n            })\n            .then(res => {\n                setPhone('');\n                setModalSuccess(true);\n                setCountBasket(1);\n                setLoading(false);\n                setError(false);\n            })\n            .catch(err => {\n               setLoading(false);\n               setError(true);\n            });\n    };\n\n    const modalContent = (\n        <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            textAlign: 'center'\n        }}>\n            <p style={{\n                color: \"green\",\n                textAlign: \"center\",\n                fontWeight: \"700\",\n                fontSize: \"24px\",\n            }}>\n                {'Ваш заказ находиться в обработке'}\n            </p>\n        </div>\n    );\n\n    return (\n        <div\n            className={'header-slider'}\n            key={props.food._id}\n        >\n            <Modal\n                show={modalSuccess}\n                modalClosed={() => setModalSuccess(false)}\n            >\n                {modalContent}\n            </Modal>\n            {loading && <Spinner />}\n            {error && <ErrorIndicator />}\n            {!loading && !error &&\n                <>\n                    <div className={'header-slider_list-block'}>\n                        <div className={'list-content'}>\n                            <div className={'list-content_header'}>\n                                <h1>{props.food.name_ru}</h1>\n                                <p>Вес {props.food.weight} г.</p>\n                                <span>{props.food.description_ru}</span>\n                            </div>\n                            <div className={'list-content_center'}>\n                                <button\n                                    onClick={() => setCountBasket(countBasket === 1 ? 1 : countBasket - 1)}\n                                >\n                                    -\n                                </button>\n                                <span><p> {countBasket} </p></span>\n                                <button\n                                    onClick={() => setCountBasket(countBasket + 1)}\n                                >\n                                    +\n                                </button>\n                            </div>\n                            <div className={'list-content_footer'}>\n                                <div className={'price'}>\n                                    <h2>\n                                        {props.food.percent !== 0 ? \n                                        (props.food.price * ( (100 - props.food.percent) / 100)).toFixed(1) : props.food.price} \n                                        грн.\n                                    </h2>\n                                    {\n                                        props.food.percent !== 0 && <p>{props.food.price} грн.</p>\n                                    }\n                                </div>\n                                <Basket \n                                    {...props} \n                                    count={countBasket}\n                                    food={props.food}\n                                    title={'button.toOrder'} \n                                    style={'open-modalTwo'} \n                                />\n                                <div className={'phone-input'}>\n                                    <NumberFormat \n                                        format=\"+38(0##) ### ## ##\" \n                                        mask=\"_\"\n                                        allowEmptyFormatting\n                                        value={phone} \n                                        onChange={(event)=> setPhone(event.target.value)}\n                                    />\n                                    <button \n                                        onClick={orderGood}\n                                        className={'price-button'}\n                                    >\n                                        {'Заказать в 1 клик'}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={'header-slider_image-block'}>\n                        <img\n                            src={backendUrl + `/${props.food.image}`}\n                            alt={props.food.name || \"24rolls\"}\n                        />\n                    </div>     \n                </>\n            }\n        </div>\n    )\n}\n\nexport default HeaderBlock;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { backendUrl } from '../../config/config';\nimport Helmet from 'react-helmet';\n\nimport HeaderBlock from \"./HeaderBlock\";\nimport SetsSlider from '../../components/SetsSlider'\nimport './index.scss'\nimport Spinner from \"../../components/Spinner\";\nimport ErrorIndicator from \"../../components/Errors/ErrorIndicator\";\n\nconst onLoadIFrame = (obj) => {\n    obj.target.style.height = obj.target.contentWindow.document.documentElement.scrollHeight + 'px';\n\n}\n\nconst CardProduct = (props) => {\n\n    const [ loading, setLoading ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ product, setProduct ] = useState(false);\n    const [ categoryProducts, setCategoryProducts ] = useState([]);\n\n    useEffect(() => {\n        const productRoute = props.match.params.route;\n        const categoryRoute = props.match.params.catRoute;\n        setLoading(true);\n        \n        axios.post(backendUrl + '/products/by/route', {\n            route: productRoute\n        })\n            .then(res => {\n                setProduct(res.data.products[0]);\n                setLoading(false);\n            })\n            .catch(err => {\n                setError(true);\n                setLoading(false);\n            });\n\n        axios.post(backendUrl + '/products/category/by/routes', {\n            routes: categoryRoute\n        })\n            .then(res => {\n                setCategoryProducts(res.data.products);\n                setError(false);\n                setLoading(false);\n            })\n            .catch(err => {\n                setError(true);\n                setLoading(false);\n            });\n        \n    }, [props]);\n\n    const createJSONLD = () => {\n        if (product) {\n            const data = {\n                \"@context\": \"https://schema.org\",\n                \"@type\": \"Product\",\n                \"description\": product.name_ru + '| ' + `${product.name_ru} Доставка. Заказывай ${product.name_ru} с бесплатной доставкой в Днепре, Запорожье, Харькове✔️Суши от 15грн ☎ 050 719-24-24 ✔️Роллы ✔️Сеты ✔️Wok ✔Онлайн заказ ${product.name_ru} на дом,офис.`,\n                \"name\": product.name_ru,\n                \"image\": backendUrl + '/' + product.image,\n                \"offers\": {\n                    \"@type\": \"Offer\",\n                    \"availability\": \"https://schema.org/InStock\",\n                    \"price\": product.percent !== 0 ? (product.price * ( (100 - product.percent) / 100)) : product.price ,\n                    \"priceCurrency\": \"UAH\"\n                  },\n            };\n    \n            return JSON.stringify(data);\n        }\n    };\n\n    const { \n        city\n    } = props\n\n    return (\n        <div className={'card-product'}>\n            {loading && <Spinner /> }\n            {error && <ErrorIndicator />}\n            {\n                product && categoryProducts && !error && !loading &&\n                <>\n                    <Helmet>\n                        <title>\n                            {\n                            city === 1 ? product.seo_title_dp :\n                            (city === 2 ? product.seo_title_zp : product.seo_title)\n                            }\n                        </title>\n                        <meta\n                            name=\"description\"\n                            content={\n                                city === 1 ? product.seo_description_dp :\n                                (city === 2 ? product.seo_description_zp : product.seo_description)\n                            }\n                        />\n                        <meta\n                            name=\"keywords\"\n                            content={\n                                city === 1 ? product.seo_keywords_dp :\n                                (city === 2 ? product.seo_keywords_zp : product.seo_keywords)\n                            }\n                        />\n                        <script async type=\"application/ld+json\">\n                            {createJSONLD()}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"WebSite\", \"@id\": \"#website\", \"url\": \"https://24rolls.zp.ua/\", \"name\": \"\\u0421\\u0443\\u0448\\u0438 24Rolls Dnepr\", \"potentialAction\": { \"@type\": \"SearchAction\", \"target\": \"https://24rolls.zp.ua/?s={search_term_string}\", \"query-input\": \"required name=search_term_string\" } })}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"Organization\", \"url\": \"https://24rolls.zp.ua/\", \"contactPoint\": [{ \"@type\": \"ContactPoint\", \"telephone\": \"068 719 24 24\", \"contactType\": [\"customer service\", \"sales\"], \"areaServed\": [\"UA\"], \"contactOption\": [\"TollFree\"], \"availableLanguage\": [\"Russian\", \"Ukrainian\"] }], \"sameAs\": [\"https://www.youtube.com/channel/UCmJwKEidDraJtVdYtpnsJSA\", \"https://www.instagram.com/24rolls.com.ua/\"] })}\n                        </script>\n                    </Helmet>\n                    <HeaderBlock {...props} food={product}/>\n                    <SetsSlider {...props} list={categoryProducts} title={true} links={true} />\n                    <div>\n                      <iframe \n                         onLoad={onLoadIFrame}\n                        style={{\n                         width: '100%',\n                         border: 'none',\n                         height: '100%',\n                         verflow: 'visible',\n                         fontFamily: \"'Roboto', sans-serif\"\n                        }} \n                         srcDoc={product.article}\n                        >\n                        {'Ваш браузер не поддерживает Frame'}\n                      </iframe>\n                \n                    </div>\n                </>\n            }\n        </div>\n    )\n}\n\nexport default CardProduct;"],"sourceRoot":""}