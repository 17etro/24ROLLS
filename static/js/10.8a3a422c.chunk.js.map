{"version":3,"sources":["page/CardProduct/HeaderBlock/index.jsx","page/CardProduct/index.jsx"],"names":["HeaderBlock","props","useCustomStore","state","dispatch","className","food","name_ru","undefined","cart","basket","find","el","id","_id","map","countBasket","weight","description_ru","src","min","alt","onClick","type","ACTIONS","REMOVE_TO_BASKET","payload","width","height","max","ADD_TO_BASKET","percent","price","toFixed","Basket","title","style","backendUrl","image","name","CardProduct","useState","loading","setLoading","error","setError","product","setProduct","categoryProducts","setCategoryProducts","useEffect","productRoute","match","params","route","categoryRoute","catRoute","axios","post","then","res","data","products","catch","err","routes","console","log","response","Spinner","ErrorIndicator","Helmet","seo_title","content","seo_description","seo_keywords","async","JSON","stringify","createJSONLD","SetsSlider","list"],"mappings":"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","file":"static/js/10.8a3a422c.chunk.js","sourcesContent":["import React from 'react';\nimport {object} from \"prop-types\";\nimport { backendUrl } from '../../../config/config';\n\nimport './index.scss';\nimport min from \"../../../assets/page/Rolls/min.svg\";\nimport max from \"../../../assets/page/Rolls/max.svg\";\nimport {ACTIONS} from \"../../../context/providerContext\";\nimport {useCustomStore} from \"../../../context/useStore\";\nimport Basket from \"../../../components/Basket\";\n\nconst HeaderBlock = (props) => {\n    const {state, dispatch} = useCustomStore();\n\n    return (\n        <div\n            className={'header-slider'}\n            key={props.food._id}\n        >\n            <div className={'header-slider_list-block'}>\n                <div className={'list-content'}>\n                    <div className={'list-content_header'}>\n                        <h1>{props.food.name_ru}</h1>\n                        <p>\n                            ({\n                                state.cart.basket!== undefined &&\n                                state.cart.basket.find(el => el.id === props.food._id) ?\n                                    state.cart.basket.map(el => {\n                                        if(el.id === props.food._id){\n                                            return el.countBasket\n                                        }\n                                    }) : 1\n                            } шт.) Вес {props.food.weight} г. \n                        </p>\n                        <span> {props.food.description_ru}</span>\n                    </div>\n                    <div className={'list-content_center'}>\n                        <amp-img\n                            src={min}\n                            alt={'-'}\n                            onClick={() => dispatch({type: ACTIONS.REMOVE_TO_BASKET, payload: props.food._id})}\n                            width={'12'}\n                            height={'62'}\n                        >\n                        </amp-img>\n                        <span>\n                                <p>\n                                    {\n                                        state.cart.basket!== undefined &&\n                                        state.cart.basket.find(el => el.id === props.food._id) ?\n                                            state.cart.basket.map(el => {\n                                                if(el.id === props.food._id){\n                                                    return el.countBasket\n                                                }\n                                            }) : 1\n                                    }\n                                </p>\n                            </span>\n                        <amp-img\n                            src={max}\n                            alt={'+'}\n                            onClick={() =>  dispatch({type: ACTIONS.ADD_TO_BASKET, payload: props.food})}\n                            width={'12'}\n                            height={'62'}\n                        >\n                        </amp-img>\n                    </div>\n                    <div className={'list-content_footer'}>\n                        <div className={'price'}>\n                            <h2>\n                                {props.food.percent !== 0 ? \n                                (props.food.price * ( (100 - props.food.percent) / 100)).toFixed(1) : props.food.price} \n                                грн.\n                            </h2>\n                            {\n                                props.food.percent !== 0 && <p>{props.food.price} грн.</p>\n                            }\n                        </div>\n                        <Basket {...props} title={'button.toOrder'} style={'open-modalTwo'} />\n                    </div>\n                </div>\n            </div>\n            <div className={'header-slider_image-block'}>\n                <img\n                    src={backendUrl + `/${props.food.image}`}\n                    alt={props.food.name}\n                />\n            </div>\n        </div>\n    )\n}\n\nHeaderBlock.propTypes = {\n    food: object.isRequired\n}\n\nexport default HeaderBlock;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { backendUrl } from '../../config/config';\nimport Helmet from 'react-helmet';\n\nimport HeaderBlock from \"./HeaderBlock\";\nimport SetsSlider from '../../components/SetsSlider'\nimport './index.scss'\nimport {useCustomStore} from \"../../context/useStore\";\nimport Spinner from \"../../components/Spinner\";\nimport ErrorIndicator from \"../../components/Errors/ErrorIndicator\";\n\nconst CardProduct = (props) => {\n\n    const [ loading, setLoading ] = useState(false);\n    const [ error, setError ] = useState(false);\n    const [ product, setProduct ] = useState(false);\n    const [ categoryProducts, setCategoryProducts ] = useState([]);\n\n    useEffect(() => {\n        const productRoute = props.match.params.route;\n        const categoryRoute = props.match.params.catRoute;\n        setLoading(true);\n        \n        axios.post(backendUrl + '/products/by/route', {\n            route: productRoute\n        })\n            .then(res => {\n                setProduct(res.data.products[0]);\n                setLoading(false);\n            })\n            .catch(err => {\n                setError(true);\n                setLoading(false);\n            });\n\n        axios.post(backendUrl + '/products/category/by/routes', {\n            routes: categoryRoute\n        })\n            .then(res => {\n                console.log(res);\n                setCategoryProducts(res.data.products);\n                setError(false);\n                setLoading(false);\n            })\n            .catch(err => {\n                console.log(err, err.response);\n                setError(true);\n                setLoading(false);\n            });\n        \n    }, [props]);\n\n    const createJSONLD = () => {\n        if (product) {\n            const data = {\n                \"@context\": \"https://schema.org\",\n                \"@type\": \"Product\",\n                \"description\": product.name_ru + '| ' + `${product.name_ru} Доставка. Заказывай ${product.name_ru} с бесплатной доставкой в Днепре, Запорожье, Харькове✔️Суши от 15грн ☎ 050 719-24-24 ✔️Роллы ✔️Сеты ✔️Wok ✔Онлайн заказ ${product.name_ru} на дом,офис.`,\n                \"name\": product.name_ru,\n                \"image\": backendUrl + '/' + product.image,\n                \"offers\": {\n                    \"@type\": \"Offer\",\n                    \"availability\": \"https://schema.org/InStock\",\n                    \"price\": product.percent !== 0 ? (product.price * ( (100 - product.percent) / 100)) : product.price ,\n                    \"priceCurrency\": \"UAH\"\n                  },\n            };\n    \n            return JSON.stringify(data);\n        }\n    };\n\n    return (\n        <div className={'card-product'}>\n            {loading && <Spinner /> }\n            {error && <ErrorIndicator />}\n            {\n                product && categoryProducts && !error && !loading &&\n                <>\n                    <Helmet>\n                        <title>{product.seo_title}</title>\n                        <meta\n                            name=\"description\"\n                            content={product.seo_description}\n                        />\n                        <meta\n                            name=\"keywords\"\n                            content={product.seo_keywords}\n                        />\n                        <script async type=\"application/ld+json\">\n                            {createJSONLD()}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"WebSite\", \"@id\": \"#website\", \"url\": \"https://24rolls.zp.ua/\", \"name\": \"\\u0421\\u0443\\u0448\\u0438 24Rolls Dnepr\", \"potentialAction\": { \"@type\": \"SearchAction\", \"target\": \"https://24rolls.zp.ua/?s={search_term_string}\", \"query-input\": \"required name=search_term_string\" } })}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"Organization\", \"url\": \"https://24rolls.zp.ua/\", \"contactPoint\": [{ \"@type\": \"ContactPoint\", \"telephone\": \"068 719 24 24\", \"contactType\": [\"customer service\", \"sales\"], \"areaServed\": [\"UA\"], \"contactOption\": [\"TollFree\"], \"availableLanguage\": [\"Russian\", \"Ukrainian\"] }], \"sameAs\": [\"https://www.youtube.com/channel/UCmJwKEidDraJtVdYtpnsJSA\", \"https://www.instagram.com/24rolls.com.ua/\"] })}\n                        </script>\n                    </Helmet>\n                    <HeaderBlock {...props} food={product}/>\n                    <SetsSlider {...props} list={categoryProducts} title={true} />\n                </>\n            }\n        </div>\n    )\n}\n\nexport default CardProduct;"],"sourceRoot":""}