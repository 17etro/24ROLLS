{"version":3,"sources":["components/HeadingBlock/index.jsx","components/MobileFilters/MobileFilters.js","page/PageWrapper/index.jsx","api/useFetch.jsx"],"names":["HeadingBlock","title","h","svg","className","MobileFilters","props","useCustomStore","state","dispatch","filters","map","el","style","filterMode","_id","border","onClick","type","ACTIONS","DROP_FILTER","SET_FILTER","filterId","alt","src","backendUrl","image","PageWrapper","React","memo","t","useTranslation","url","baseUrl","useState","isLoading","setIsLoading","response","setResponse","error","setError","method","resOption","useEffect","axios","then","res","data","catch","err","finally","useFetch","filteredGoods","setFilteredGoods","loading","setLoading","setErr","createJSONLD","length","name_ru","description_ru","percent","price","JSON","stringify","cityShop","store","get","customOptions","city","goodsWithCity","filter","valid","shop","name","forEach","categoryId","Helmet","async","content","property","Spinner","ErrorIndicator","CustomFoodBlock","key","food"],"mappings":"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","file":"static/js/4.0f1369f5.chunk.js","sourcesContent":["import { props } from 'ramda';\nimport React from 'react';\nimport './index.scss';\n\nconst HeadingBlock = ({title, svg, h}) => {\n    return (\n        <div className=\"heading-blog\">\n            {h === 'h1' ? \n            <h1>\n                {title}\n            </h1> :\n            <h2>\n                {title}\n            </h2>}\n        </div>\n    )\n}\n\nexport default HeadingBlock;","import React from 'react';\r\nimport { backendUrl } from '../../config/config';\r\nimport { useCustomStore } from '../../context/useStore';\r\nimport { ACTIONS } from '../../context/providerContext';\r\n\r\nimport './mobileFilters.scss';\r\n\r\nconst MobileFilters = (props) => {\r\n\r\n    const { state, dispatch } = useCustomStore();\r\n\r\n    return (\r\n        <div className=\"mobile-filters-block-content\">\r\n            {props.filters && props.filters.map((el) => {\r\n                return (\r\n                    <div \r\n                    className=\"mobile-filters-block-content__container\"\r\n                    style={state.filterMode === el._id ? { border: '2px solid #F89F46'} : null}>\r\n                    <img\r\n                        onClick={\r\n                            state.filterMode === el._id ?\r\n                            () => dispatch({ type: ACTIONS.DROP_FILTER }) \r\n                            :\r\n                            () => dispatch({ type: ACTIONS.SET_FILTER, filterId: el._id })\r\n                        }\r\n                        className=\"mobile-filters-block-content__container__item\"\r\n                        alt={el.alt}\r\n                        src={backendUrl + '/' + el.image} \r\n                    />\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileFilters;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport store from 'store';\nimport { backendUrl } from '../../config/config';\nimport { useTranslation } from 'react-i18next';\nimport { useCustomStore } from '../../context/useStore';\nimport { Helmet } from 'react-helmet';\nimport {string} from \"prop-types\";\n\nimport './index.scss';\nimport CustomFoodBlock from \"../../components/CustomFoodBlock\";\nimport HeadingBlock from '../../components/HeadingBlock';\nimport MobileFilters from '../../components/MobileFilters/MobileFilters';\nimport useFetch from \"../../api/useFetch\";\nimport Spinner from \"../../components/Spinner\";\nimport ErrorIndicator from \"../../components/Errors/ErrorIndicator\";\n\nconst PageWrapper = React.memo((props) => {\n    const {t} = useTranslation();\n    const [ response, error, isLoading ] = useFetch(props.url);\n    const [ filteredGoods, setFilteredGoods ] = useState([]);\n    const [ loading, setLoading ] = useState(false);\n    const [ err, setErr ] = useState(false);\n\n    const { state } = useCustomStore();\n\n\n    const createJSONLD = () => {\n        const data = {\n            '@context': 'https://schema.org/',\n            \"@type\": \"ItemList\",\n            'description': `${props.title} Доставка. Заказывай ${props.title} с бесплатной доставкой в Днепре, Запорожье и Харькове✔️${props.title} от 15грн ☎ 050 719-24-24 ✔️ Онлайн заказ еды на дом,офис.`,\n            'name': props.title,\n            \"numberOfItems\": filteredGoods.length,\n            'itemListElement': filteredGoods.map(el => ({\n                '@type': 'Product',\n                'category': props.title,\n                'material': props.title,\n                'productID': el._id,\n                'slogan': el.name_ru,\n                'name': el.name_ru,\n                'brand': {\n                    '@type': 'Organization',\n                    'name': '24ROLLS',\n                    'address': 'Днепр, Запорожье',\n                    'location': 'Днепр, Запорожье'\n                },\n                'description': el.description_ru,\n                'image': el.image,\n                'offers': {\n                    '@type': 'Offer',\n                    'offeredBy': {\n                        '@type': 'Organization',\n                        'name': '24ROLLS',\n                        'address': 'Днепр, Запорожье',\n                        'location': 'Днепр, Запорожье'\n                    },\n                    'seller': {\n                        '@type': 'Organization',\n                        'name': '24ROLLS',\n                        'address': 'Днепр, Запорожье',\n                        'location': 'Днепр, Запорожье'\n                    },\n                    'category': props.title,\n                    'priceCurrency': 'UAH',\n                    'price': el.percent !== 0 ? (el.price * ( (100 - el.percent) / 100)) : el.price\n                }\n            }))\n        };\n\n        return JSON.stringify(data);\n    }\n\n    useEffect(() => {\n\n        const cityShop = store.get('24rolls').customOptions.city;\n\n        if (response) {\n            const goodsWithCity = response.filter(el => {\n                let valid = false;\n                if (cityShop === 'Dnipro') {\n                    el.shop.map(el => {\n                        if (el.name === 'Dp') valid = true;\n                    });\n                }\n                else if (cityShop === 'Zaporijja') {\n                    el.shop.forEach(el => {\n                        if (el.name === 'Zp' ) valid = true;\n                    });\n                }\n                else if (cityShop === 'Kharkov') {\n                    el.shop.forEach(el => {\n                        if (el.name === 'Kh' ) valid = true;\n                    });\n                }\n                \n                return valid;\n            });\n            setFilteredGoods(goodsWithCity);\n        }\n\n        if (state.filterMode) {\n            setLoading(true);\n            axios.get(backendUrl + `/products/filter/category/${props.categoryId}/${state.filterMode}`)\n                .then(res => {\n                    setFilteredGoods(res.data);\n                    setErr(false);\n                })\n                .catch(err => {})\n                .finally(() => setLoading(false));\n        }\n    }, [ state.filterMode, response ]);\n    \n    return (\n        <div className={'rolls_container'}>\n            <Helmet>\n                <script async type=\"application/ld+json\">\n                    {createJSONLD()}\n                </script>\n                <title>{'24ROLLS | ' + props.title}</title>\n                        <meta\n                            name=\"description\"\n                            content={`${props.title} Доставка. Заказывай ${props.title} с бесплатной доставкой в Днепре, Запорожье и Харькове✔️${props.title} от 15грн ☎ 050 719-24-24 ✔️ Онлайн заказ еды на дом,офис.`}\n                        />\n                        <meta\n                            name=\"keywords\"\n                            content=\"Заказать суши, роллы, wok, пасту, салаты, супы, напитки, доставка, Днепр, Запорожье, Харьков, вкусно, быстрая доставка, акции, скидки, выгодные предложения, подарки, блог и статти кулинарии, как приготовить суши, круглосуточная доставка суши, 24ROLLS, rolls, 24rolls.zp.ua\"\n                        />\n                        <meta property=\"twitter:title\" content=\"ROLLS24\" />\n                        <meta property=\"og:title\" content=\"ROLLS24\" />\n                        <meta\n                            name=\"twitter:description\"\n                            content={`${props.title} Доставка. Заказывай ${props.title} с бесплатной доставкой в Днепре, Запорожье и Харькове✔️${props.title} от 15грн ☎ 050 719-24-24 ✔️ Онлайн заказ еды на дом,офис.`}\n                        />\n                        <meta\n                            name=\"og:description\"\n                            content={`${props.title} Доставка. Заказывай ${props.title} с бесплатной доставкой в Днепре, Запорожье и Харькове✔️${props.title} от 15грн ☎ 050 719-24-24 ✔️ Онлайн заказ еды на дом,офис.`}\n                        />\n                        <script async type=\"application/ld+json\">\n                            {createJSONLD()}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"WebSite\", \"@id\": \"#website\", \"url\": \"https://24rolls.zp.ua/\", \"name\": \"\\u0421\\u0443\\u0448\\u0438 24Rolls Dnepr\", \"potentialAction\": { \"@type\": \"SearchAction\", \"target\": \"https://24rolls.zp.ua/?s={search_term_string}\", \"query-input\": \"required name=search_term_string\" } })}\n                        </script>\n                        <script type=\"application/ld+json\">\n                            {JSON.stringify({ \"@context\": \"http://schema.org\", \"@type\": \"Organization\", \"url\": \"https://24rolls.zp.ua/\", \"contactPoint\": [{ \"@type\": \"ContactPoint\", \"telephone\": \"068 719 24 24\", \"contactType\": [\"customer service\", \"sales\"], \"areaServed\": [\"UA\"], \"contactOption\": [\"TollFree\"], \"availableLanguage\": [\"Russian\", \"Ukrainian\"] }], \"sameAs\": [\"https://www.youtube.com/channel/UCmJwKEidDraJtVdYtpnsJSA\", \"https://www.instagram.com/24rolls.com.ua/\"] })}\n                        </script>\n            </Helmet>\n            {!err && !error &&\n                <>\n                    <HeadingBlock title={t(props.title)} svg={true} h={'h1'} />\n                    {<MobileFilters filters={props.filters} />}\n                </>\n            }\n            {( isLoading || loading ) && <Spinner /> }\n            {(error || err ) && !isLoading && !loading && <ErrorIndicator />}\n            {\n                filteredGoods \n                && !isLoading \n                && !loading \n                &&  !err\n                && !error &&\n                    <div className={'rolls_container_block'}>\n                        {\n                            filteredGoods.map(el =>\n                                <CustomFoodBlock \n                                {...props} \n                                style={'open-modal'} \n                                key={el._id} \n                                food={el} \n                                />\n                            )\n                        }\n                    </div>\n            }\n            {\n                !filteredGoods[0] \n                && !isLoading \n                && !loading \n                &&  !err\n                && !error &&\n                <p> {'Нет данных товаров...'} </p>\n            }\n        </div>\n    )\n});\n\nPageWrapper.propTypes = {\n    title: string.isRequired,\n    url: string\n}\n\nexport default PageWrapper;","import {useState, useEffect} from 'react';\nimport { backendUrl } from '../config/config';\nimport axios from 'axios';\n\n// const baseUrl = 'https://24rolls.retailcrm.ru/app/api/';\n\nexport default (url) => {\n    const baseUrl = backendUrl;\n    const [isLoading, setIsLoading] = useState(true);\n    const [response, setResponse] = useState(null);\n    const [error, setError] = useState(null);\n    const [resOption, setResOption] = useState({method: \"GET\"});\n    \n    useEffect(() => {\n        if(!isLoading) {\n            setIsLoading(true)\n        }\n        axios(baseUrl + url, resOption)\n            .then(res => {\n                setResponse(res.data);\n            })\n            .catch(err => {\n                setError(err);\n            })\n            .finally(() => {\n                setIsLoading(false);\n            })\n    }, [url, resOption])\n    return [response, error, isLoading]\n}\n"],"sourceRoot":""}